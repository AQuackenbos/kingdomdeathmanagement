(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["hunt"],{"01a6":function(t,e,s){},"0878":function(t,e,s){"use strict";s("8bb8")},"129a":function(t,e,s){"use strict";s("96b8")},2445:function(t,e,s){"use strict";s("edcf")},"3dbd":function(t,e,s){"use strict";s("99af"),s("4160"),s("13d5"),s("ac1f"),s("1276"),s("159b");var i=s("dc59"),a=s("460b");e["a"]={data:function(){return{survivor:a["h"],statKeys:["movement","accuracy","strength","evasion","luck","speed"],hitLocations:["head","arms","body","waist","legs"],survivalAbilities:["dodge","encourage","surge","dash","endure"]}},computed:{tooltips:function(){return{xp:{1:'<span class="bl-story-event mr-1"></span><span class="has-text-weight-bold">Age</span>',5:'<span class="bl-story-event mr-1"></span><span class="has-text-weight-bold">Age</span>',9:'<span class="bl-story-event mr-1"></span><span class="has-text-weight-bold">Age</span>',14:'<span class="bl-story-event mr-1"></span><span class="has-text-weight-bold">Age</span>',15:"Retired"},wp:{2:"Specialist",7:"Master"},courage:{2:'<span class="bl-story-event mr-1"></span><span class="has-text-weight-bold">Bold</span>',8:'<span class="bl-story-event mr-1"></span><span class="has-text-weight-bold">See the Truth</span>'},understanding:{2:'<span class="bl-story-event mr-1"></span><span class="has-text-weight-bold">Insight</span>',8:'<span class="bl-story-event mr-1"></span><span class="has-text-weight-bold">White Secret</span>'}}},genderIcon:function(){return"M"===this.survivor.lifetime.gender?"mars":"F"===this.survivor.lifetime.gender?"venus":"transgender"},injuries:function(){if(!this.survivor)return[];var t=this.survivor.defenses,e=[];return this.hitLocations.forEach((function(s){t[s].severe.forEach((function(t){e.push({type:s,description:t})}))})),e},dead:function(){return!!this.survivor&&(null!==this.survivor.lifetime.died&&""!==this.survivor.lifetime.died)}},methods:{_setBoxValue:function(t,e,s,i,a){t[e]===s&&(s-=1),t[e]=s,this.saveField(i,a)},setWeaponProficiency:function(t){this._setBoxValue(this.survivor.weapon,"proficiency",t,"weapon.proficiency","wp")},setUnderstandingLevel:function(t){this._setBoxValue(this.survivor.mentality.understanding,"level",t,"mentality.understanding.level","understanding")},setCourageLevel:function(t){this._setBoxValue(this.survivor.mentality.courage,"level",t,"mentality.courage.level","courage")},setExperience:function(t){this._setBoxValue(this.survivor.lifetime,"experience",t,"lifetime.experience","xp")},toggleAbility:function(t,e){this.survivor.mentality[t].abilities[e].granted=!this.survivor.mentality[t].abilities[e].granted,this.saveField("mentality.".concat(t,".abilities.").concat(e,".granted"),"courage")},saveField:function(t,e){if(this.survivor){var s=t.split(".").reduce((function(t,e){return t[e]}),this.survivor),a={};a[t]=s;var n=this.$buefy.loading.open({container:this.$refs[e].$el});i["a"].collection("campaigns/".concat(this.campaign.id,"/survivors")).doc(this.survivor.id).update(a).then((function(){return n.close()}))}},saveListField:function(t,e){this.saveField(t,e)}}}},"460b":function(t,e,s){"use strict";s.d(e,"f",(function(){return n})),s.d(e,"d",(function(){return r})),s.d(e,"e",(function(){return l})),s.d(e,"b",(function(){return o})),s.d(e,"g",(function(){return c})),s.d(e,"h",(function(){return u})),s.d(e,"a",(function(){return a})),s.d(e,"c",(function(){return i}));var i={active:!0,quarry:null,members:[],state:"setup"},a={expansions:[],active:!0,ended:!1,ending:{year:null,details:null},quarries:[],locations:[],year:0,survival:{max:1},bonuses:{departing:"",arriving:"",other:""},milestones:[{trigger:"First child is born",consequence:"Principle: New Life"},{trigger:"First time death count is updated",consequence:"Principle: Death"},{trigger:"Settlement has 5 innovations",consequence:"Hooded Knight"},{trigger:"Population reaches 15",consequence:"Principle: Society"},{trigger:"Population reaches 0",consequence:"Game Over"}],principles:{new_life:{name:"New Life",choices:["Protect the Young","Survival of the Fittest"],selected:null},death:{name:"Death",choices:["Cannibalize","Graves"],selected:null},society:{name:"Society",choices:["Collective Toil","Accept Darkness"],selected:null},conviction:{name:"Conviction",choices:["Barbaric","Romantic"],selected:null}}},n=["white_lion"],r=[{id:"language",deck:!0,innovated:!1,year:null}],l=["lantern_hoard"],o=[{name:"Returning Survivors",year:1},{name:"Endless Screams",year:2},{name:"Hands of Heat",year:5},{name:"Armored Strangers",year:6},{name:"Phoenix Feather",year:7},{name:"Regal Visit",year:11},{name:"Principle: Conviction",year:12},{name:"Watched",year:20}],c=[{name:"Butcher",level:1,year:4},{name:"King's Man",level:1,year:9},{name:"The Hand",level:1,year:13},{name:"Butcher",level:2,year:16},{name:"King's Man",level:2,year:19},{name:"Butcher",level:3,year:23},{name:"Watcher",level:0,year:25},{name:"King's Man",level:3,year:28},{name:"Gold Smoke Knight",level:0,year:30}],u={stats:{movement:{base:5,other:0},accuracy:{base:0,other:0},strength:{base:0,other:0},evasion:{base:0,other:0},luck:{base:0,other:0},speed:{base:0,other:0}},hunt:{special:{bleed:0},tokens:{movement:{plus:0,minus:0},accuracy:{plus:0,minus:0},strength:{plus:0,minus:0},evasion:{plus:0,minus:0},luck:{plus:0,minus:0},speed:{plus:0,minus:0},other:[]},abilities:{dodge:!1,encourage:!1,surge:!1,dash:!1,endure:!1},actions:{action:!1,movement:!1}},survival:{amount:0,abilities:{dodge:!1,encourage:!1,surge:!1,dash:!1,endure:!1},skipHunt:null},lifetime:{name:null,gender:null,experience:0,born:null,father:null,mother:null,died:null,cause:null,retired:!1,cannot:{fightingArts:!1,survival:!1,hunt:!1},reroll:{available:!1,used:!1},notes:null},defenses:{arms:{value:0,max:0,light:!1,heavy:!1,severe:[]},body:{value:0,max:0,light:!1,heavy:!1,severe:[]},brain:{value:0,max:0,light:!1},head:{value:0,max:0,heavy:!1,severe:[]},legs:{value:0,max:0,light:!1,heavy:!1,severe:[]},waist:{value:0,max:0,light:!1,heavy:!1,severe:[]}},abilities:{abilities:[],disorders:[],fightingArts:[],impairments:[]},mentality:{courage:{level:0,abilities:{stalwart:{name:"Stalwart",granted:!1,description:"Can't be knocked down by brain trauma or intimidate."},prepared:{name:"Prepared",granted:!1,description:"Add Hunt XP to your roll when determining a straggler."},matchmaker:{name:"Matchmaker",granted:!1,description:"Spend 1 endeavor to trigger intimacy story event."}}},understanding:{level:0,abilities:{analyze:{name:"Analyze",granted:!1,description:"Look at the top AI card and return it to the top of the deck."},explore:{name:"Explore",granted:!1,description:"Add +2 to your investigate roll results."},tinker:{name:"Tinker",granted:!1,description:"+1 endeavor when you are a returning survivor."}}}},weapon:{selected:null,proficiency:0}}},"68b2":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"columns is-multiline"},[s("div",{staticClass:"column is-12"},[s("h1",{staticClass:"title"},[t._v("Gear Up Survivor")]),s("hr"),s("section",{staticClass:"section"},[s("div",{staticClass:"columns is-multiline add-member"},[s("div",{staticClass:"column is-2"},[s("b-menu",[s("b-menu-list",{attrs:{label:"Survivors"}},t._l(t.validSurvivors,(function(e){return s("b-menu-item",{key:e.id,on:{click:function(s){return s.preventDefault(),t.pickSurvivor(e)}},scopedSlots:t._u([{key:"label",fn:function(){return["M"===e.lifetime.gender?s("span",[s("b-icon",{attrs:{size:"is-small",icon:"mars"}})],1):"F"===e.lifetime.gender?s("span",[s("b-icon",{attrs:{size:"is-small",icon:"venus"}})],1):s("span",[s("b-icon",{attrs:{size:"is-small",icon:"genderless"}})],1),t._v(" "+t._s(e.lifetime.name)+" ")]},proxy:!0}],null,!0)})})),1)],1)],1),s("div",{staticClass:"column is-4"},[null!==t.currentSurvivor?s("div",{staticClass:"survivor"},[s("b-field",[t.currentSurvivor.lifetime.cannot.survival?s("span",{staticClass:"tag is-danger is-light"},[t._v("Cannot Spend Survival")]):t._e(),t.currentSurvivor.lifetime.cannot.fightingArts?s("span",{staticClass:"tag is-danger is-light"},[t._v("Cannot Use Fighting Arts")]):t._e(),t.currentSurvivor.lifetime.reroll.used?s("span",{staticClass:"tag is-danger is-light"},[t._v("Lifetime Reroll Used")]):t.currentSurvivor.lifetime.reroll.available?s("span",{staticClass:"tag is-success is-light"},[t._v("Lifetime Reroll Available")]):t._e()]),s("b-field",{attrs:{grouped:""}},[s("b-field",{staticClass:"is-flex is-align-items-center",attrs:{expanded:""}},[s("strong",[t._v(t._s(t.currentSurvivor.lifetime.name))])]),s("b-field",[s("b-select",{attrs:{icon:"transgender",value:t.currentSurvivor.lifetime.gender,size:"is-small",disabled:""}},[s("option",{attrs:{value:"M"}},[t._v("M")]),s("option",{attrs:{value:"F"}},[t._v("F")])])],1),s("b-field",{attrs:{label:"SRV","label-position":"on-border"}},[s("b-input",{staticClass:"stat-box",attrs:{size:"is-small",value:t.currentSurvivor.survival.amount,disabled:""}})],1)],1),s("b-field",{attrs:{label:"XP","label-position":"on-border",expanded:""}},[s("b-slider",{attrs:{min:0,max:16,ticks:"",indicator:"",value:t.currentSurvivor.lifetime.experience,disabled:""}})],1),s("div",{staticClass:"level"},t._l(["movement","accuracy","strength","evasion","luck","speed"],(function(e){return s("b-field",{key:e,staticClass:"level-item",attrs:{label:t.shortname[e],"label-position":"on-border"}},[s("b-input",{staticClass:"stat-box",attrs:{size:"is-small",value:t.currentSurvivor.stats[e].base,disabled:""}})],1)})),1),t.currentSurvivor.weapon.selected?s("b-field",{attrs:{grouped:""}},[s("b-field",{staticClass:"is-flex is-align-items-center",attrs:{label:"Weapon Proficiency","label-position":"on-border"}},[s("strong",[t._v(t._s(t.currentSurvivor.weapon.selected))])]),s("b-field",{attrs:{expanded:""}},[s("b-slider",{attrs:{min:0,max:8,ticks:"",indicator:"",value:t.currentSurvivor.weapon.proficiency,disabled:""}})],1)],1):t._e(),s("b-field",{attrs:{grouped:""}},[s("b-field",{attrs:{label:"Courage","label-position":"on-border",expanded:""}},[s("b-slider",{attrs:{min:0,max:9,ticks:"",indicator:"",value:t.currentSurvivor.mentality.courage.level,disabled:""}})],1),s("b-field",{attrs:{label:"Understanding","label-position":"on-border",expanded:""}},[s("b-slider",{attrs:{min:0,max:9,ticks:"",indicator:"",value:t.currentSurvivor.mentality.understanding.level,disabled:""}})],1)],1),s("b-field",{attrs:{grouped:""}},[s("b-field",{attrs:{expanded:""}},t._l(["matchmaker","prepared","stalwart"],(function(e){return s("div",{key:e},[t.currentSurvivor.mentality.courage.abilities[e].granted?s("span",{staticClass:"is-size-7"},[s("b-icon",{staticClass:"mr-1",attrs:{size:"is-small",icon:"check"}}),t._v(t._s(t.capitalize(e)))],1):t._e()])})),0),s("div",{staticClass:"divider is-vertical"}),s("b-field",{attrs:{expanded:""}},t._l(["analyze","explore","tinker"],(function(e){return s("div",{key:e},[t.currentSurvivor.mentality.understanding.abilities[e].granted?s("span",{staticClass:"is-size-7"},[s("b-icon",{staticClass:"mr-1",attrs:{size:"is-small",icon:"check"}}),t._v(t._s(t.capitalize(e)))],1):t._e()])})),0)],1),s("div",{staticClass:"level"},[s("div",{staticClass:"level-item"},[s("ul",[s("li",{staticClass:"subtitle"},[t._v("Fighting Arts")]),t._l(t.currentSurvivor.abilities.fightingArts,(function(e,i){return s("li",{key:i,staticClass:"is-size-7"},[t._v(t._s(e))])}))],2)]),s("div",{staticClass:"level-item"},[s("ul",[s("li",{staticClass:"subtitle"},[t._v("Disorders")]),t._l(t.currentSurvivor.abilities.disorders,(function(e,i){return s("li",{key:i,staticClass:"is-size-7"},[t._v(t._s(e))])}))],2)]),s("div",{staticClass:"level-item"},[s("ul",[s("li",{staticClass:"subtitle"},[t._v("Abilities")]),t._l(t.currentSurvivor.abilities.abilities,(function(e,i){return s("li",{key:i,staticClass:"is-size-7"},[t._v(t._s(e))])}))],2)])]),s("div",{staticClass:"level"},[s("div",{staticClass:"level-item"},[s("ul",[s("li",{staticClass:"subtitle"},[t._v("Impairments")]),t._l(t.currentSurvivor.abilities.impairments,(function(e,i){return s("li",{key:i,staticClass:"is-size-7"},[t._v(t._s(e))])}))],2)]),t._m(0)])],1):s("div",[s("b-icon",{staticClass:"mt-6",staticStyle:{color:"#ddd"},attrs:{icon:"male",size:"is-large"}})],1)]),s("div",{staticClass:"column is-4"},[null!==t.grid?s("div",{staticClass:"gridview"},[s("div",{staticClass:"subtitle"},[t._v("Calculated Stats")]),s("div",{staticClass:"divider"},[t._v("ARMOR")]),s("div",{staticClass:"armor-description level"},[s("div",{staticClass:"level-item has-text-centered"},[s("div",[t._m(1),s("p",{staticClass:"contet armor-block"},[s("span",{staticClass:"bl-armor"}),s("span",{staticClass:"amount"},[t._v(t._s(t.armors().head))])])])]),s("div",{staticClass:"level-item has-text-centered"},[s("div",[t._m(2),s("p",{staticClass:"contet armor-block"},[s("span",{staticClass:"bl-armor"}),s("span",{staticClass:"amount"},[t._v(t._s(t.armors().arms))])])])]),s("div",{staticClass:"level-item has-text-centered"},[s("div",[t._m(3),s("p",{staticClass:"contet armor-block"},[s("span",{staticClass:"bl-armor"}),s("span",{staticClass:"amount"},[t._v(t._s(t.armors().body))])])])]),s("div",{staticClass:"level-item has-text-centered"},[s("div",[t._m(4),s("p",{staticClass:"contet armor-block"},[s("span",{staticClass:"bl-armor"}),s("span",{staticClass:"amount"},[t._v(t._s(t.armors().waist))])])])]),s("div",{staticClass:"level-item has-text-centered"},[s("div",[t._m(5),s("p",{staticClass:"contet armor-block"},[s("span",{staticClass:"bl-armor"}),s("span",{staticClass:"amount"},[t._v(t._s(t.armors().legs))])])])])]),s("div",{staticClass:"divider"},[t._v("BONUSES")]),s("div",{staticClass:"level"},t._l(Object.keys(t.bonuses().stats),(function(e){return s("b-field",{key:e,staticClass:"level-item",attrs:{label:t.shortname[e],"label-position":"on-border"}},[s("b-input",{staticClass:"stat-box",attrs:{size:"is-small",value:t.bonuses().stats[e],disabled:""}})],1)})),1),s("ul",t._l(t.bonuses().text,(function(e,i){return s("li",{key:i,staticClass:"is-size-7",domProps:{innerHTML:t._s(e)}})})),0),s("div",{staticClass:"divider"},[t._v("AFFINITIES")]),t._l(["red","blue","green"],(function(e){return s("span",{key:e},t._l(t.affinities()[e],(function(t){return s("b-icon",{key:t,style:{color:e},attrs:{icon:"square-full"}})})),1)})),s("div",{staticClass:"divider"},[t._v("SET BONUSES")]),s("ul",t._l(t.armorSetProgress().filter((function(t){return t.progress>=t.piecesRequired})),(function(e){return s("li",{key:e.id,staticClass:"is-size-7"},[s("p",{staticClass:"header"},[s("strong",[t._v(t._s(e.name))])]),s("hr",{staticStyle:{width:"75%","text-align":"center",margin:".5em auto"}}),s("div",{staticClass:"content"},t._l(e.bonuses,(function(e,i){return s("p",{key:i},["armor"===e.type?s("span",[t._v(" Add +"),s("span",{staticClass:"armor-block"},[s("span",{staticClass:"bl-armor"}),s("span",{staticClass:"amount"},[t._v(t._s(e.amount))])]),t._v(" to all hit locations. ")]):"ability"===e.type?s("span",[s("strong",[t._v(t._s(e.name))]),t._v(": "),s("span",{domProps:{innerHTML:t._s(t.parseBlock(e.description))}})]):s("span",{domProps:{innerHTML:t._s(e.description)}})])})),0)])})),0)],2):s("div",[s("b-icon",{staticClass:"mt-6",staticStyle:{color:"#ddd"},attrs:{icon:"th",size:"is-large"}})],1)]),s("div",{staticClass:"column is-2"},[s("b-menu",[s("b-menu-list",{attrs:{label:"Grids"}},t._l(t.validGrids,(function(e){return s("b-menu-item",{key:e.id,on:{click:function(s){return s.preventDefault(),t.pickGrid(e)}},scopedSlots:t._u([{key:"label",fn:function(){return[s("div",{staticClass:"tile is-flex-wrap-wrap"},t._l(e.previews,(function(e,i){return s("div",{key:i,staticClass:"tile is-4 is-justify-content-center"},[s("div",{staticClass:"box preview-card"},[s("span",{class:"bl-"+t.translate[e]})])])})),0),t._v(" "+t._s(e.name)+" ")]},proxy:!0}],null,!0)})})),1)],1)],1),t.currentSurvivor&&t.grid?s("div",{staticClass:"column is-8 is-offset-2"},[s("div",{staticClass:"divider"},[t._v("Equipped Stats")]),s("div",{staticClass:"level"},t._l(["movement","accuracy","strength","evasion","luck","speed"],(function(e){return s("b-field",{key:e,staticClass:"level-item",attrs:{label:t.capitalize(e),"label-position":"on-border"}},[s("b-input",{staticClass:"stat-box",attrs:{size:"is-medium",value:parseInt(t.currentSurvivor.stats[e].base)+parseInt(t.bonuses().stats[e]),disabled:""}})],1)})),1),s("b-button",{attrs:{type:"is-success",expanded:""},on:{click:function(e){return t.showCombinedSurvivor()}}},[t._v("Load Survivor Sheet")])],1):t._e()])])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"level-item"},[s("ul",[s("li",{staticClass:"subtitle"},[t._v("Severe Injuries")]),s("li",{staticClass:"is-size-7"},[t._v("(WIP)")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"heading"},[s("span",{staticClass:"bl-head"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"heading"},[s("span",{staticClass:"bl-arms"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"heading"},[s("span",{staticClass:"bl-body"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"heading"},[s("span",{staticClass:"bl-waist"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"heading"},[s("span",{staticClass:"bl-legs"})])}],n=(s("99af"),s("4de4"),s("5530")),r=s("2f62"),l=s("7abd"),o={name:"SurvivorSetup",mixins:[l["a"]],data:function(){return{currentSurvivor:null,grid:null}},computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])(["grids","survivors"])),{},{validSurvivors:function(){var t=this;return this.survivors.filter((function(e){var s;return(null===e.lifetime.died||""===e.lifetime.died)&&!e.lifetime.cannot.hunt&&e.survival.skipHunt!==(null===(s=t.campaign)||void 0===s?void 0:s.year)}))},validGrids:function(){return this.grids}}),methods:{pickSurvivor:function(t){this.currentSurvivor=t},pickGrid:function(t){this.grid=t},showCombinedSurvivor:function(){this.$router.push("/hunt/control/survivor/".concat(this.currentSurvivor.id,"/grid/").concat(this.grid.id))}}},c=o,u=(s("0878"),s("0c7c")),d=Object(u["a"])(c,i,a,!1,null,"ab25073a",null);e["default"]=d.exports},"72d0":function(t,e,s){"use strict";s("01a6")},"81d7":function(t,e,s){"use strict";s("d7f5")},"8bb8":function(t,e,s){},"8bc0":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return!t.showLoading&&t.survivor&&t.grid?s("div",{staticClass:"columns is-multiline"},[s("div",{ref:"actions",staticClass:"column is-12"},[s("b-message",{attrs:{type:"is-info"}},[s("b-button",{staticClass:"mx-2",attrs:{type:"is-success","icon-left":"plus-square"},on:{click:t.actionFullHeal}},[t._v(" Full Heal Survivor ")]),s("b-button",{staticClass:"mx-2",attrs:{type:"is-info","icon-left":"recycle"},on:{click:t.actionResetRound}},[t._v(" Reset Round ")]),s("b-button",{staticClass:"mx-2",attrs:{type:"is-primary","icon-left":"question-circle"},on:{click:t.actionManageTokens}},[t._v(" Add/Remove Tokens ")]),s("b-button",{staticClass:"mx-2",attrs:{type:"is-danger","icon-left":"certificate"},on:{click:t.actionTakeDamage}},[t._v(" Take Damage ")]),t.survivor.lifetime.reroll.available&&!t.survivor.lifetime.reroll.used?s("b-button",{staticClass:"mx-2",attrs:{type:"is-warning","icon-left":"dice-d20"},on:{click:t.actionUseReroll}},[t._v(" Use Lifetime Reroll ")]):t._e(),s("b-button",{staticClass:"mx-2",attrs:{type:"is-black","icon-left":"skull"},on:{click:t.actionKillSurvivor}},[t._v(" Kill Survivor ")])],1),s("b-modal",{staticClass:"tokens",attrs:{"destroy-on-hide":!0,"aria-role":"dialog","aria-modal":"","trap-focus":"","has-modal-card":""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("ManageTokens",{attrs:{tokenTypes:t.tokenTypes,huntTokens:t.survivor.hunt.tokens},on:{remove:t.removeAllTokens,close:e.close,done:t.saveTokens}})]}}],null,!1,231439417),model:{value:t.showManageTokens,callback:function(e){t.showManageTokens=e},expression:"showManageTokens"}}),s("b-modal",{staticClass:"damage",attrs:{"destroy-on-hide":!0,"aria-role":"dialog","aria-modal":"","trap-focus":"","has-modal-card":""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("TakeDamage",{attrs:{hitLocations:t.hitLocations.concat(["brain"])},on:{close:e.close,done:t.takeDamage}})]}}],null,!1,568899035),model:{value:t.showTakeDamage,callback:function(e){t.showTakeDamage=e},expression:"showTakeDamage"}})],1),s("div",{staticClass:"column is-12"},[s("div",{staticClass:"is-flex is-justify-content-space-between mt-0"},[s("div",{staticClass:"action"},[s("div",{staticClass:"divider mt-0 mb-1"},[t._v("Action")]),s("span",{staticClass:"bl-action is-size-1 is-clickable",class:t.survivor.hunt.actions.action?"":"disabled",on:{click:function(e){return t.toggleHuntActions("action")}}})]),s("div",{staticClass:"is-flex is-flex-wrap-wrap is-justify-content-space-between mt-0"},[t.hasOtherTokens?s("div",{staticClass:"other"},[s("div",{staticClass:"divider mt-0 mb-1"},[t._v("Special Tokens")]),s("ul",t._l(t.survivor.hunt.tokens.other,(function(e,i){return s("li",{key:i},[s("span",{staticClass:"tags has-addons"},[s("span",{staticClass:"tag is-primary"},[t._v(t._s(e.amount)+"x")]),s("span",{staticClass:"tag is-dark"},[t._v(t._s(e.name))])])])})),0)]):t._e(),t.hasOtherTokens?s("div",{staticClass:"divider is-vertical"}):t._e(),s("div",{staticClass:"bleeding"},[s("div",{staticClass:"divider mt-0 mb-1"},[t._v("Bleed")]),t._l(5,(function(e){return s("b-icon",{key:e,staticClass:"mr-2 token is-clickable bleed",class:{disabled:t.survivor.hunt.special.bleed<e},attrs:{icon:"tint",size:"is-large",type:t.survivor.hunt.special.bleed>=e?"is-danger":"is-light"},nativeOn:{click:function(s){return t.setBleedTokens(e)}}})}))],2),t.hasStatTokens?s("div",{staticClass:"divider is-vertical"}):t._e(),t._l(t.statKeys,(function(e){return s("div",{key:e,class:e},[t.survivor.hunt.tokens[e].plus>0||t.survivor.hunt.tokens[e].minus>0?s("div",{staticClass:"stat-token mt-2 mr-1 p-1"},[s("div",{staticClass:"divider mt-0 mb-1"},[t._v(t._s(t.capitalize(e)))]),s("div",{staticClass:"is-flex is-justify-content-center"},[t.survivor.hunt.tokens[e].plus>0?s("span",t._l(t.survivor.hunt.tokens[e].plus,(function(t){return s("b-icon",{key:t,attrs:{icon:"plus-circle",size:"is-medium",type:"is-success"}})})),1):t._e(),t.survivor.hunt.tokens[e].minus>0?s("span",t._l(t.survivor.hunt.tokens[e].minus,(function(t){return s("b-icon",{key:t,attrs:{icon:"minus-circle",size:"is-medium",type:"is-danger"}})})),1):t._e()]),s("div",{staticClass:"divider is-vertical"})]):t._e()])}))],2),s("div",{staticClass:"movement"},[s("div",{staticClass:"divider mt-0 mb-1"},[t._v("Movement")]),s("span",{staticClass:"bl-movement is-size-1 is-clickable",class:t.survivor.hunt.actions.movement?"":"disabled",on:{click:function(e){return t.toggleHuntActions("movement")}}})])])]),t._m(0),s("div",{staticClass:"column is-5 pt-5"},[s("div",{staticClass:"columns is-multiline"},[s("div",{staticClass:"column is-12"},[s("b-field",{ref:"name",attrs:{grouped:""}},[s("b-field",[s("b-icon",{attrs:{icon:t.genderIcon}})],1),s("b-field",{attrs:{label:"Name","label-position":"on-border",expanded:""}},[s("b-input",{attrs:{size:"is-small"},nativeOn:{change:function(e){return t.saveField("lifetime.name","name")}},model:{value:t.survivor.lifetime.name,callback:function(e){t.$set(t.survivor.lifetime,"name",e)},expression:"survivor.lifetime.name"}})],1)],1)],1),s("div",{staticClass:"column is-12"},[s("b-field",{ref:"xp",attrs:{grouped:"",label:"Experience","label-position":"on-border"}},t._l(t.createRange(16),(function(e){return s("p",{key:e,staticClass:"control"},[1===e||5===e||9===e||14===e||15===e?s("b-tooltip",{attrs:{type:"is-light",position:"is-bottom",size:"is-small"},scopedSlots:t._u([{key:"content",fn:function(){return[s("span",{domProps:{innerHTML:t._s(t.tooltips.xp[e])}})]},proxy:!0}],null,!0)},[s("button",{staticClass:"button is-small kdm-box thick-border",class:{"is-dark":t.survivor.lifetime.experience>e,"extra-thick":15===e},on:{click:function(s){return s.preventDefault(),t.setExperience(e+1)}}})]):s("button",{staticClass:"button is-small kdm-box",class:{"is-dark":t.survivor.lifetime.experience>e},on:{click:function(s){return s.preventDefault(),t.setExperience(e+1)}}})],1)})),0)],1),s("div",{ref:"survival",staticClass:"column is-12"},[s("b-field",{attrs:{grouped:""}},[s("b-field",{attrs:{label:"Survival","label-position":"on-border"}},[s("b-input",{staticClass:"year-input",staticStyle:{width:"3.5em"},attrs:{size:"is-medium"},nativeOn:{change:function(e){return t.saveField("survival.amount","survival")}},model:{value:t.survivor.survival.amount,callback:function(e){t.$set(t.survivor.survival,"amount",e)},expression:"survivor.survival.amount"}}),s("p",{staticClass:"control"},[s("b-field",{attrs:{label:"Max","label-position":"on-border"}},[s("b-input",{staticClass:"year-input",staticStyle:{width:"3.5em"},attrs:{size:"is-medium",value:t.campaign.survival.max,disabled:""}})],1)],1)],1),t.survivor.lifetime.cannot.survival?s("b-message",{staticClass:"cannot-use m-0 p-0",staticStyle:{width:"100%"},attrs:{size:"is-small",type:"is-danger"}},[t._v(" Cannot Use Survival Actions ")]):s("div",{staticClass:"field mt-2 is-flex is-flex-wrap-wrap is-expanded is-justify-content-left"},t._l(t.survivalAbilities,(function(e){return s("div",{key:e,staticClass:"mr-2"},[s("b-tooltip",{attrs:{type:"is-dark",position:"is-top",size:"is-small",active:!t.survivor.hunt.abilities[e]},scopedSlots:t._u([{key:"content",fn:function(){return[t._v(" Each survival ability can be used once per round. ")]},proxy:!0}],null,!0)},[t.survivor.survival.abilities[e]?s("b-button",{attrs:{size:"is-small",type:"is-info",disabled:!t.survivor.hunt.abilities[e]},on:{click:function(s){return t.useSurvivalAbility(e)}}},[t._v(t._s(t.capitalize(e)))]):t._e()],1)],1)})),0)],1)],1),s("div",{ref:"stats",staticClass:"column is-12 stats"},[s("div",{staticClass:"columns"},t._l(t.statKeys,(function(e){return s("div",{key:e,staticClass:"column is-2"},[s("b-field",{attrs:{label:t.shortname[e],"label-position":"on-border"}},[s("b-tooltip",{attrs:{type:"is-dark",position:"is-top"},scopedSlots:t._u([{key:"content",fn:function(){return[s("span",{domProps:{innerHTML:t._s(t.statBreakdown(e))}})]},proxy:!0}],null,!0)},[s("b-input",{staticClass:"year-input",staticStyle:{width:"5em"},attrs:{size:"is-large",expanded:"",disabled:"",value:t.totalStats[e]}})],1)],1),s("b-field",{staticClass:"stat-addon",attrs:{grouped:""}},[s("b-field",{attrs:{label:"Perm.","label-position":"inside"}},[s("b-input",{staticClass:"year-input",attrs:{size:"is-small"},nativeOn:{change:function(s){return t.saveField("stats."+e+".base","stats")}},model:{value:t.survivor.stats[e].base,callback:function(s){t.$set(t.survivor.stats[e],"base",s)},expression:"survivor.stats[s].base"}})],1),s("b-field",{attrs:{label:"Misc.","label-position":"inside"}},[s("b-input",{staticClass:"year-input",attrs:{size:"is-small"},nativeOn:{change:function(s){return t.saveField("stats."+e+".other","stats")}},model:{value:t.survivor.stats[e].other,callback:function(s){t.$set(t.survivor.stats[e],"other",s)},expression:"survivor.stats[s].other"}})],1)],1)],1)})),0)]),s("div",{ref:"armor",staticClass:"column is-12 armor"},[s("div",{staticClass:"columns"},t._l(["brain"].concat(t.hitLocations),(function(e){return s("div",{key:e,staticClass:"column is-2",class:e},[s("p",{staticClass:"control"},["brain"!==e?s("span",{class:"bl-"+t.translate[e]}):t._e(),t._v(" "+t._s(t.capitalize(e))+" ")]),s("div",{staticClass:"large-armor-block"},[s("span",{staticClass:"bl-armor"}),s("b-input",{staticClass:"amount",attrs:{size:"is-large"},nativeOn:{change:function(s){return t.saveField("defenses."+e+".value","armor")}},model:{value:t.survivor.defenses[e].value,callback:function(s){t.$set(t.survivor.defenses[e],"value",s)},expression:"survivor.defenses[l].value"}})],1),s("p",{staticClass:"control"},["head"!==e?s("button",{staticClass:"button is-small kdm-box mt-1",class:{"is-warning":t.survivor.defenses[e].light,"mr-2":"brain"!==e},on:{click:function(s){s.preventDefault(),t.survivor.defenses[e].light=!t.survivor.defenses[e].light,t.saveField("defenses."+e+".light","armor")}}}):t._e(),s("b-tooltip",{attrs:{type:"is-dark",position:"is-bottom"},scopedSlots:t._u([{key:"content",fn:function(){return[t._v(" Taking a Heavy Injury knocks you down. ")]},proxy:!0}],null,!0)},["brain"!==e?s("button",{staticClass:"button is-small kdm-box thick-border mt-1",class:{"is-danger":t.survivor.defenses[e].heavy},on:{click:function(s){s.preventDefault(),t.survivor.defenses[e].heavy=!t.survivor.defenses[e].heavy,t.saveField("defenses."+e+".heavy","armor")}}}):t._e()]),"brain"===e&&t.survivor.defenses[e].value>2?s("span",{staticClass:"tag is-warning mt-2"},[t._v("Insane")]):t._e(),s("b-tooltip",{attrs:{type:"is-light",position:"is-bottom"},scopedSlots:t._u([{key:"content",fn:function(){return[t._v(" Add a Severe Injury to this Hit Location ")]},proxy:!0}],null,!0)},["brain"!==e?s("span",{staticClass:"tag is-danger mt-2 is-clickable",on:{click:function(s){return t.addInjury(e)}}},[t._v("Add Injury")]):t._e()])],1)])})),0)]),s("div",{ref:"severe",staticClass:"column is-12"},[s("h2",{staticClass:"subtitle"},[t._v("Severe Injuries")]),t._l(t.injuries,(function(e,i){return s("span",{key:i,staticClass:"mr-2"},[s("span",{class:"bl-"+e.type}),t._v(" "+t._s(e.description)+" ")])}))],2),s("div",{ref:"courage",staticClass:"column is-6 cu courage"},[s("b-field",{staticClass:"ml-3",attrs:{grouped:"",label:"Courage","label-position":""}},t._l(t.createRange(9),(function(e){return s("p",{key:e,staticClass:"control mr-1"},[2===e||8===e?s("b-tooltip",{attrs:{type:"is-light",position:"is-bottom",size:"is-small"},scopedSlots:t._u([{key:"content",fn:function(){return[s("span",{domProps:{innerHTML:t._s(t.tooltips.courage[e])}})]},proxy:!0}],null,!0)},[s("button",{staticClass:"button is-small kdm-box thick-border",class:{"is-dark":t.survivor.mentality.courage.level>e},on:{click:function(s){return s.preventDefault(),t.setCourageLevel(e+1)}}})]):s("button",{staticClass:"button is-small kdm-box",class:{"is-dark":t.survivor.mentality.courage.level>e},on:{click:function(s){return s.preventDefault(),t.setCourageLevel(e+1)}}})],1)})),0),s("div",{staticClass:"buttons is-centered"},t._l(["stalwart","prepared","matchmaker"],(function(e){return s("b-tooltip",{key:e,staticStyle:{width:"100%"},attrs:{position:"is-right",type:"is-dark",multilined:"",active:t.survivor.mentality.courage.abilities[e].granted,label:t.survivor.mentality.courage.abilities[e].description}},[s("b-button",{class:{"is-info":t.survivor.mentality.courage.abilities[e].granted},staticStyle:{width:"100%"},style:{color:t.survivor.mentality.courage.abilities[e].granted?"":"#ddd"},attrs:{size:"is-small",rounded:""},on:{click:function(s){return s.preventDefault(),t.toggleAbility("courage",e)}}},[t._v(" "+t._s(t.survivor.mentality.courage.abilities[e].name)+" ")])],1)})),1)],1),s("div",{ref:"understanding",staticClass:"column is-6 cu understanding"},[s("b-field",{staticClass:"ml-3",attrs:{grouped:"",label:"Understanding","label-position":""}},t._l(t.createRange(9),(function(e){return s("p",{key:e,staticClass:"control mr-1"},[2===e||8===e?s("b-tooltip",{attrs:{type:"is-light",position:"is-bottom",size:"is-small"},scopedSlots:t._u([{key:"content",fn:function(){return[s("span",{domProps:{innerHTML:t._s(t.tooltips.understanding[e])}})]},proxy:!0}],null,!0)},[s("button",{staticClass:"button is-small kdm-box thick-border",class:{"is-dark":t.survivor.mentality.understanding.level>e},on:{click:function(s){return s.preventDefault(),t.setUnderstandingLevel(e+1)}}})]):s("button",{staticClass:"button is-small kdm-box",class:{"is-dark":t.survivor.mentality.understanding.level>e},on:{click:function(s){return s.preventDefault(),t.setUnderstandingLevel(e+1)}}})],1)})),0),s("div",{staticClass:"buttons is-centered"},t._l(["analyze","explore","tinker"],(function(e){return s("b-tooltip",{key:e,staticStyle:{width:"100%"},attrs:{position:"is-left",type:"is-dark",multilined:"",active:t.survivor.mentality.understanding.abilities[e].granted,label:t.survivor.mentality.understanding.abilities[e].description}},[s("b-button",{class:{"is-info":t.survivor.mentality.understanding.abilities[e].granted},staticStyle:{width:"100%"},style:{color:t.survivor.mentality.understanding.abilities[e].granted?"":"#ddd"},attrs:{size:"is-small",rounded:""},on:{click:function(s){return s.preventDefault(),t.toggleAbility("understanding",e)}}},[t._v(" "+t._s(t.survivor.mentality.understanding.abilities[e].name)+" ")])],1)})),1)],1),s("div",{staticClass:"column is-12"},[s("b-field",{ref:"wp",staticClass:"wp",attrs:{grouped:"",label:"Weapon Expertise"}},[s("b-input",{attrs:{placeholder:"Weapon Type",icon:"shield-alt",expanded:""},nativeOn:{change:function(e){return t.saveField("weapon.selected","wp")}},model:{value:t.survivor.weapon.selected,callback:function(e){t.$set(t.survivor.weapon,"selected",e)},expression:"survivor.weapon.selected"}}),t._l(t.createRange(8),(function(e){return s("p",{key:e,staticClass:"control"},[2===e||7===e?s("b-tooltip",{attrs:{type:"is-light",position:"is-bottom"},scopedSlots:t._u([{key:"content",fn:function(){return[s("span",{domProps:{innerHTML:t._s(t.tooltips.wp[e])}})]},proxy:!0}],null,!0)},[s("button",{staticClass:"button is-small kdm-box thick-border",class:{"is-dark":t.survivor.weapon.proficiency>e},on:{click:function(s){return s.preventDefault(),t.setWeaponProficiency(e+1)}}})]):s("button",{staticClass:"button is-small kdm-box",class:{"is-dark":t.survivor.weapon.proficiency>e},on:{click:function(s){return s.preventDefault(),t.setWeaponProficiency(e+1)}}})],1)}))],2)],1)])]),s("div",{staticClass:"column is-7 p-0"},[s("div",{staticClass:"tile is-parent is-flex-wrap-wrap pa-0"},t._l(t.gridItems,(function(e,i){return s("div",{key:i,staticClass:"tile is-child is-4 is-clickable"},[e&&!e.id?s("div",{staticClass:"box empty-slot"},[s("b-icon",{staticStyle:{color:"#ccc"},attrs:{icon:"times-circle",size:"is-medium"}})],1):s("GearCard",{attrs:{item:e,showRemove:!0},on:{remove:function(e){return t.removeItem(i,!0,!0)}}})],1)})),0)]),t._l(t.tagLists,(function(e){return s("div",{key:e.id,ref:e.ref,refInFor:!0,staticClass:"column is-3",class:e.id},[s("h2",{staticClass:"subtitle"},[t._v(t._s(e.label))]),s("b-taginput",{attrs:{placeholder:"Add "+e.label,maxtags:e.max,type:e.type,"remove-on-keys":[]},on:{input:function(s){return t.saveListField("abilities."+e.id,e.ref)}},model:{value:t.survivor.abilities[e.id],callback:function(s){t.$set(t.survivor.abilities,e.id,s)},expression:"survivor.abilities[t.id]"}}),"fightingArts"===e.id?s("p",{staticClass:"control mt-1 is-size-7"},[s("b-checkbox",{attrs:{type:"is-danger"},nativeOn:{change:function(e){return t.saveField("lifetime.cannot.fightingArts","fa")}},model:{value:t.survivor.lifetime.cannot.fightingArts,callback:function(e){t.$set(t.survivor.lifetime.cannot,"fightingArts",e)},expression:"survivor.lifetime.cannot.fightingArts"}},[t._v(" Cannot Use Fighting Arts ")])],1):t._e(),"abilities"===e.id?s("p",{staticClass:"control mt-1 is-size-7"},[s("b-checkbox",{attrs:{type:"is-success"},nativeOn:{change:function(e){return t.saveField("lifetime.reroll.available","ab")}},model:{value:t.survivor.lifetime.reroll.available,callback:function(e){t.$set(t.survivor.lifetime.reroll,"available",e)},expression:"survivor.lifetime.reroll.available"}},[t._v(" Lifetime Reroll Available ")])],1):t._e()],1)}))],2):t._e()},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column is-12 m-0 p-0"},[s("hr",{staticClass:"m-1"})])}],n=(s("99af"),s("7db0"),s("4160"),s("a15b"),s("45fc"),s("b0c0"),s("ac1f"),s("1276"),s("159b"),s("3835")),r=s("5530"),l=s("2f62"),o=s("7abd"),c=s("3dbd"),u=s("0bd4"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[t._m(0),s("section",{staticClass:"modal-card-body"},[0===t.tchanges.length?s("div",{staticClass:"content"},[t._v("Add Token Changes Below")]):t._e(),t._l(t.tchanges,(function(e,i){return s("div",{key:i,staticClass:"mb-3"},[s("b-field",{staticClass:"mb-0",attrs:{grouped:""}},[s("b-field",[s("b-dropdown",{staticClass:"has-text-left",attrs:{"aria-role":"list",position:"is-bottom-right",size:"is-small"},model:{value:e.change,callback:function(s){t.$set(e,"change",s)},expression:"t.change"}},[s("button",{staticClass:"button is-small",class:{"is-success":"add"===e.change,"is-danger":"remove"===e.change,"is-primary":null===e.change},attrs:{slot:"trigger",type:"button"},slot:"trigger"},[e.change?[s("b-icon",{staticClass:"mr-1",attrs:{icon:"add"===e.change?"plus-square":"minus-square"}}),s("span",[t._v(t._s(t.capitalize(e.change)))])]:[s("span",[t._v("Change Type")])]],2),t._l(["add","remove"],(function(e){return s("b-dropdown-item",{key:e,attrs:{"aria-role":"listitem",value:e}},[t._v(" "+t._s(t.capitalize(e))+" ")])}))],2)],1),s("b-field",{attrs:{expanded:""}},[s("b-dropdown",{staticClass:"has-text-left",attrs:{disabled:null===e.change,"aria-role":"list",position:"is-bottom-right",size:"is-small"},model:{value:e.type,callback:function(s){t.$set(e,"type",s)},expression:"t.type"}},[s("button",{staticClass:"button is-dark is-small",attrs:{slot:"trigger",type:"button"},slot:"trigger"},[e.type?[s("span",[t._v(t._s(t.tokenTypes().find((function(t){return t.value===e.type})).label))])]:[s("span",[t._v("Select Token Type")])]],2),t._l(t.tokenTypes(),(function(e){return s("b-dropdown-item",{key:e.value,attrs:{"aria-role":"listitem",value:e.value}},[t._v(" "+t._s(e.label)+" ")])}))],2)],1),"other"===e.type?s("b-field",{attrs:{expanded:"",label:"Token Name","label-position":"on-border"}},[s("b-input",{attrs:{size:"is-small"},model:{value:e.custom,callback:function(s){t.$set(e,"custom",s)},expression:"t.custom"}})],1):t._e(),s("b-field",{attrs:{label:e.change?t.capitalize(e.change)+" Tokens":"","label-position":"on-border"}},[s("b-numberinput",{attrs:{min:0,disabled:null===e.change,"controls-position":"compact",size:"is-small",type:"is-info"},model:{value:e.amount,callback:function(s){t.$set(e,"amount",s)},expression:"t.amount"}})],1),s("b-field",[s("b-button",{attrs:{"icon-left":"times",size:"is-small",type:"is-danger"},on:{click:function(e){return t.remove(i)}}})],1)],1),s("div",{staticClass:"token-label has-text-right mr-6 is-size-7"},[e.type?s("span",["other"===e.type?s("div",{staticClass:"field is-grouped"},[s("span",{staticClass:"is-size-6"},[t._v("Current Special Tokens: ")]),t._l(t.huntTokens.other,(function(e,a){return s("span",{key:a,staticClass:"tags has-addons mr-1"},[s("span",{staticClass:"tag is-dark is-clickable",on:{click:function(s){return t.setCustomToken(i,e.name)}}},[t._v(t._s(e.name))]),s("span",{staticClass:"tag is-primary"},[t._v("x"+t._s(e.amount))])])}))],2):s("span",[t._v(" Current "+t._s(t.tokenTypes().find((function(t){return t.value===e.type})).label)+" Tokens: "),s("strong",[t._v(t._s(t.tokenCount(e.type)))])])]):t._e()]),s("hr",{staticClass:"mt-1 mb-1"})],1)}))],2),s("footer",{staticClass:"modal-card-foot"},[s("div",{staticClass:"buttons"},[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.close}},[t._v("Cancel")]),s("button",{staticClass:"button is-danger",on:{click:t.removeAll}},[t._v("Remove All Tokens")]),s("button",{staticClass:"button is-info",on:{click:t.add}},[t._v("Add Token Change")]),s("button",{staticClass:"button is-success",on:{click:t.done}},[t._v("Update Tokens")])])])])},v=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v("Manage Tokens")])])}],m=(s("a434"),{name:"ManageTokens",props:{huntTokens:Object,tokenTypes:Function},data:function(){return{tchanges:[{type:null,custom:null,change:null,amount:0}]}},methods:{tokenCount:function(t){var e=t.split("_"),s=Object(n["a"])(e,2),i=s[0],a=s[1];return this.huntTokens[i][a]},setCustomToken:function(t,e){this.tchanges[t].custom=e},add:function(){this.tchanges.push({type:null,custom:null,change:null,amount:0})},remove:function(t){this.tchanges.splice(t,1)},removeAll:function(){var t=this;this.$buefy.dialog.confirm({message:"This will remove ALL tokens, including custom tokens.  Are you sure?",onConfirm:function(){t.$emit("remove"),t.$emit("close")}})},close:function(){this.$emit("close")},done:function(){this.$emit("done",this.tchanges),this.$emit("close")}}}),p=m,b=(s("81d7"),s("0c7c")),f=Object(b["a"])(p,d,v,!1,null,"74f1c337",null),h=f.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[t._m(0),s("section",{staticClass:"modal-card-body"},[0===t.hits.length?s("div",{staticClass:"content"},[t._v("Add Hits Below")]):t._e(),t._l(t.hits,(function(e,i){return s("b-field",{key:i,attrs:{grouped:""}},[s("b-field",{attrs:{expanded:""}},[s("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-right",size:"is-small"},model:{value:e.location,callback:function(s){t.$set(e,"location",s)},expression:"h.location"}},[s("button",{staticClass:"button is-dark is-small",attrs:{slot:"trigger",type:"button"},slot:"trigger"},[e.location?[s("div",{staticClass:"mr-2"},[s("span",{staticClass:"mr-1",class:"bl-"+e.location}),s("span",[t._v(t._s(t.capitalize(e.location)))])])]:[s("span",[t._v("Select Hit Location")])]],2),t._l(t.hitLocations,(function(e){return s("b-dropdown-item",{key:e,attrs:{"aria-role":"listitem",value:e}},[s("div",{staticClass:"media"},[s("div",{staticClass:"media-left"},[s("span",{class:"brain"===e?"":"bl-"+e})]),s("div",{staticClass:"media-content"},[t._v(" "+t._s(t.capitalize(e))+" ")])])])}))],2)],1),s("b-field",{attrs:{label:"Damage","label-position":"on-border"}},[s("b-numberinput",{attrs:{min:0,"controls-position":"compact",size:"is-small",type:"is-info"},model:{value:e.amount,callback:function(s){t.$set(e,"amount",s)},expression:"h.amount"}})],1),s("b-field",[s("b-button",{attrs:{"icon-left":"times",size:"is-small",type:"is-danger"},on:{click:function(e){return t.remove(i)}}})],1)],1)}))],2),s("footer",{staticClass:"modal-card-foot"},[s("div",{staticClass:"buttons"},[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.close}},[t._v("Cancel")]),s("button",{staticClass:"button is-warning",on:{click:t.add}},[t._v("Add Hit")]),s("button",{staticClass:"button is-danger",on:{click:t.done}},[t._v("Take Damage")])])])])},y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v("Take Damage")])])}],C={name:"TakeDamage",props:{hitLocations:Array},data:function(){return{hits:[{location:null,amount:0}]}},methods:{add:function(){this.hits.push({location:null,amount:0})},remove:function(t){this.hits.splice(t,1)},close:function(){this.$emit("close")},done:function(){this.$emit("done",this.hits),this.$emit("close")}}},_=C,k=(s("2445"),Object(b["a"])(_,g,y,!1,null,"75717812",null)),x=k.exports,S={name:"ControlSurvivor",mixins:[o["a"],c["a"]],components:{GearCard:u["a"],ManageTokens:h,TakeDamage:x},data:function(){return{showManageTokens:!1,showTakeDamage:!1,tagLists:[{label:"Fighting Arts",id:"fightingArts",ref:"fa",type:"is-info",max:3},{label:"Disorders",id:"disorders",ref:"do",type:"is-dark",max:3},{label:"Abilities",id:"abilities",ref:"ab",type:"is-success"},{label:"Impairments",id:"impairments",ref:"im",type:"is-warning"}]}},computed:Object(r["a"])(Object(r["a"])({},Object(l["c"])(["grids","survivors"])),{},{hasStatTokens:function(){var t=this;return this.statKeys.some((function(e){var s,i,a,n,r,l;return(null===(s=t.survivor)||void 0===s||null===(i=s.hunt)||void 0===i||null===(a=i.tokens)||void 0===a?void 0:a[e].plus)>0||(null===(n=t.survivor)||void 0===n||null===(r=n.hunt)||void 0===r||null===(l=r.tokens)||void 0===l?void 0:l[e].minus)>0}))},hasOtherTokens:function(){var t,e,s,i;return(null===(t=this.survivor)||void 0===t||null===(e=t.hunt)||void 0===e||null===(s=e.tokens)||void 0===s||null===(i=s.other)||void 0===i?void 0:i.length)>0},totalStats:function(){var t=this,e={};return this.statKeys.forEach((function(s){var i,a,n,r;e[s]=(parseInt(t.survivor.stats[s].base)||0)+(parseInt(t.survivor.stats[s].other)||0)+(parseInt(t.bonuses().stats[s])||0)+((parseInt(null===(i=t.survivor.hunt)||void 0===i||null===(a=i.tokens[s])||void 0===a?void 0:a.plus)||0)-(parseInt(null===(n=t.survivor.hunt)||void 0===n||null===(r=n.tokens[s])||void 0===r?void 0:r.minus)||0))})),e}}),watch:{"$route.params":{immediate:!0,deep:!0,handler:function(){this.loadIds()}}},methods:{loadIds:function(){var t=this;this.survivor=this.survivors.find((function(e){return e.id===t.$route.params.survivorId})),this.grid=this.grids.find((function(e){return e.id===t.$route.params.gridId})),this.setArmorMaxValues()},setArmorMaxValues:function(){var t=this;this.grid&&this.survivor&&this.hitLocations.forEach((function(e){t.survivor.defenses[e].max=t.armors()[e]}))},actionFullHeal:function(){var t=this;this.$buefy.dialog.confirm({title:"Full Heal",type:"is-success",hasIcon:!0,message:"This will reset all armor values to the values your gear grid reaches.  It is most often used at the start of a hunt.  Use it now?",onConfirm:function(){return t._fullHeal()}})},_fullHeal:function(){var t=this;this.hitLocations.forEach((function(e){t.survivor.defenses[e].value=t.survivor.defenses[e].max,void 0!==t.survivor.defenses[e].light&&(t.survivor.defenses[e].light=!1),void 0!==t.survivor.defenses[e].heavy&&(t.survivor.defenses[e].heavy=!1)})),this.survivor.defenses.brain.light=!1,this.saveField("defenses","actions")},actionResetRound:function(){var t=this;this.$buefy.dialog.confirm({title:"Reset Round",type:"is-info",hasIcon:!0,message:"This will reactivate all Survival abilities and reset your available Actions.",onConfirm:function(){return t._resetRound()}})},_resetRound:function(){var t=this;this.survivalAbilities.forEach((function(e){t.survivor.hunt.abilities[e]=t.survivor.survival.abilities[e]})),this.survivor.hunt.actions.action=1,this.survivor.hunt.actions.movement=1,this.saveField("hunt","actions")},actionManageTokens:function(){this.showManageTokens=!0},removeAllTokens:function(){this.survivor.hunt.tokens={movement:{plus:0,minus:0},accuracy:{plus:0,minus:0},strength:{plus:0,minus:0},evasion:{plus:0,minus:0},luck:{plus:0,minus:0},speed:{plus:0,minus:0},other:[]},this.saveField("hunt.tokens","actions")},saveTokens:function(t){var e=this;console.log(t);var s=[];t.forEach((function(t){if("other"===t.type){var i=e.survivor.hunt.tokens.other.find((function(e){return e.name===t.custom})),a="";if(i){var r=i.amount;"add"===t.change?(a="Added",i.amount+=t.amount):(a="Removed",i.amount-=t.amount),i.amount<0&&(i.amount=0),s.push(a+" "+t.amount+" "+i.name+" tokens ("+r+" &rarr; "+i.amount+")")}else"add"===t.change&&(e.survivor.hunt.tokens.other.push({name:t.custom,amount:t.amount}),s.push("Added "+t.amount+" "+t.custom+" tokens (New Type)"))}else{var l=t.type.split("_"),o=Object(n["a"])(l,2),c=o[0],u=o[1],d="",v=e.survivor.hunt.tokens[c][u];"add"===t.change?(d="Added",e.survivor.hunt.tokens[c][u]+=t.amount):(d="Removed",e.survivor.hunt.tokens[c][u]-=t.amount),e.survivor.hunt.tokens[c][u]<0&&(e.survivor.hunt.tokens[c][u]=0);var m=e.tokenTypes().find((function(e){return e.value===t.type})).label;s.push(d+" "+t.amount+" "+m+" tokens ("+v+" &rarr; "+e.survivor.hunt.tokens[c][u]+")")}})),0===t.length||0===s.length?s.push("No token changes."):this.saveField("hunt.tokens","actions"),this.$buefy.dialog.alert({title:"Token Changes",hasIcon:!0,type:"is-info",message:s.join("<br />"),trapFocus:!0})},tokenTypes:function(){var t=this,e=[];return this.statKeys.forEach((function(s){e.push({value:s+"_plus",label:t.capitalize(s)+" (Plus)"}),e.push({value:s+"_minus",label:t.capitalize(s)+" (Minus)"})})),e.push({value:"other",label:"Other Tokens"}),e},actionTakeDamage:function(){this.showTakeDamage=!0},takeDamage:function(t){var e=this,s=[];t.forEach((function(t){if(null!==t.location&&0!==t.amount&&""!==t.amount){var i=parseInt(t.amount),a=parseInt(e.survivor.defenses[t.location].value),n=0;a>=i?(n=i,e.survivor.defenses[t.location].value-=Math.abs(n)):(e.survivor.defenses[t.location].value=0,n=a),i-=n,"brain"===t.location?s.push("Lost "+n+" insanity."):s.push("Took "+n+' damage to the <span class="bl-'+t.location+'"></span> '+e.capitalize(t.location)),i>0&&!1===e.survivor.defenses[t.location].light&&(e.survivor.defenses[t.location].light=!0,i-=1,s.push("Took a light injury to the "+("brain"===t.location?"Brain":'<span class="bl-'+t.location+'"></span> '+e.capitalize(t.location)))),i>0&&!1===e.survivor.defenses[t.location].heavy&&(e.survivor.defenses[t.location].heavy=!0,i-=1,s.push('Took a heavy injury to the <span class="bl-'+t.location+'"></span> '+t.location+" <em>(and were likely knocked down)</em>")),i>0&&s.push("Take a <strong>Severe Injury</strong> to the "+t.location)}})),0===t.length||0===s.length?s.push("No damage taken."):this.saveField("defenses","actions"),this.$buefy.dialog.alert({title:"Damage Summary",hasIcon:!0,type:"is-danger",message:s.join("<br />"),trapFocus:!0})},actionUseReroll:function(){var t=this;this.survivor.lifetime.reroll.available&&!this.survivor.lifetime.reroll.used?this.$buefy.dialog.confirm({title:"Use Lifetime Reroll",type:"is-warning",hasIcon:!0,message:"Confirm usage of reroll.",onConfirm:function(){t.survivor.lifetime.reroll.used=!0,t.saveField("lifetime.reroll.used","actions")}}):this.$buefy.dialog.alert({message:"You do not have a reroll to use."})},actionKillSurvivor:function(){var t=this;this.$buefy.dialog.confirm({title:"Kill This Survivor",type:"is-danger",hasIcon:!0,message:"<strong>ARE YOU SURE?</strong>  This will KILL the Survivor.  You will be asked for a cause of death.",onConfirm:function(){t.$buefy.dialog.prompt({message:"Cause of Death?",trapFocus:!0,onConfirm:function(e){t.survivor.lifetime.died=t.campaign.year,t.survivor.lifetime.case=e,t.saveField("lifetime","actions")}})}})},setBleedTokens:function(t){this.survivor.hunt.special.bleed===t&&t--,this.survivor.hunt.special.bleed=t,this.saveField("hunt.special.bleed","actions")},toggleHuntActions:function(t){void 0!==this.survivor.hunt.actions[t]&&(this.survivor.hunt.actions[t]=!this.survivor.hunt.actions[t],this.saveField("hunt.actions.".concat(t),"actions"))},useSurvivalAbility:function(t){this.survivor.hunt.abilities[t]&&this.survivor.survival.abilities[t]&&(this.survivor.hunt.abilities[t]=!1,this.saveField("hunt.abilities.".concat(t),"actions"))},addInjury:function(t){var e=this;this.$buefy.dialog.prompt({message:"Add a Severe Injury",type:"is-danger",hasIcon:!0,inputAttrs:{placeholder:"Severe Injury",required:!0},required:!0,trapFocus:!0,onConfirm:function(s){e.survivor.defenses[t].severe.push(s),e.saveField("defenses.".concat(t,".severe"),"actions")}})},statBreakdown:function(t){var e,s,i,a;return'\n      <strong style="color:white">'.concat(this.capitalize(t),'</strong>\n      <hr style="margin:.2em"/>\n      <div style="text-align:right">\n        Permanent (Survivor): <strong style="color:white">').concat(this.survivor.stats[t].base||0,'</strong><br />\n        Miscellaneous/Other: <strong style="color:white">').concat(this.survivor.stats[t].other||0,'</strong><br />\n        Gear Grid: <strong style="color:white">').concat(this.bonuses().stats[t]||0,'</strong><br />\n        Tokens: <strong style="color:white">+').concat((null===(e=this.survivor.hunt)||void 0===e||null===(s=e.tokens[t])||void 0===s?void 0:s.plus)||0,", -").concat((null===(i=this.survivor.hunt)||void 0===i||null===(a=i.tokens[t])||void 0===a?void 0:a.minus)||0,"</strong>\n      </div>\n      ")}}},w=S,T=(s("129a"),Object(b["a"])(w,i,a,!1,null,"92f5142c",null));e["default"]=T.exports},"96b8":function(t,e,s){},a434:function(t,e,s){"use strict";var i=s("23e7"),a=s("23cb"),n=s("a691"),r=s("50c4"),l=s("7b0b"),o=s("65f0"),c=s("8418"),u=s("1dde"),d=s("ae40"),v=u("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,b=Math.min,f=9007199254740991,h="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!v||!m},{splice:function(t,e){var s,i,u,d,v,m,g=l(this),y=r(g.length),C=a(t,y),_=arguments.length;if(0===_?s=i=0:1===_?(s=0,i=y-C):(s=_-2,i=b(p(n(e),0),y-C)),y+s-i>f)throw TypeError(h);for(u=o(g,i),d=0;d<i;d++)v=C+d,v in g&&c(u,d,g[v]);if(u.length=i,s<i){for(d=C;d<y-i;d++)v=d+i,m=d+s,v in g?g[m]=g[v]:delete g[m];for(d=y;d>y-i+s;d--)delete g[d-1]}else if(s>i)for(d=y-i;d>C;d--)v=d+i-1,m=d+s-1,v in g?g[m]=g[v]:delete g[m];for(d=0;d<s;d++)g[d+C]=arguments[d+2];return g.length=y-i+s,u}})},d7f5:function(t,e,s){},ec9b:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return!t.showLoading&&t.user&&t.campaign?s("div",{staticClass:"column"},[s("router-view")],1):t._e()},a=[],n=(s("96cf"),s("1da1")),r={name:"Hunt",created:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:!this.currentCampaignId||"/hunt"!==this.$route.path&&"/hunt/"!==this.$route.path||this.$router.push("/hunt/survivor");case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},l=r,o=s("0c7c"),c=Object(o["a"])(l,i,a,!1,null,null,null);e["default"]=c.exports},edcf:function(t,e,s){},fa53:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.activeHunt?s("div",{staticClass:"columns is-multiline"},[s("div",{staticClass:"column is-12"},[s("h1",{staticClass:"title"},[t._v("Setup Hunt: Lantern Year "+t._s(t.activeHunt.year))]),s("hr"),s("section",{staticClass:"section"},[s("b-tabs",{staticClass:"block",attrs:{position:"is-centered",size:"is-medium",type:"is-boxed",expanded:""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[s("b-tab-item",{attrs:{label:"Overview"}},[s("div",{staticClass:"columns is-multiline overview"},[s("div",{staticClass:"column is-12"},[t._v(" ...OVERVIEW... "),s("b-button",{attrs:{type:"is-warning",expanded:""}},[t._v("Begin Hunt")])],1)])]),s("b-tab-item",{scopedSlots:t._u([{key:"header",fn:function(){return[t._v(" Add Party Member "),s("span",{staticClass:"ml-3 tag",class:{"is-danger":t.activeHunt.members.length<4,"is-success":t.activeHunt.members.length>3}},[t._v(t._s(t.activeHunt.members.length)+" / 6")])]},proxy:!0}])},[s("div",{staticClass:"columns is-multiline add-member"},[s("div",{staticClass:"column is-2"},[s("b-menu",[s("b-menu-list",{attrs:{label:"Survivors"}},t._l(t.validSurvivors,(function(e){return s("b-menu-item",{key:e.id,on:{click:function(s){return s.preventDefault(),t.pickSurvivor(e)}},scopedSlots:t._u([{key:"label",fn:function(){return["M"===e.lifetime.gender?s("span",[s("b-icon",{attrs:{size:"is-small",icon:"mars"}})],1):"F"===e.lifetime.gender?s("span",[s("b-icon",{attrs:{size:"is-small",icon:"venus"}})],1):s("span",[s("b-icon",{attrs:{size:"is-small",icon:"genderless"}})],1),t._v(" "+t._s(e.lifetime.name)+" ")]},proxy:!0}],null,!0)})})),1)],1)],1),s("div",{staticClass:"column is-4"},[null!==t.currentSurvivor?s("div",{staticClass:"survivor"},[s("b-field",[t.currentSurvivor.lifetime.cannot.survival?s("span",{staticClass:"tag is-danger is-light"},[t._v("Cannot Spend Survival")]):t._e(),t.currentSurvivor.lifetime.cannot.fightingArts?s("span",{staticClass:"tag is-danger is-light"},[t._v("Cannot Use Fighting Arts")]):t._e(),t.currentSurvivor.lifetime.reroll.used?s("span",{staticClass:"tag is-danger is-light"},[t._v("Lifetime Reroll Used")]):t.currentSurvivor.lifetime.reroll.available?s("span",{staticClass:"tag is-success is-light"},[t._v("Lifetime Reroll Available")]):t._e()]),s("b-field",{attrs:{grouped:""}},[s("b-field",{staticClass:"is-flex is-align-items-center",attrs:{expanded:""}},[s("strong",[t._v(t._s(t.currentSurvivor.lifetime.name))])]),s("b-field",[s("b-select",{attrs:{icon:"transgender",value:t.currentSurvivor.lifetime.gender,size:"is-small",disabled:""}},[s("option",{attrs:{value:"M"}},[t._v("M")]),s("option",{attrs:{value:"F"}},[t._v("F")])])],1),s("b-field",{attrs:{label:"SRV","label-position":"on-border"}},[s("b-input",{staticClass:"stat-box",attrs:{size:"is-small",value:t.currentSurvivor.survival.amount,disabled:""}})],1)],1),s("b-field",{attrs:{label:"XP","label-position":"on-border",expanded:""}},[s("b-slider",{attrs:{min:0,max:16,ticks:"",indicator:"",value:t.currentSurvivor.lifetime.experience,disabled:""}})],1),s("div",{staticClass:"level"},t._l(["movement","accuracy","strength","evasion","luck","speed"],(function(e){return s("b-field",{key:e,staticClass:"level-item",attrs:{label:t.shortname[e],"label-position":"on-border"}},[s("b-input",{staticClass:"stat-box",attrs:{size:"is-small",value:t.currentSurvivor.stats[e].base,disabled:""}})],1)})),1),t.currentSurvivor.weapon.selected?s("b-field",{attrs:{grouped:""}},[s("b-field",{staticClass:"is-flex is-align-items-center",attrs:{label:"Weapon Proficiency","label-position":"on-border"}},[s("strong",[t._v(t._s(t.currentSurvivor.weapon.selected))])]),s("b-field",{attrs:{expanded:""}},[s("b-slider",{attrs:{min:0,max:8,ticks:"",indicator:"",value:t.currentSurvivor.weapon.proficiency,disabled:""}})],1)],1):t._e(),s("b-field",{attrs:{grouped:""}},[s("b-field",{attrs:{label:"Courage","label-position":"on-border",expanded:""}},[s("b-slider",{attrs:{min:0,max:9,ticks:"",indicator:"",value:t.currentSurvivor.mentality.courage.level,disabled:""}})],1),s("b-field",{attrs:{label:"Understanding","label-position":"on-border",expanded:""}},[s("b-slider",{attrs:{min:0,max:9,ticks:"",indicator:"",value:t.currentSurvivor.mentality.understanding.level,disabled:""}})],1)],1),s("b-field",{attrs:{grouped:""}},[s("b-field",{attrs:{expanded:""}},t._l(["matchmaker","prepared","stalwart"],(function(e){return s("div",{key:e},[t.currentSurvivor.mentality.courage.abilities[e].granted?s("span",{staticClass:"is-size-7"},[s("b-icon",{staticClass:"mr-1",attrs:{size:"is-small",icon:"check"}}),t._v(t._s(t.capitalize(e)))],1):t._e()])})),0),s("div",{staticClass:"divider is-vertical"}),s("b-field",{attrs:{expanded:""}},t._l(["analyze","explore","tinker"],(function(e){return s("div",{key:e},[t.currentSurvivor.mentality.understanding.abilities[e].granted?s("span",{staticClass:"is-size-7"},[s("b-icon",{staticClass:"mr-1",attrs:{size:"is-small",icon:"check"}}),t._v(t._s(t.capitalize(e)))],1):t._e()])})),0)],1),s("div",{staticClass:"level"},[s("div",{staticClass:"level-item"},[s("ul",[s("li",{staticClass:"subtitle"},[t._v("Fighting Arts")]),t._l(t.currentSurvivor.abilities.fightingArts,(function(e,i){return s("li",{key:i,staticClass:"is-size-7"},[t._v(t._s(e))])}))],2)]),s("div",{staticClass:"level-item"},[s("ul",[s("li",{staticClass:"subtitle"},[t._v("Disorders")]),t._l(t.currentSurvivor.abilities.disorders,(function(e,i){return s("li",{key:i,staticClass:"is-size-7"},[t._v(t._s(e))])}))],2)]),s("div",{staticClass:"level-item"},[s("ul",[s("li",{staticClass:"subtitle"},[t._v("Abilities")]),t._l(t.currentSurvivor.abilities.abilities,(function(e,i){return s("li",{key:i,staticClass:"is-size-7"},[t._v(t._s(e))])}))],2)])]),s("div",{staticClass:"level"},[s("div",{staticClass:"level-item"},[s("ul",[s("li",{staticClass:"subtitle"},[t._v("Impairments")]),t._l(t.currentSurvivor.abilities.impairments,(function(e,i){return s("li",{key:i,staticClass:"is-size-7"},[t._v(t._s(e))])}))],2)]),s("div",{staticClass:"level-item"},[s("ul",[s("li",{staticClass:"subtitle"},[t._v("Severe Injuries")]),s("li",{staticClass:"is-size-7"},[t._v("(WIP)")])])])])],1):s("div",[s("b-icon",{staticClass:"mt-6",staticStyle:{color:"#ddd"},attrs:{icon:"male",size:"is-large"}})],1)]),s("div",{staticClass:"column is-4"},[null!==t.grid?s("div",{staticClass:"gridview"},[s("div",{staticClass:"subtitle"},[t._v("Calculated Stats")]),s("div",{staticClass:"divider"},[t._v("ARMOR")]),s("div",{staticClass:"armor-description level"},[s("div",{staticClass:"level-item has-text-centered"},[s("div",[s("p",{staticClass:"heading"},[s("span",{staticClass:"bl-head"})]),s("p",{staticClass:"contet armor-block"},[s("span",{staticClass:"bl-armor"}),s("span",{staticClass:"amount"},[t._v(t._s(t.armors().head))])])])]),s("div",{staticClass:"level-item has-text-centered"},[s("div",[s("p",{staticClass:"heading"},[s("span",{staticClass:"bl-arms"})]),s("p",{staticClass:"contet armor-block"},[s("span",{staticClass:"bl-armor"}),s("span",{staticClass:"amount"},[t._v(t._s(t.armors().arms))])])])]),s("div",{staticClass:"level-item has-text-centered"},[s("div",[s("p",{staticClass:"heading"},[s("span",{staticClass:"bl-body"})]),s("p",{staticClass:"contet armor-block"},[s("span",{staticClass:"bl-armor"}),s("span",{staticClass:"amount"},[t._v(t._s(t.armors().body))])])])]),s("div",{staticClass:"level-item has-text-centered"},[s("div",[s("p",{staticClass:"heading"},[s("span",{staticClass:"bl-waist"})]),s("p",{staticClass:"contet armor-block"},[s("span",{staticClass:"bl-armor"}),s("span",{staticClass:"amount"},[t._v(t._s(t.armors().waist))])])])]),s("div",{staticClass:"level-item has-text-centered"},[s("div",[s("p",{staticClass:"heading"},[s("span",{staticClass:"bl-legs"})]),s("p",{staticClass:"contet armor-block"},[s("span",{staticClass:"bl-armor"}),s("span",{staticClass:"amount"},[t._v(t._s(t.armors().legs))])])])])]),s("div",{staticClass:"divider"},[t._v("BONUSES")]),s("div",{staticClass:"level"},t._l(Object.keys(t.bonuses().stats),(function(e){return s("b-field",{key:e,staticClass:"level-item",attrs:{label:t.shortname[e],"label-position":"on-border"}},[s("b-input",{staticClass:"stat-box",attrs:{size:"is-small",value:t.bonuses().stats[e],disabled:""}})],1)})),1),s("ul",t._l(t.bonuses().text,(function(e,i){return s("li",{key:i,staticClass:"is-size-7",domProps:{innerHTML:t._s(e)}})})),0),s("div",{staticClass:"divider"},[t._v("AFFINITIES")]),t._l(["red","blue","green"],(function(e){return s("span",{key:e},t._l(t.affinities()[e],(function(t){return s("b-icon",{key:t,style:{color:e},attrs:{icon:"square-full"}})})),1)})),s("div",{staticClass:"divider"},[t._v("SET BONUSES")]),s("ul",t._l(t.armorSetProgress().filter((function(t){return t.progress>=t.piecesRequired})),(function(e){return s("li",{key:e.id,staticClass:"is-size-7"},[s("p",{staticClass:"header"},[s("strong",[t._v(t._s(e.name))])]),s("hr",{staticStyle:{width:"75%","text-align":"center",margin:".5em auto"}}),s("div",{staticClass:"content"},t._l(e.bonuses,(function(e,i){return s("p",{key:i},["armor"===e.type?s("span",[t._v(" Add +"),s("span",{staticClass:"armor-block"},[s("span",{staticClass:"bl-armor"}),s("span",{staticClass:"amount"},[t._v(t._s(e.amount))])]),t._v(" to all hit locations. ")]):"ability"===e.type?s("span",[s("strong",[t._v(t._s(e.name))]),t._v(": "),s("span",{domProps:{innerHTML:t._s(t.parseBlock(e.description))}})]):s("span",{domProps:{innerHTML:t._s(e.description)}})])})),0)])})),0)],2):s("div",[s("b-icon",{staticClass:"mt-6",staticStyle:{color:"#ddd"},attrs:{icon:"th",size:"is-large"}})],1)]),s("div",{staticClass:"column is-2"},[s("b-menu",[s("b-menu-list",{attrs:{label:"Grids"}},t._l(t.validGrids,(function(e){return s("b-menu-item",{key:e.id,on:{click:function(s){return s.preventDefault(),t.pickGrid(e)}},scopedSlots:t._u([{key:"label",fn:function(){return[s("div",{staticClass:"tile is-flex-wrap-wrap"},t._l(e.previews,(function(e,i){return s("div",{key:i,staticClass:"tile is-4 is-justify-content-center"},[s("div",{staticClass:"box preview-card"},[s("span",{class:"bl-"+t.translate[e]})])])})),0),t._v(" "+t._s(e.name)+" ")]},proxy:!0}],null,!0)})})),1)],1)],1),t.currentSurvivor&&t.grid?s("div",{staticClass:"column is-8 is-offset-2"},[s("div",{staticClass:"divider"},[t._v("Equipped Stats")]),s("div",{staticClass:"level"},t._l(["movement","accuracy","strength","evasion","luck","speed"],(function(e){return s("b-field",{key:e,staticClass:"level-item",attrs:{label:t.capitalize(e),"label-position":"on-border"}},[s("b-input",{staticClass:"stat-box",attrs:{size:"is-medium",value:parseInt(t.currentSurvivor.stats[e].base)+parseInt(t.bonuses().stats[e]),disabled:""}})],1)})),1),s("b-select",{attrs:{icon:"user",placeholder:"Controlled By",expanded:""},model:{value:t.controlled,callback:function(e){t.controlled=e},expression:"controlled"}},t._l(t.users,(function(e){return s("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.displayName))])})),0),t.controlled?s("b-button",{attrs:{type:"is-success",expanded:""},on:{click:function(e){return t.addPartyMember()}}},[t._v("Add Party Member")]):t._e()],1):t._e()])]),s("b-tab-item",{scopedSlots:t._u([{key:"header",fn:function(){return[t.activeHunt.quarry?s("b-icon",{attrs:{icon:"check-square",type:"is-success"}}):s("b-icon",{attrs:{icon:"exclamation-triangle",type:"is-warning"}}),t._v(" Assign Quarry ")]},proxy:!0}])},[s("div",[t._v("...")])])],1)],1)]),s("div",{staticClass:"column is-12 party mt-0"},[s("div",{staticClass:"divider"},[t._v("Hunting Party")]),s("div",{staticClass:"tile is-parent"},t._l(6,(function(e){return s("div",{key:e,staticClass:"tile is-child is-2"},[t.activeHunt.members[e-1]?s("div",{staticClass:"box member"},[s("h2",{staticClass:"subtitle"},[t._v(t._s(t.activeHunt.members[e-1].controller.displayName))]),s("hr"),t._v(" "+t._s(t.activeHunt.members[e-1].survivor.lifetime.name)+" "),s("div",{staticClass:"divider"},[t._v("WITH")]),t._v(" "+t._s(t.activeHunt.members[e-1].grid.name)+" ")]):s("div",{staticClass:"box member empty"})])})),0)])]):s("div",{staticClass:"content"},[s("p",[t._v("There is no Hunt currently ongoing.")]),s("p",[s("b-button",{attrs:{type:"is-success"},on:{click:t.startHunt}},[t._v("Start New Hunt Setup")])],1)])])},a=[],n=(s("4de4"),s("7db0"),s("caad"),s("d81d"),s("2532"),s("5530")),r=s("2f62"),l=s("dc59"),o=s("460b"),c=s("7abd"),u=s("3c4e"),d=s.n(u),v={name:"HuntSetup",mixins:[c["a"]],data:function(){return{activeHunt:null,currentAction:"overview",controlled:null,currentSurvivor:null,grid:null,activeTab:0}},computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])(["grids","survivors","hunts","users"])),{},{activeHuntId:function(){var t;return null===(t=this.hunts.find((function(t){return!0===t.active})))||void 0===t?void 0:t.id},validSurvivors:function(){var t=this;return this.survivors.filter((function(e){var s,i;return null===e.lifetime.died&&!e.lifetime.cannot.hunt&&e.survival.skipHunt!==(null===(s=t.activeHunt)||void 0===s?void 0:s.year)&&!(null!==(i=t.activeHunt)&&void 0!==i&&i.members.map((function(t){var e;return null===(e=t.survivor)||void 0===e?void 0:e.id})).includes(e.id))}))},validGrids:function(){var t=this;return this.grids.filter((function(e){var s;return!(null!==(s=t.activeHunt)&&void 0!==s&&s.members.map((function(t){var e;return null===(e=t.grid)||void 0===e?void 0:e.id})).includes(e.id))}))}}),watch:{activeHuntId:{immediate:!0,handler:function(t){t&&this.$bind("activeHunt",l["a"].collection("campaigns/".concat(this.currentCampaignId,"/hunts")).doc(t))}}},methods:{startHunt:function(){var t=this;this.$buefy.dialog.confirm({message:"Begin the Hunt for Lantern Year "+this.campaign.year+"?",onConfirm:function(){var e=d()({year:t.campaign.year},o["c"]);l["a"].collection("campaigns/".concat(t.campaign.id,"/hunts")).add(e)}})},pickSurvivor:function(t){this.currentSurvivor=t},pickGrid:function(t){this.grid=t},addPartyMember:function(){var t={survivor:this.currentSurvivor,grid:this.grid,controller:this.controlled};this.activeHunt.members.push(t),this.currentSurvivor=null,this.grid=null,this.controlled=null}}},m=v,p=(s("72d0"),s("0c7c")),b=Object(p["a"])(m,i,a,!1,null,"62640e22",null);e["default"]=b.exports}}]);
//# sourceMappingURL=hunt.4575d4a7.js.map