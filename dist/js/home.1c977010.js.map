{"version":3,"sources":["webpack:///./src/kdm.js","webpack:///./src/components/campaign/list.vue?4201","webpack:///./src/assets/lantern.png","webpack:///./src/views/Home.vue?2c9a","webpack:///./src/components/campaign/list.vue?7ace","webpack:///./src/components/campaign/create.vue?50ae","webpack:///src/components/campaign/create.vue","webpack:///./src/components/campaign/create.vue?a2ea","webpack:///./src/components/campaign/create.vue","webpack:///src/components/campaign/list.vue","webpack:///./src/components/campaign/list.vue?d0e9","webpack:///./src/components/campaign/list.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?e34c","webpack:///./src/views/Home.vue"],"names":["hunt","active","quarry","members","state","campaign","expansions","ended","ending","year","details","quarries","locations","survival","max","bonuses","departing","arriving","other","milestones","trigger","consequence","principles","name","choices","selected","innovations","id","deck","innovated","events","showdowns","level","survivor","stats","movement","base","accuracy","strength","evasion","luck","speed","special","bleed","tokens","plus","minus","abilities","dodge","encourage","surge","dash","endure","actions","action","amount","skipHunt","lifetime","gender","experience","born","father","mother","died","cause","retired","cannot","fightingArts","reroll","available","used","notes","defenses","arms","value","light","heavy","severe","body","brain","head","legs","waist","disorders","impairments","mentality","courage","stalwart","granted","description","prepared","matchmaker","understanding","analyze","explore","tinker","weapon","proficiency","module","exports","render","_vm","this","_h","$createElement","_c","_self","showLoading","_e","staticClass","_v","attrs","on","$event","preventDefault","login","staticRenderFns","_l","c","key","selectCampaign","_s","length","getSettlementName","model","callback","$$v","showProgress","expression","createProgressPercent","progressLabel","data","createProgressItems","createProgressDone","methods","updateProgress","label","Math","round","$buefy","dialog","prompt","message","inputAttrs","placeholder","trapFocus","onConfirm","component","components","CampaignCreate","campaigns","computed","created","$bind","bindCampaign","then","CampaignList","setLoading","firebase"],"mappings":"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","file":"js/home.1c977010.js","sourcesContent":["const hunt = {\n  active: true,\n  quarry: null,\n  members: [],\n  state: 'setup'\n}\n\nconst campaign = {\n  //Key data\n  expansions: [],\n  //Some toggles\n  active: true,\n  //Additionals\n  ended: false,\n  ending: {\n    year: null,\n    details: null\n  },\n  //Empty Ref Arrays\n  quarries: [],\n  locations: [],\n  //Tracking data\n  year: 0,\n  survival: {\n    max: 1\n  },\n  bonuses: {\n    departing: '',\n    arriving: '',\n    other: ''\n  },\n  milestones: [\n    {\n      trigger: \"First child is born\",\n      consequence: \"Principle: New Life\"\n    },\n    {\n      trigger: \"First time death count is updated\",\n      consequence: \"Principle: Death\"\n    },\n    {\n      trigger: \"Settlement has 5 innovations\",\n      consequence: \"Hooded Knight\"\n    },\n    {\n      trigger: \"Population reaches 15\",\n      consequence: \"Principle: Society\"\n    },\n    {\n      trigger: \"Population reaches 0\",\n      consequence: \"Game Over\"\n    }\n  ],\n  principles: {\n    \"new_life\": {\n      name: \"New Life\",\n      choices: [\"Protect the Young\", \"Survival of the Fittest\"],\n      selected: null\n    },\n    \"death\": {\n      name: \"Death\",\n      choices: [\"Cannibalize\", \"Graves\"],\n      selected: null\n    },\n    \"society\": {\n      name: \"Society\",\n      choices: [\"Collective Toil\", \"Accept Darkness\"],\n      selected: null\n    },\n    \"conviction\": {\n      name: \"Conviction\",\n      choices: [\"Barbaric\", \"Romantic\"],\n      selected: null\n    }\n  }\n}\n\nconst quarries = [\n  'white_lion'\n]\n\nconst innovations = [\n  {\n    id: \"language\",\n    deck: true,\n    innovated: false,\n    year: null\n  }\n]\n\nconst locations = [\n  'lantern_hoard'\n]\n\nconst events = [\n  {\n    name: \"Returning Survivors\",\n    year: 1\n  },\n  {\n    name: \"Endless Screams\",\n    year: 2\n  },\n  {\n    name: \"Hands of Heat\",\n    year: 5\n  },\n  {\n    name: \"Armored Strangers\",\n    year: 6\n  },\n  {\n    name: \"Phoenix Feather\",\n    year: 7\n  },\n  {\n    name: \"Regal Visit\",\n    year: 11\n  },\n  {\n    name: \"Principle: Conviction\",\n    year: 12\n  },\n  {\n    name: \"Watched\",\n    year: 20\n  }\n]\n\nconst showdowns = [\n  {\n    name: \"Butcher\",\n    level: 1,\n    year: 4\n  },\n  {\n    name: \"King's Man\",\n    level: 1,\n    year: 9\n  },\n  {\n    name: \"The Hand\",\n    level: 1,\n    year: 13\n  },\n  {\n    name: \"Butcher\",\n    level: 2,\n    year: 16\n  },\n  {\n    name: \"King's Man\",\n    level: 2,\n    year: 19\n  },\n  {\n    name: \"Butcher\",\n    level: 3,\n    year: 23\n  },\n  {\n    name: \"Watcher\",\n    level: 0,\n    year: 25\n  },\n  {\n    name: \"King's Man\",\n    level: 3,\n    year: 28\n  },\n  {\n    name: \"Gold Smoke Knight\",\n    level: 0,\n    year: 30\n  }\n]\n\nconst survivor = {\n  stats: {\n    movement: {\n      base: 5,\n      other: 0\n    },\n    accuracy: {\n      base: 0,\n      other: 0\n    },\n    strength: {\n      base: 0,\n      other: 0\n    },\n    evasion: {\n      base: 0,\n      other: 0\n    },\n    luck: {\n      base: 0,\n      other: 0\n    },\n    speed: {\n      base: 0,\n      other: 0\n    }\n  },\n  hunt: {\n    special: {\n      bleed: 0  \n    },\n    tokens: {\n      movement: { plus: 0, minus: 0 },\n      accuracy: { plus: 0, minus: 0 },\n      strength: { plus: 0, minus: 0 },\n      evasion:  { plus: 0, minus: 0 },\n      luck:     { plus: 0, minus: 0 },\n      speed:    { plus: 0, minus: 0 },\n      other:    []\n    },\n    abilities: {\n      dodge: false,\n      encourage: false,\n      surge: false,\n      dash: false,\n      endure: false\n    },\n    actions: {\n      action: false,\n      movement: false\n    }\n  },\n  survival: {\n    amount: 0,\n    abilities: {\n      dodge: false,\n      encourage: false,\n      surge: false,\n      dash: false,\n      endure: false\n    },\n    skipHunt: null\n  },\n  lifetime: {\n    name: null,\n    gender: null,\n    experience: 0,\n    born: null,\n    father: null,\n    mother: null,\n    died: null,\n    cause: null,\n    retired: false,\n    cannot: {\n      fightingArts: false,\n      survival: false,\n      hunt: false\n    },\n    reroll: {\n      available: false,\n      used: false\n    },\n    notes: null\n  },\n  defenses: {\n    arms: {\n      value: 0,\n      max: 0,\n      light: false,\n      heavy: false,\n      severe: []\n    },\n    body: {\n      value: 0,\n      max: 0,\n      light: false,\n      heavy: false,\n      severe: []\n    },\n    brain: {\n      value: 0,\n      max: 0,\n      light: false\n    },\n    head: {\n      value: 0,\n      max: 0,\n      heavy: false,\n      severe: []\n    },\n    legs: {\n      value: 0,\n      max: 0,\n      light: false,\n      heavy: false,\n      severe: []\n    },\n    waist: {\n      value: 0,\n      max: 0,\n      light: false,\n      heavy: false,\n      severe: []\n    }\n  },\n  abilities: {\n    abilities: [],\n    disorders: [],\n    fightingArts: [],\n    impairments: []\n  },\n  mentality: {\n    courage: {\n      level: 0,\n      abilities: {\n        stalwart: {\n          name: \"Stalwart\",\n          granted: false,\n          description: \"Can't be knocked down by brain trauma or intimidate.\"\n        },\n        prepared: {\n          name: \"Prepared\",\n          granted: false,\n          description: \"Add Hunt XP to your roll when determining a straggler.\"\n        },\n        matchmaker: {\n          name: \"Matchmaker\",\n          granted: false,\n          description: \"Spend 1 endeavor to trigger intimacy story event.\"\n        }\n      }\n    },\n    understanding: {\n      level: 0,\n      abilities: {\n        analyze: {\n          name: \"Analyze\",\n          granted: false,\n          description: \"Look at the top AI card and return it to the top of the deck.\"\n        },\n        explore: {\n          name: \"Explore\",\n          granted: false,\n          description: \"Add +2 to your investigate roll results.\"\n        },\n        tinker: {\n          name: \"Tinker\",\n          granted: false,\n          description: \"+1 endeavor when you are a returning survivor.\"\n        }\n      }\n    }\n  },\n  weapon: {\n    selected: null,\n    proficiency: 0\n  }\n}\n\nexport {\n  quarries,\n  innovations,\n  locations,\n  events,\n  showdowns,\n  survivor,\n  campaign,\n  hunt\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=23616dd2&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/lantern.21453bec.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.showLoading)?_c('div',{staticClass:\"column is-12 is-centered\"},[(_vm.user)?_c('div',[_c('h1',{staticClass:\"title\"},[_vm._v(\"Select a Campaign\")]),_c('CampaignList')],1):_c('div',[_c('img',{attrs:{\"alt\":\"Vue logo\",\"src\":require(\"../assets/lantern.png\")}}),_c('h1',{staticClass:\"title\"},[_vm._v(\"Kingdom Death Management\")]),_c('h2',{staticClass:\"subtitle\"},[_vm._v(\"Please Login to Continue\")]),_c('button',{staticClass:\"button is-primary\",on:{\"click\":function($event){$event.preventDefault();return _vm.login($event)}}},[_vm._v(\"Login with Google\")])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"columns is-multiline\"},_vm._l((_vm.campaigns),function(c){return _c('div',{key:c.id,staticClass:\"column is-4\"},[_c('div',{staticClass:\"card campaign\",on:{\"click\":function($event){$event.preventDefault();return _vm.selectCampaign(c)}}},[_c('header',{staticClass:\"card-header\"},[_c('p',{staticClass:\"card-header-title\"},[_vm._v(\" \"+_vm._s(c.name)+\" \")])]),_c('div',{staticClass:\"card-content\"},[_vm._v(\" Lantern Year \"+_vm._s(c.year)+\" \"),_c('br'),_vm._v(\" \"+_vm._s(c.members.length)+\" Players \")])])])}),0),_c('hr'),_c('CampaignCreate')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"buttons is-centered\"},[_c('b-button',{attrs:{\"size\":\"is-large\",\"icon-left\":\"plus-circle\",\"rounded\":\"\",\"type\":\"is-primary is-light\"},on:{\"click\":function($event){$event.preventDefault();return _vm.getSettlementName($event)}}},[_vm._v(\" Create New Campaign \")]),_c('b-loading',{attrs:{\"is-full-page\":true,\"can-cancel\":false},model:{value:(_vm.showProgress),callback:function ($$v) {_vm.showProgress=$$v},expression:\"showProgress\"}},[_c('b-progress',{attrs:{\"value\":_vm.createProgressPercent,\"size\":\"is-large\",\"show-value\":\"\"}},[_vm._v(\" Creating Campaign: \"+_vm._s(_vm.createProgressPercent)+\"% \"+_vm._s(_vm.progressLabel)+\" \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"buttons is-centered\">\n    <b-button\n      size=\"is-large\"\n      icon-left=\"plus-circle\"\n      rounded\n      type=\"is-primary is-light\"\n      @click.prevent=\"getSettlementName\"\n    >\n      Create New Campaign\n    </b-button>\n    <b-loading :is-full-page=\"true\" v-model=\"showProgress\" :can-cancel=\"false\">\n      <b-progress :value=\"createProgressPercent\" size=\"is-large\" show-value>\n        Creating Campaign: {{ createProgressPercent }}% {{ progressLabel }}\n      </b-progress>\n    </b-loading>\n  </div>\n</template>\n\n<script>\nimport { db, firebase } from '@/firebase'\nimport * as kdm from '@/kdm'\n\nexport default {\n  name: 'CampaignCreate',\n  data() {\n    return {\n      createProgressPercent: 0,\n      createProgressItems: 0,\n      createProgressDone: 0,\n      showProgress: false,\n      progressLabel: ''\n    }\n  },\n  methods: {\n    updateProgress(label) {\n      this.createProgressDone++\n      this.progressLabel = label\n      this.createProgressPercent = Math.round( this.createProgressDone / this.createProgressItems )\n    },\n  \n    getSettlementName() {\n      this.$buefy.dialog.prompt({\n        message: 'Name your Settlement:',\n        inputAttrs: {\n          placeholder: 'Settlement Name'\n        },\n        trapFocus: true,\n        onConfirm: (v) => this.createCampaign(v)\n      })\n    },\n    \n    async createCampaign(settlementName) {\n      this.createProgressPercent = 0\n      this.createProgressDone = 0\n      this.createProgressItems = (42 + kdm.quarries.length + kdm.locations.length + kdm.events.length + kdm.showdowns.length + kdm.innovations.length);\n      \n      this.showProgress = true\n      \n      let campaign = kdm.campaign\n      campaign.name = settlementName\n      campaign.members = [this.user.uid]\n      \n      let campaignRef = db.collection('campaigns').doc()\n      campaignRef.set(campaign).then(() => this.updateProgress('Creating core campaign data'))\n      await this.populateCampaign(campaignRef)\n      \n      this.showProgress = false\n      this.bindCampaign(campaignRef.id)\n      this.$router.push({ name: 'Settlement' })\n    },\n    \n    async populateCampaign(campaign) {\n      let timelinePushes = []\n      let emptyTimelineSlot = {\n        reached: false,\n        storyEvents: [],\n        settlementEvents: [],\n        showdowns: [],\n        innovation: '',\n        quarry: null,\n        successful: false,\n      }\n      \n      for(let year = 0; year < 40; year++) {\n        console.log('Queueing timeline push: '+year.toString())\n        let tlSlot = Object.assign({ year: year }, emptyTimelineSlot)\n        timelinePushes.push(\n          campaign.collection('timeline').doc(year.toString()).set(tlSlot)\n            .then(() => this.updateProgress('Instantiating timeline'))\n        );\n      }\n      \n      console.log('Pushing all years')\n      await Promise.all(timelinePushes)\n      \n      campaign.collection('timeline').doc('0').update({\n        quarry: 'White Lion (Prologue)'\n      })\n      \n      campaign.collection('timeline').doc('1').update({\n        settlementEvents: firebase.firestore.FieldValue.arrayUnion('First Story')\n      })\n      \n      kdm.quarries.forEach(q => {\n        console.log('Adding Quarry: '+q)\n        campaign.update({\n          quarries: firebase.firestore.FieldValue.arrayUnion(q)\n        }).then(() => this.updateProgress('Adding quarries'))\n      })\n      \n      kdm.locations.forEach(l => {\n        console.log('Adding location: '+l)\n        campaign.update({\n          locations: firebase.firestore.FieldValue.arrayUnion(l)\n        }).then(() => this.updateProgress('Adding locations'))\n      })\n      \n      kdm.events.forEach(e => {\n        console.log('Adding event: '+e.name)\n        campaign.collection('timeline').doc(e.year.toString()).update({\n          storyEvents: firebase.firestore.FieldValue.arrayUnion(e.name)\n        }).then(() => this.updateProgress('Adding default events'))\n      })\n      \n      kdm.showdowns.forEach(s => {\n        console.log('Adding Showdown: '+s.name+s.level)\n        campaign.collection('timeline').doc(s.year.toString()).update({\n          showdowns: firebase.firestore.FieldValue.arrayUnion({ name: s.name, level: s.level })\n        }).then(() => this.updateProgress('Adding default showdowns'))\n      })\n      \n      kdm.innovations.forEach(i => {\n        console.log('Adding innovation to deck: '+i.id)\n        campaign.collection('innovations').doc(i.id).set({\n          deck: i.deck,\n          innovated: i.innovated,\n          year: i.year\n        }).then(() => this.updateProgress('Building innovation deck'))\n      })\n    }\n  }\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./create.vue?vue&type=template&id=972e0348&\"\nimport script from \"./create.vue?vue&type=script&lang=js&\"\nexport * from \"./create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n  <div class=\"columns is-multiline\">\n    <div class=\"column is-4\" v-for=\"c in campaigns\" :key=\"c.id\">\n      <div class=\"card campaign\" @click.prevent=\"selectCampaign(c)\">\n        <header class=\"card-header\">\n          <p class=\"card-header-title\">\n            {{ c.name }}\n          </p>\n        </header>\n        <div class=\"card-content\">\n          Lantern Year {{ c.year }} <br />\n          {{ c.members.length }} Players\n        </div>\n      </div>\n    </div>\n  </div>\n  <hr />\n  <CampaignCreate />\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.campaign {\n  cursor: pointer;\n  \n  &:hover {\n    box-shadow: inset 0 0 2px #7957d5, inset 0 0 2px #7957d5, inset 0 0 2px #7957d5\n  }\n}\n</style>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport { db } from '@/firebase'\nimport CampaignCreate from '@/components/campaign/create'\n\nexport default {\n  name: 'CampaignList',\n  components: {\n    CampaignCreate\n  },\n  data() {\n    return {\n      campaigns: []\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'user'\n    ])\n  },\n  created() {\n    let userId = this.user.uid\n    this.$bind('campaigns', db.collection('campaigns').where('members', 'array-contains', userId))\n  },\n  methods: {\n    ...mapActions([\n      'bindCampaign'\n    ]),\n    \n    selectCampaign(campaign) {\n      this.bindCampaign(campaign.id).then(() => {\n        this.$router.push({ name: 'Settlement' })\n      })\n    }\n  }\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=23616dd2&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=23616dd2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23616dd2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"column is-12 is-centered\" v-if=\"!showLoading\">\n    <div v-if=\"user\">\n      <h1 class=\"title\">Select a Campaign</h1>\n      <CampaignList />\n    </div>\n    <div v-else>\n      <img alt=\"Vue logo\" src=\"../assets/lantern.png\">\n      <h1 class=\"title\">Kingdom Death Management</h1>\n      <h2 class=\"subtitle\">Please Login to Continue</h2>\n      <button class=\"button is-primary\" @click.prevent=\"login\">Login with Google</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\nimport { firebase } from '@/firebase'\nimport CampaignList from '@/components/campaign/list'\n\n\nexport default {\n  name: 'Home',\n  components: {\n    CampaignList\n  },\n  methods: {\n    ...mapActions([\n      'setUser',\n      'clearUser'\n    ]),\n    \n    login() {\n      const provider = new firebase.auth.GoogleAuthProvider()\n      this.setLoading(true)\n      firebase.auth().signInWithRedirect(provider).then((result) => {\n        this.setUser(result.user)\n      }).catch(err => console.log(err))\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=a6b32774&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}