(function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],l=0,d=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);m&&m(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},i={app:0},o=[];function s(e){return c.p+"js/"+({home:"home","hunt~storage":"hunt~storage",hunt:"hunt",storage:"storage",innovations:"innovations",settlement:"settlement",survivors:"survivors",timeline:"timeline"}[e]||e)+"."+{home:"6e1bf3ea","hunt~storage":"30ee636b",hunt:"6655f91e",storage:"55d70162",innovations:"48213285",settlement:"0a996568",survivors:"cc73f97f",timeline:"659e0928"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={home:1,hunt:1,storage:1,innovations:1,settlement:1,survivors:1,timeline:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({home:"home","hunt~storage":"hunt~storage",hunt:"hunt",storage:"storage",innovations:"innovations",settlement:"settlement",survivors:"survivors",timeline:"timeline"}[e]||e)+"."+{home:"9308ab09","hunt~storage":"31d6cfe0",hunt:"53b8b1cd",storage:"c79032c8",innovations:"af934bf7",settlement:"7e6410f8",survivors:"b06e3686",timeline:"2e28f96c"}[e]+".css",i=c.p+r,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var u=o[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===r||l===i)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],m.parentNode.removeChild(m),n(o)},m.href=i;var b=document.getElementsByTagName("head")[0];b.appendChild(m)})).then((function(){a[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(m);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}i[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/kingdomdeathmanagement/dist/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var m=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2b43":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{attrs:{id:"app"}},[e.todos.length>0?n("b-message",{attrs:{type:"is-danger",title:"TODO LIST",size:"is-small"}},[e._v(" "+e._s(e.todos)+" ")]):e._e(),n("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.showLoading,callback:function(t){e.showLoading=t},expression:"showLoading"}}),n("Navigation"),n("div",{staticClass:"container"},[n("div",{staticClass:"columns"},[n("transition",{attrs:{appear:"",name:"fade",mode:"out-in"}},[n("router-view",{key:e.$route.fullPath})],1)],1)])],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return!e.showLoading&&e.user&&e.campaign?n("b-navbar",{attrs:{transparent:""}},[n("template",{slot:"start"},[n("b-navbar-item",{attrs:{tag:"router-link",to:{name:"Settlement"}}},[n("b-icon",{staticClass:"mr-2",attrs:{icon:"landmark"}}),e._v(" Settlement ")],1),n("b-navbar-item",{attrs:{tag:"router-link",to:{name:"Timeline"}}},[n("b-icon",{staticClass:"mr-2",attrs:{icon:"stream"}}),e._v(" Timeline ")],1),n("b-navbar-item",{attrs:{tag:"router-link",to:{name:"Survivors"}}},[n("b-icon",{staticClass:"mr-2",attrs:{icon:"user-injured"}}),e._v(" Survivors ")],1),n("b-navbar-item",{attrs:{tag:"router-link",to:{name:"Storage"}}},[n("b-icon",{staticClass:"mr-2",attrs:{icon:"box-open"}}),e._v(" Storage ")],1),n("b-navbar-item",{attrs:{tag:"router-link",to:{name:"Innovations"}}},[n("b-icon",{staticClass:"mr-2",attrs:{icon:"book"}}),e._v(" Innovations ")],1),n("b-navbar-item",{attrs:{tag:"router-link",to:{name:"Hunt"}}},[n("b-icon",{staticClass:"mr-2",attrs:{icon:"mountain"}}),e._v(" Hunt ")],1)],1),n("template",{slot:"end"},[e.user?n("b-dropdown",{attrs:{position:"is-bottom-left","append-to-body":"","trap-focus":"","aria-role":"menu"}},[n("b-button",{staticClass:"is-light navbar-item mr-1 mt-1",attrs:{slot:"trigger",size:"is-small",type:"is-info",role:"button","icon-left":"user-circle"},slot:"trigger"},[e._v(" "+e._s(e.user.displayName)+" ")]),n("b-dropdown-item",{attrs:{custom:"","aria-role":"menuitem"}},[e._v(" Logged in as: "),n("br"),e._v(" "+e._s(e.user.email)+" ")]),n("b-dropdown-item",{attrs:{custom:"","aria-role":"menuitem"}},[e._v(" Display Name: "),n("br"),e._v(" "+e._s(e.pubUser.displayName)+" ")]),n("hr",{staticClass:"dropdown-divider"}),n("b-dropdown-item",{attrs:{"aria-role":"menuitem"}},[n("router-link",{staticClass:"is-info",attrs:{to:"/"}},[n("span",{staticClass:"bl-lantern is-size-3 mx-1"}),e._v(" Change Campaign ")])],1),n("hr",{staticClass:"dropdown-divider"}),n("b-dropdown-item",{attrs:{"aria-role":"menuitem"},on:{click:e.promptUpdate}},[n("b-icon",{attrs:{icon:"edit"}}),e._v(" Update Display Name ")],1),n("b-dropdown-item",{attrs:{"aria-role":"menuitem"},on:{click:e.logout}},[n("b-icon",{attrs:{icon:"sign-out-alt"}}),e._v(" Logout ")],1)],1):e._e()],1)],2):e._e()},s=[],c=n("5530"),u=n("2f62"),l=n("dc59"),d={name:"Navigation",computed:Object(c["a"])({},Object(u["c"])(["user","pubUser"])),methods:Object(c["a"])(Object(c["a"])({},Object(u["b"])(["clearUser","setPubUser"])),{},{logout:function(){var e=this;l["b"].auth().signOut().then((function(){e.clearUser()})).catch((function(e){return console.log(e)}))},promptUpdate:function(){var e=this;this.$buefy.dialog.prompt({message:"Change your Display Name",inputAttrs:{placeholder:"Your name of choice",required:!0},required:!0,trapFocus:!0,confirmText:"Update",onConfirm:function(t){return e.updateName(t)}})},updateName:function(e){var t=this;this.pubUser.displayName=e,l["a"].collection("users").doc(this.user.uid).update({displayName:e}).then((function(e){console.log(e),t.setPubUser(t.pubUser)}))}})},m=d,b=n("0c7c"),p=Object(b["a"])(m,o,s,!1,null,null,null),f=p.exports,g={data:function(){return{todos:["Refactor Survivor Pick method","Finish Survivor Severe Injury area"]}},components:{Navigation:f}},h=g,v=(n("5c0b"),Object(b["a"])(h,a,i,!1,null,null,null)),w=v.exports,y=(n("45fc"),n("d3b7"),n("8c4f"));r["a"].use(y["a"]);var O=[{path:"/",name:"Home",component:function(){return n.e("home").then(n.bind(null,"bb51"))}},{path:"/survivors",name:"Survivors",component:function(){return n.e("survivors").then(n.bind(null,"6aa8"))},meta:{requiresAuth:!0},children:[{path:":id"}]},{path:"/settlement",name:"Settlement",component:function(){return n.e("settlement").then(n.bind(null,"e8ea"))},meta:{requiresAuth:!0}},{path:"/timeline",name:"Timeline",component:function(){return n.e("timeline").then(n.bind(null,"f67a"))},meta:{requiresAuth:!0}},{path:"/innovations",name:"Innovations",component:function(){return n.e("innovations").then(n.bind(null,"bec2"))},meta:{requiresAuth:!0}},{path:"/storage",name:"Storage",redirect:"/storage/resources",component:function(){return Promise.all([n.e("hunt~storage"),n.e("storage")]).then(n.bind(null,"1038"))},meta:{requiresAuth:!0},children:[{name:"tab-resources",path:"resources",component:function(){return Promise.all([n.e("hunt~storage"),n.e("storage")]).then(n.bind(null,"1038"))}},{name:"tab-gear",path:"gear",component:function(){return Promise.all([n.e("hunt~storage"),n.e("storage")]).then(n.bind(null,"1038"))}},{name:"tab-grids",path:"grids",component:function(){return Promise.all([n.e("hunt~storage"),n.e("storage")]).then(n.bind(null,"1038"))}}]},{path:"/grids/edit/:id",name:"Grid Edit",component:function(){return Promise.all([n.e("hunt~storage"),n.e("storage")]).then(n.bind(null,"629f"))}},{path:"/hunt",name:"Hunt",component:function(){return Promise.all([n.e("hunt~storage"),n.e("hunt")]).then(n.bind(null,"ec9b"))},meta:{requiresAuth:!0},children:[{name:"Hunt Setup",path:"setup",component:function(){return Promise.all([n.e("hunt~storage"),n.e("hunt")]).then(n.bind(null,"fa53"))}}]}],S=new y["a"]({mode:"history",base:"/kingdomdeathmanagement/dist/",routes:O});S.beforeEach((function(e,t,n){var r=e.matched.some((function(e){return e.meta.requiresAuth}));r?l["b"].auth().onAuthStateChanged((function(e){e?n():n("/")})):n()}));var _=S,j=(n("4160"),n("b64b"),n("3ca3"),n("159b"),n("ddb0"),n("96cf"),n("1da1")),C=n("3317"),A=n("0e44");r["a"].use(u["a"]);var k={isBinding:!1,user:null,users:[],pubUser:null,showLoading:!0,loadingText:null,currentCampaignId:null,campaign:null,innovations:[],innovated:[],keywords:[],survivors:[],resources:[],gear:[],grids:[],timeline:[],showdowns:[],quarries:[],armorSets:[],locations:[],hunts:[]},I=function(){var e=Object.keys(k),t={};return e.forEach((function(e){t[e]=function(t){return t[e]}})),t},T=new u["a"].Store({plugins:[Object(A["a"])({storage:window.sessionStorage})],state:k,getters:I(),mutations:Object(c["a"])(Object(c["a"])({},C["b"]),{},{CLEAR_BINDING:function(e){e.isBinding=!1},SET_USER:function(e,t){e.user=t},SET_LOADING:function(e,t){e.showLoading=t},SET_PUBUSER:function(e,t){e.pubUser=t},SET_CAMPAIGN_ID:function(e,t){e.currentCampaignId=t},SET_LOADING_TEXT:function(e,t){e.loadingText=t}}),actions:{initFlag:function(e){var t=e.commit;t("CLEAR_BINDING")},setUser:function(e,t){var n=e.commit,r=e.dispatch;t&&(n("SET_USER",t),r("bindUsers"),r("bindPubUser"),r("bindKeywords"),r("bindInnovations"),r("bindQuarries"),r("bindShowdowns"),r("bindLocations"),r("bindArmorSets"))},setLoading:function(e,t){var n=e.commit,r=e.state;r.isBinding||null!==t&&n("SET_LOADING",t)},setLoadingText:function(e,t){var n=e.commit;n("SET_LOADING_TEXT",t)},setCampaignId:function(e,t){var n=e.commit;n("SET_CAMPAIGN_ID",t)},clearUser:Object(C["a"])((function(e){var t=e.unbindFirestoreRef,n=e.commit;n("SET_USER",null),window.sessionStorage.clear(),t("pubUser")})),bindUsers:Object(C["a"])((function(e){var t=e.bindFirestoreRef;return t("users",l["a"].collection("users"))})),bindPubUser:Object(C["a"])((function(e){var t=e.state,n=e.bindFirestoreRef;return n("pubUser",l["a"].collection("users").doc(t.user.uid))})),bindCampaign:Object(C["a"])(function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.bindFirestoreRef,a=t.dispatch,i=t.state,!i.isBinding){e.next=3;break}return e.abrupt("return");case 3:return a("setLoading",!0),i.isBinding=!0,a("setCampaignId",n),e.next=8,r("campaign",l["a"].collection("campaigns").doc(n)).then(Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Promise.all([a("bindSurvivors",n),a("bindInnovated",n),a("bindTimeline",n),a("bindResources",n),a("bindGear",n),a("bindGrids",n),a("bindHunts",n)]).finally((function(){i.isBinding=!1,a("setLoading",!1)}));case 1:case"end":return e.stop()}}),e)}))));case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),bindSurvivors:Object(C["a"])((function(e,t){var n=e.bindFirestoreRef;return n("survivors",l["a"].collection("campaigns/".concat(t,"/survivors")))})),bindInnovated:Object(C["a"])((function(e,t){var n=e.bindFirestoreRef;return n("innovated",l["a"].collection("campaigns/".concat(t,"/innovations")))})),bindTimeline:Object(C["a"])((function(e,t){var n=e.bindFirestoreRef;return n("timeline",l["a"].collection("campaigns/".concat(t,"/timeline")))})),bindResources:Object(C["a"])((function(e,t){var n=e.bindFirestoreRef;return n("resources",l["a"].collection("campaigns/".concat(t,"/resources")))})),bindGear:Object(C["a"])((function(e,t){var n=e.bindFirestoreRef;return n("gear",l["a"].collection("campaigns/".concat(t,"/gear")))})),bindGrids:Object(C["a"])((function(e,t){var n=e.bindFirestoreRef;return n("grids",l["a"].collection("campaigns/".concat(t,"/grids")))})),bindHunts:Object(C["a"])((function(e,t){var n=e.bindFirestoreRef;return n("hunts",l["a"].collection("campaigns/".concat(t,"/hunts")))})),bindInnovations:Object(C["a"])((function(e){var t=e.bindFirestoreRef;return t("innovations",l["a"].collection("innovations"))})),bindKeywords:Object(C["a"])((function(e){var t=e.bindFirestoreRef;return t("keywords",l["a"].collection("keywords"))})),bindQuarries:Object(C["a"])((function(e){var t=e.bindFirestoreRef;return t("quarries",l["a"].collection("quarries"))})),bindShowdowns:Object(C["a"])((function(e){var t=e.bindFirestoreRef;return t("showdowns",l["a"].collection("showdowns"))})),bindArmorSets:Object(C["a"])((function(e){var t=e.bindFirestoreRef;return t("armorSets",l["a"].collection("armor_sets"))})),bindLocations:Object(C["a"])((function(e){var t=e.bindFirestoreRef;return t("locations",l["a"].collection("locations"))}))}}),E=n("0ff2"),L=(n("fb6a"),n("498a"),r["a"].mixin({computed:Object(c["a"])({},Object(u["c"])(["showLoading","campaign","currentCampaignId","isBinding","user"])),methods:Object(c["a"])(Object(c["a"])({},Object(u["b"])(["setLoading","setLoadingText","bindCampaign"])),{},{capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},normalize:function(e){return e.trim().toLowerCase()},parseBlock:function(e){return e?e.replaceAll("[A]",'<span class="bl-action"></span>').replaceAll("[M]",'<span class="bl-movement"></span>').replaceAll("[E]",'<span class="bl-endeavor"></span>').replaceAll("[S]",'<span class="bl-story-event"></span>').replaceAll("\n","<br />").replaceAll(/\{[0-9]+\}/g,(function(e){var t=parseInt(e.replaceAll("{","").replaceAll("}",""));return'<span class="armor-block"><span class="bl-armor"></span><span class="amount">'.concat(t,"</span></span>")})):""}}),created:function(){var e;!this.$store||!this.currentCampaignId||null!==(e=this.campaign)&&void 0!==e&&e.id||this.bindCampaign(this.currentCampaignId)}}),n("289d")),R=(n("5abe"),n("ecee")),U=n("c074"),P=n("ad3d");R["c"].add(U["a"],U["b"],U["c"],U["d"],U["e"],U["f"],U["g"],U["h"],U["i"],U["j"],U["k"],U["l"],U["m"],U["n"],U["o"],U["p"],U["q"],U["r"],U["s"],U["t"],U["u"],U["v"],U["w"],U["x"],U["y"],U["z"],U["A"],U["B"],U["C"],U["D"],U["E"],U["F"],U["G"],U["H"],U["I"],U["J"],U["K"],U["L"],U["M"],U["N"],U["O"],U["P"],U["S"],U["T"],U["Q"],U["R"],U["U"],U["V"],U["W"],U["X"],U["Y"],U["Z"],U["ab"]),r["a"].component("vue-fontawesome",P["a"]),r["a"].use(L["a"],{defaultIconComponent:"vue-fontawesome",defaultIconPack:"fas",customIconPacks:{fas:{sizes:{default:"lg","is-small":"1x","is-medium":"2x","is-large":"3x"},iconPrefix:""}}}),r["a"].use(E["a"]),r["a"].config.productionTip=!1,l["b"].auth().onAuthStateChanged((function(e){T.dispatch("setUser",e),T.dispatch("setLoading",!1)}));var N=new r["a"]({router:_,store:T,render:function(e){return e(w)}}).$mount("#app");N.$store.dispatch("initFlag")},"5c0b":function(e,t,n){"use strict";n("2b43")},dc59:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("260b");n.d(t,"b",(function(){return r["a"]}));n("ea7b"),n("000b"),n("e71f");var a={apiKey:"AIzaSyBmSsnVV-42ImI7NTs3l02H_-6WLl63CiA",authDomain:"kingdomdeathmanagement.firebaseapp.com",databaseURL:"https://kingdomdeathmanagement.firebaseio.com",projectId:"kingdomdeathmanagement",storageBucket:"kingdomdeathmanagement.appspot.com",messagingSenderId:"577246476472",appId:"1:577246476472:web:f19bf30a4700bd1baf5c4d",measurementId:"G-1VZ07JWF07"},i=r["a"].initializeApp(a);r["a"].analytics();i.auth();var o=i.firestore()}});
//# sourceMappingURL=app.02875324.js.map