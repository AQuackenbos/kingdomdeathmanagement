(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["hunt~storage"],{"0bd4":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box gear-card"},["armor"===t.item.type||t.item.grants.armor?n("div",{staticClass:"armor"},[n("div",{staticClass:"armor-block"},[n("span",{staticClass:"bl-armor is-size-4"}),n("span",{staticClass:"amount"},[t._v(t._s(t.item.armor.amount))]),t._l(t.item.armor.locations,(function(e){return n("span",{key:e,staticClass:"armor-loc",class:t.iconTranslation[e]})}))],2)]):t._e(),"weapon"===t.item.type||t.item.grants.attack?n("div",{staticClass:"weapon"},[n("div",{staticClass:"weapon-holder"},[n("span",{staticClass:"bl-action",staticStyle:{color:"black",background:"white","border-radius":"5em"}}),n("hr"),n("span",[t._v(t._s(t.item.weapon.speed))]),n("div",{staticClass:"weapon-inner"},[n("div",{staticClass:"top"},[t._v(t._s(t.item.weapon.accuracy))]),n("div",{staticClass:"bot"},[t._v(t._s(t.item.weapon.strength))])])])]):t._e(),n("div",{staticClass:"top-text"},[n("h1",{staticClass:"is-size-5"},[t._v(t._s(t.item.name))]),n("p",{staticClass:"is-size-7"},[t._v(t._s(t.classifications))])]),n("div",{staticClass:"center-image"},["armor"===t.item.type||t.item.grants.armor?n("div",[t.item.armor.locations.length>0?n("div",t._l(t.item.armor.locations,(function(e){return n("span",{key:e,staticClass:"is-size-1",class:t.iconTranslation[e]})})),0):n("div",[n("span",{staticClass:"is-size-1",class:t.iconTranslation["armor"]})])]):"weapon"===t.item.type||t.item.grants.attack?n("div",[n("span",{staticClass:"is-size-1",class:t.iconTranslation["weapon"]})]):"item"===t.item.type?n("div",[n("span",{staticClass:"is-size-1",class:t.iconTranslation["item"]})]):n("div",[n("span",{staticClass:"is-size-1 bl-random"})])]),n("div",{staticClass:"bottom-text"},[t.item.affinities.length>0?n("div",t._l(t.item.affinities,(function(t,e){return n("div",{key:e,staticClass:"affinity"},[n("b-icon",{style:{color:t.toLowerCase()},attrs:{icon:"square-full",size:"is-medium"}})],1)})),0):t._e(),t.item.keywords.length>0?n("div",{staticClass:"is-size-6 keywords"},t._l(t.item.keywords,(function(e,r){return n("span",{key:r},[t.keywordTooltip(e)?n("b-tooltip",{attrs:{type:"is-dark",multilined:""},scopedSlots:t._u([{key:"content",fn:function(){return[n("div",{staticClass:"is-size-7"},[n("strong",[t._v(t._s(t.keywordTooltip(e).name))]),n("br"),t._v(" "+t._s(t.keywordTooltip(e).description)+" ")])]},proxy:!0}],null,!0)},[n("strong",[t._v(t._s(e))])]):n("strong",[t._v(t._s(e))]),r+1!==t.item.keywords.length?n("span",[t._v(", ")]):t._e()],1)})),0):t._e(),t.item.description?n("div",{staticClass:"is-size-7 description",domProps:{innerHTML:t._s(t.parsedDescription)}}):t._e(),t.item.action?n("div",{staticClass:"is-size-7 action"},[n("span",{staticClass:"bl-action"}),t._v(": "),n("span",{domProps:{innerHTML:t._s(t.parsedAction)}})]):t._e(),t.item.unlock.requires&&t.item.unlock.requires.length>0||t.item.unlock.description?n("div",{staticClass:"is-size-7 unlock"},[n("section",{staticClass:"field",class:{"is-grouped":2!==t.item.unlock.sizing},staticStyle:{width:"100%"}},[n("p",{staticClass:"left",class:{sm:0===t.item.unlock.sizing,lg:1===t.item.unlock.sizing,fl:2===t.item.unlock.sizing}},t._l(t.item.unlock.requires.map((function(e){return t.normalize(e)})),(function(t,e){return n("b-icon",{key:e,attrs:{icon:t.includes("connection")?"puzzle-piece":"square-full",size:"is-small",type:t.includes("red")?"is-danger":t.includes("blue")?"is-info":"is-success"}})})),1),n("p",{staticClass:"right",class:{sm:1===t.item.unlock.sizing,lg:0===t.item.unlock.sizing,fl:2===t.item.unlock.sizing},domProps:{innerHTML:t._s(t.parsedUnlock)}})])]):t._e()]),t._l(["top","bottom","left","right"],(function(e){return n("div",{key:e,staticClass:"connection-container",class:e},[n("div",{staticClass:"connection",class:e},[t.item.connections[e]?n("span",{staticClass:"bl-milestone",style:{color:t.item.connections[e]}}):t._e()])])})),t.showRemove?n("div",{staticClass:"remove-container",on:{click:function(e){return e.preventDefault(),t.remove(e)}}},[n("b-button",{attrs:{type:"is-dark",size:"is-small"}},[n("b-icon",{attrs:{icon:"times",type:"is-danger"}})],1)],1):t._e(),t.showQty?n("div",{staticClass:"qty-container"},[n("span",{staticClass:"tag is-dark"},[t._v("x"+t._s(t.item.qty))])]):t._e()],2)},i=[],o=(n("a4d3"),n("e01a"),n("99af"),n("7db0"),n("a15b"),n("b0c0"),n("2ca0"),n("2909")),s=n("5530"),a=n("2f62"),c=n("e0eb"),u={name:"GearCard",props:{item:{type:Object,default:function(){return Object.assign({},c["a"])}},showRemove:{type:Boolean,default:!1},showQty:{type:Boolean,default:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(a["c"])(["keywords"])),{},{parsedDescription:function(){return this.parseBlock(this.item.description)},parsedAction:function(){return this.parseBlock(this.item.action)},parsedUnlock:function(){return this.parseBlock(this.item.unlock.description)},classifications:function(){return[this.item.type].concat(Object(o["a"])(this.item.classifications)).join(", ")},iconTranslation:function(){return{weapon:"bl-nemesis-event",armor:"bl-armor",item:"bl-lantern",all:"bl-armor",head:"bl-head",body:"bl-body",arms:"bl-arms",legs:"bl-legs",waist:"bl-waist"}}}),methods:{keywordTooltip:function(t){var e=this;return t&&this.keywords.find((function(n){return e.normalize(t).startsWith(e.normalize(n.name))}))||!1},remove:function(){this.$emit("remove")}}},l=u,d=(n("b740"),n("0c7c")),f=Object(d["a"])(l,r,i,!1,null,"e7541694",null);e["a"]=f.exports},"13d5":function(t,e,n){"use strict";var r=n("23e7"),i=n("d58f").left,o=n("a640"),s=n("ae40"),a=n("2d00"),c=n("605d"),u=o("reduce"),l=s("reduce",{1:0}),d=!c&&a>79&&a<83;r({target:"Array",proto:!0,forced:!u||!l||d},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},2532:function(t,e,n){"use strict";var r=n("23e7"),i=n("5a34"),o=n("1d80"),s=n("ab13");r({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~String(o(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"2ca0":function(t,e,n){"use strict";var r=n("23e7"),i=n("06cf").f,o=n("50c4"),s=n("5a34"),a=n("1d80"),c=n("ab13"),u=n("c430"),l="".startsWith,d=Math.min,f=c("startsWith"),m=!u&&!f&&!!function(){var t=i(String.prototype,"startsWith");return t&&!t.writable}();r({target:"String",proto:!0,forced:!m&&!f},{startsWith:function(t){var e=String(a(this));s(t);var n=o(d(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return l?l.call(e,r,n):e.slice(n,n+r.length)===r}})},3835:function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return a}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function i(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)if(n.push(s.value),e&&n.length===e)break}catch(c){i=!0,o=c}finally{try{r||null==a["return"]||a["return"]()}finally{if(i)throw o}}return n}}var o=n("06c5");function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){return r(t)||i(t,e)||Object(o["a"])(t,e)||s()}},"3ae0":function(t,e,n){},"3c4e":function(t,e,n){"use strict";var r=function(t){return i(t)&&!o(t)};function i(t){return!!t&&"object"===typeof t}function o(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||c(t)}var s="function"===typeof Symbol&&Symbol.for,a=s?Symbol.for("react.element"):60103;function c(t){return t.$$typeof===a}function u(t){return Array.isArray(t)?[]:{}}function l(t,e){return!1!==e.clone&&e.isMergeableObject(t)?v(u(t),t,e):t}function d(t,e,n){return t.concat(e).map((function(t){return l(t,n)}))}function f(t,e){if(!e.customMerge)return v;var n=e.customMerge(t);return"function"===typeof n?n:v}function m(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}function p(t){return Object.keys(t).concat(m(t))}function h(t,e){try{return e in t}catch(n){return!1}}function b(t,e){return h(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function g(t,e,n){var r={};return n.isMergeableObject(t)&&p(t).forEach((function(e){r[e]=l(t[e],n)})),p(e).forEach((function(i){b(t,i)||(h(t,i)&&n.isMergeableObject(e[i])?r[i]=f(i,n)(t[i],e[i],n):r[i]=l(e[i],n))})),r}function v(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||d,n.isMergeableObject=n.isMergeableObject||r,n.cloneUnlessOtherwiseSpecified=l;var i=Array.isArray(e),o=Array.isArray(t),s=i===o;return s?i?n.arrayMerge(t,e,n):g(t,e,n):l(e,n)}v.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return v(t,n,e)}),{})};var y=v;t.exports=y},"53ca":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}},"5a34":function(t,e,n){var r=n("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},"7abd":function(t,e,n){"use strict";n("a4d3"),n("e01a"),n("4de4"),n("7db0"),n("4160"),n("caad"),n("c975"),n("d81d"),n("13d5"),n("b0c0"),n("b64b"),n("d3b7"),n("ac1f"),n("2532"),n("1276"),n("498a"),n("159b"),n("ddb0");var r=n("3835"),i=n("2909"),o=n("53ca"),s=n("5530"),a=n("2f62"),c=n("dc59");e["a"]={data:function(){return{grid:{items:[]},translate:{weapon:"nemesis-event",shield:"armor",body:"body",waist:"waist",head:"head",arms:"arms",legs:"legs",item:"lantern"},shortname:{movement:"MOV",accuracy:"ACC",strength:"STR",evasion:"EVA",luck:"LCK",speed:"SPE"}}},computed:Object(s["a"])(Object(s["a"])({},Object(a["c"])(["armorSets","gear"])),{},{gridItems:{get:function(){var t=this;return this.grid.items.map((function(e){return null===e||"object"===Object(o["a"])(e)&&!e.id?{}:t.gear.find((function(t){return t.id===e}))}))},set:function(t){this.grid.items=t.map((function(t){return null===t||"object"===Object(o["a"])(t)&&!t.id?{}:"string"===typeof t?t:t.id})),this.updatePreviews()}}}),methods:{extendedGridItems:function(){var t=this;return this.grid.boxes={red:[],blue:[],green:[]},this.gridItems.map((function(e,n){return t.attachGridValues(e,n)}))},attachGridValues:function(t,e){if(!t.id)return t;t.calculated={connections:{red:0,blue:0,green:0}};var n={top:{},left:{},right:{},bottom:{}},r=["top","left","right","bottom"],o=Object.assign([],r).reverse(),s=[-3,-1,1,3];for(var a in Object(i["a"])(Array(4).keys())){var c,u;if(n[r[a]]=this.gridItems[e+s[a]],n[r[a]]&&t.connections[r[a]]===(null===(c=n[r[a]])||void 0===c||null===(u=c.connections)||void 0===u?void 0:u[o[a]])){if(null===t.connections[r[a]])continue;t.calculated.connections[t.connections[r[a]]]++;var l=Math.min(e,e+s[a])+"_"+Math.max(e,e+s[a]);this.grid.boxes[t.connections[r[a]]].push(l)}}return t},saveGrid:function(){return console.log("saving grid"),this.updatePreviews(),c["a"].collection("campaigns/".concat(this.currentCampaignId,"/grids")).doc(this.grid.id).update({name:this.grid.name,items:this.grid.items,previews:this.grid.previews})},removeItem:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n?this.$buefy.dialog.confirm({message:"Archive this piece of gear?",trapFocus:!0,onConfirm:function(){return e._remove(t,r)}}):this._remove(t,r)},_remove:function(t,e){this.grid.items[t]={},this.gridItems=this.grid.items,e&&this.saveGrid()},bonuses:function(){var t=this,e={movement:0,accuracy:0,strength:0,evasion:0,luck:0,speed:0},n=[],i=this.affinities(),o=this.extendedGridItems();o.forEach((function(o){var s,a,c,u;if(null!==(s=o.description)&&void 0!==s&&s.length&&o.description.split("\n").map((function(t){return t.trim()})).forEach((function(t){if("+"===t.charAt(0)||"-"===t.charAt(0)){var i=t.split(" "),o=Object(r["a"])(i,2),s=o[0],a=o[1];e[a.replaceAll(".","")]+=parseInt(s)}else n.push(t)})),null!==(a=o.action)&&void 0!==a&&a.length&&n.push("[A]:"+o.action),null!==(c=o.unlock)&&void 0!==c&&null!==(u=c.requires)&&void 0!==u&&u.length){var l={connection:{red:0,blue:0,green:0},affinity:{red:0,blue:0,green:0}};if(o.unlock.requires.map((function(e){return t.normalize(e)})).forEach((function(t){var e=t.split(" "),n=Object(r["a"])(e,2),i=n[0],o=n[1];l[o][i]++})),i.red>=l.affinity.red&&i.blue>=l.affinity.blue&&i.green>=l.affinity.green&&o.calculated.connections.red>=l.connection.red&&o.calculated.connections.blue>=l.connection.blue&&o.calculated.connections.green>=l.connection.green)if("+"===o.unlock.description.charAt(0)||"-"===o.unlock.description.charAt(0)){var d=o.unlock.description.split(" "),f=Object(r["a"])(d,2),m=f[0],p=f[1];e[p.replaceAll(".","")]+=parseInt(m)}else n.push(o.unlock.description)}}));var s=this.armorSetProgress();return s.forEach((function(t){t.progress>=t.piecesRequired&&t.bonuses.forEach((function(t){"ability"===t.type?n.push("<strong>"+t.name+"</strong>: "+t.description):"general"===t.type&&n.push(t.description)}))})),{stats:e,text:n.sort().map(this.parseBlock)}},armors:function(){var t={head:0,body:0,arms:0,waist:0,legs:0},e=this.extendedGridItems();e.forEach((function(e){e.id&&("armor"===e.type||e.grants.armor)&&e.armor.locations.forEach((function(n){return t[n]+=parseInt(e.armor.amount)}))}));var n=this.armorSetProgress();return n.forEach((function(e){e.progress>=e.piecesRequired&&e.bonuses.forEach((function(e){"armor"===e.type&&Object.keys(t).forEach((function(n){t[n]+=e.amount}))}))})),t},affinities:function(){var t=this,e={red:0,blue:0,green:0};this.grid.boxes||(this.grid.boxes={red:[],blue:[],green:[]});var n=this.extendedGridItems();return["red","blue","green"].forEach((function(r){e[r]=t.grid.boxes[r].filter((function(t,e,n){return n.indexOf(t)===e&&null!==t})).length,e[r]+=n.map((function(e){var n;return(null===e||void 0===e||null===(n=e.affinities)||void 0===n?void 0:n.filter((function(e){return t.normalize(e)===r})))||[]})).map((function(t){return t.length})).reduce((function(t,e){return t+e}),0)})),e},armorSetProgress:function(){var t=this.gridItems.map((function(t){return t.id?t.name.trim():"__NULL"}));return this.armorSets.map((function(e){var n=t.filter((function(t){return e.pieces.includes(t)}));return e.progress=n.length,e}))},updatePreviews:function(){this.grid.previews=this.gridItems.map((function(t){return null===t||"object"===Object(o["a"])(t)&&!t.id?"":"string"===typeof t?t:"armor"===t.type?t.armor.locations[0]:t.type}))}}}},"7db0":function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").find,o=n("44d2"),s=n("ae40"),a="find",c=!0,u=s(a);a in[]&&Array(1)[a]((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!u},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},"99af":function(t,e,n){"use strict";var r=n("23e7"),i=n("d039"),o=n("e8b5"),s=n("861d"),a=n("7b0b"),c=n("50c4"),u=n("8418"),l=n("65f0"),d=n("1dde"),f=n("b622"),m=n("2d00"),p=f("isConcatSpreadable"),h=9007199254740991,b="Maximum allowed index exceeded",g=m>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),v=d("concat"),y=function(t){if(!s(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)},w=!g||!v;r({target:"Array",proto:!0,forced:w},{concat:function(t){var e,n,r,i,o,s=a(this),d=l(s,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?s:arguments[e],y(o)){if(i=c(o.length),f+i>h)throw TypeError(b);for(n=0;n<i;n++,f++)n in o&&u(d,f,o[n])}else{if(f>=h)throw TypeError(b);u(d,f++,o)}return d.length=f,d}})},a15b:function(t,e,n){"use strict";var r=n("23e7"),i=n("44ad"),o=n("fc6a"),s=n("a640"),a=[].join,c=i!=Object,u=s("join",",");r({target:"Array",proto:!0,forced:c||!u},{join:function(t){return a.call(o(this),void 0===t?",":t)}})},ab13:function(t,e,n){var r=n("b622"),i=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(r){}}return!1}},b740:function(t,e,n){"use strict";n("3ae0")},c975:function(t,e,n){"use strict";var r=n("23e7"),i=n("4d64").indexOf,o=n("a640"),s=n("ae40"),a=[].indexOf,c=!!a&&1/[1].indexOf(1,-0)<0,u=o("indexOf"),l=s("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!u||!l},{indexOf:function(t){return c?a.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},d58f:function(t,e,n){var r=n("1c0b"),i=n("7b0b"),o=n("44ad"),s=n("50c4"),a=function(t){return function(e,n,a,c){r(n);var u=i(e),l=o(u),d=s(u.length),f=t?d-1:0,m=t?-1:1;if(a<2)while(1){if(f in l){c=l[f],f+=m;break}if(f+=m,t?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:d>f;f+=m)f in l&&(c=n(c,l[f],f,u));return c}};t.exports={left:a(!1),right:a(!0)}},d81d:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),s=n("ae40"),a=o("map"),c=s("map");r({target:"Array",proto:!0,forced:!a||!c},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},e0eb:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var r={type:null,name:null,category:null,action:null,description:null,classifications:[],keywords:[],affinities:[],grants:{attack:!1,armor:!1},armor:{locations:[],amount:0},weapon:{speed:0,accuracy:0,strength:0},connections:{top:null,left:null,right:null,bottom:null},unlock:{sizing:0,requires:[],description:null},qty:0},i={name:null,items:[{},{},{},{},{},{},{},{},{}]}}}]);
//# sourceMappingURL=hunt~storage.fff0a3e5.js.map