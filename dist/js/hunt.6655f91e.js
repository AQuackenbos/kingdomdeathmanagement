(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["hunt"],{"0df6":function(e,t,i){},"460b":function(e,t,i){"use strict";i.d(t,"f",(function(){return n})),i.d(t,"d",(function(){return r})),i.d(t,"e",(function(){return l})),i.d(t,"b",(function(){return c})),i.d(t,"g",(function(){return o})),i.d(t,"h",(function(){return u})),i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return s}));var s={active:!0,quarry:null,members:[],state:"setup"},a={expansions:[],active:!0,ended:!1,ending:{year:null,details:null},quarries:[],locations:[],year:0,survival:{max:1},bonuses:{departing:"",arriving:"",other:""},milestones:[{trigger:"First child is born",consequence:"Principle: New Life"},{trigger:"First time death count is updated",consequence:"Principle: Death"},{trigger:"Settlement has 5 innovations",consequence:"Hooded Knight"},{trigger:"Population reaches 15",consequence:"Principle: Society"},{trigger:"Population reaches 0",consequence:"Game Over"}],principles:{new_life:{name:"New Life",choices:["Protect the Young","Survival of the Fittest"],selected:null},death:{name:"Death",choices:["Cannibalize","Graves"],selected:null},society:{name:"Society",choices:["Collective Toil","Accept Darkness"],selected:null},conviction:{name:"Conviction",choices:["Barbaric","Romantic"],selected:null}}},n=["white_lion"],r=[{id:"language",deck:!0,innovated:!1,year:null}],l=["lantern_hoard"],c=[{name:"Returning Survivors",year:1},{name:"Endless Screams",year:2},{name:"Hands of Heat",year:5},{name:"Armored Strangers",year:6},{name:"Phoenix Feather",year:7},{name:"Regal Visit",year:11},{name:"Principle: Conviction",year:12},{name:"Watched",year:20}],o=[{name:"Butcher",level:1,year:4},{name:"King's Man",level:1,year:9},{name:"The Hand",level:1,year:13},{name:"Butcher",level:2,year:16},{name:"King's Man",level:2,year:19},{name:"Butcher",level:3,year:23},{name:"Watcher",level:0,year:25},{name:"King's Man",level:3,year:28},{name:"Gold Smoke Knight",level:0,year:30}],u={stats:{movement:{base:5,items:0,other:0,tokens:0},accuracy:{base:0,items:0,other:0,tokens:0},strength:{base:0,items:0,other:0,tokens:0},evasion:{base:0,items:0,other:0,tokens:0},luck:{base:0,items:0,other:0,tokens:0},speed:{base:0,items:0,other:0,tokens:0}},survival:{amount:0,abilities:{dodge:!1,encourage:!1,surge:!1,dash:!1,endure:!1},skipHunt:null},lifetime:{name:null,gender:null,experience:0,born:null,father:null,mother:null,died:null,cause:null,cannot:{fightingArts:!1,survival:!1,hunt:!1},reroll:{available:!1,used:!1},notes:null},defenses:{arms:{value:0,light:!1,heavy:!1,severe:[]},body:{value:0,light:!1,heavy:!1,severe:[]},brain:{value:0,light:!1},head:{value:0,heavy:!1,severe:[]},legs:{value:0,light:!1,heavy:!1,severe:[]},waist:{value:0,light:!1,heavy:!1,severe:[]}},abilities:{abilities:[],disorders:[],fightingArts:[],impairments:[]},mentality:{courage:{level:0,abilities:{stalwart:{name:"Stalwart",granted:!1,description:"Can't be knocked down by brain trauma or intimidate."},prepared:{name:"Prepared",granted:!1,description:"Add Hunt XP to your roll when determining a straggler."},matchmaker:{name:"Matchmaker",granted:!1,description:"Spend 1 endeavor to trigger intimacy story event."}}},understanding:{level:0,abilities:{analyze:{name:"Analyze",granted:!1,description:"Look at the top AI card and return it to the top of the deck."},explore:{name:"Explore",granted:!1,description:"Add +2 to your investigate roll results."},tinker:{name:"Tinker",granted:!1,description:"+1 endeavor when you are a returning survivor."}}}},weapon:{selected:null,proficiency:0}}},dd52:function(e,t,i){"use strict";i("0df6")},ec9b:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return!e.showLoading&&e.user&&e.campaign?i("div",{staticClass:"column"},[i("router-view")],1):e._e()},a=[],n=(i("96cf"),i("1da1")),r=i("dc59"),l={name:"Hunt",created:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:!this.currentCampaignId||"/hunt"!==this.$route.path&&"/hunt/"!==this.$route.path||r["a"].collection("campaigns/".concat(this.currentCampaignId,"/hunts")).where("active","==",!0).get().then((function(e){e.empty?t.$router.push("/hunt/setup"):t.$router.push("/hunt/".concat(e.docs[0].data().state))}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},c=l,o=i("0c7c"),u=Object(o["a"])(c,s,a,!1,null,null,null);t["default"]=u.exports},fa53:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.activeHunt?i("div",{staticClass:"columns is-multiline"},[i("div",{staticClass:"column is-12"},[i("h1",{staticClass:"title"},[e._v("Setup Hunt: Lantern Year "+e._s(e.activeHunt.year))]),i("hr"),i("section",{staticClass:"section"},[i("b-tabs",{staticClass:"block",attrs:{position:"is-centered",size:"is-medium",type:"is-boxed",expanded:""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[i("b-tab-item",{attrs:{label:"Overview"}},[i("div",{staticClass:"columns is-multiline overview"},[i("div",{staticClass:"column is-12"},[e._v(" ...OVERVIEW... "),i("b-button",{attrs:{type:"is-warning",expanded:""}},[e._v("Begin Hunt")])],1)])]),i("b-tab-item",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Add Party Member "),i("span",{staticClass:"ml-3 tag",class:{"is-danger":e.activeHunt.members.length<4,"is-success":e.activeHunt.members.length>3}},[e._v(e._s(e.activeHunt.members.length)+" / 6")])]},proxy:!0}])},[i("div",{staticClass:"columns is-multiline add-member"},[i("div",{staticClass:"column is-2"},[i("b-menu",[i("b-menu-list",{attrs:{label:"Survivors"}},e._l(e.validSurvivors,(function(t){return i("b-menu-item",{key:t.id,on:{click:function(i){return i.preventDefault(),e.pickSurvivor(t)}},scopedSlots:e._u([{key:"label",fn:function(){return["M"===t.lifetime.gender?i("span",[i("b-icon",{attrs:{size:"is-small",icon:"mars"}})],1):"F"===t.lifetime.gender?i("span",[i("b-icon",{attrs:{size:"is-small",icon:"venus"}})],1):i("span",[i("b-icon",{attrs:{size:"is-small",icon:"genderless"}})],1),e._v(" "+e._s(t.lifetime.name)+" ")]},proxy:!0}],null,!0)})})),1)],1)],1),i("div",{staticClass:"column is-4"},[null!==e.currentSurvivor?i("div",{staticClass:"survivor"},[i("b-field",[e.currentSurvivor.lifetime.cannot.survival?i("span",{staticClass:"tag is-danger is-light"},[e._v("Cannot Spend Survival")]):e._e(),e.currentSurvivor.lifetime.cannot.fightingArts?i("span",{staticClass:"tag is-danger is-light"},[e._v("Cannot Use Fighting Arts")]):e._e(),e.currentSurvivor.lifetime.reroll.used?i("span",{staticClass:"tag is-danger is-light"},[e._v("Lifetime Reroll Used")]):e.currentSurvivor.lifetime.reroll.available?i("span",{staticClass:"tag is-success is-light"},[e._v("Lifetime Reroll Available")]):e._e()]),i("b-field",{attrs:{grouped:""}},[i("b-field",{staticClass:"is-flex is-align-items-center",attrs:{expanded:""}},[i("strong",[e._v(e._s(e.currentSurvivor.lifetime.name))])]),i("b-field",[i("b-select",{attrs:{icon:"transgender",value:e.currentSurvivor.lifetime.gender,size:"is-small",disabled:""}},[i("option",{attrs:{value:"M"}},[e._v("M")]),i("option",{attrs:{value:"F"}},[e._v("F")])])],1),i("b-field",{attrs:{label:"SRV","label-position":"on-border"}},[i("b-input",{staticClass:"stat-box",attrs:{size:"is-small",value:e.currentSurvivor.survival.amount,disabled:""}})],1)],1),i("b-field",{attrs:{label:"XP","label-position":"on-border",expanded:""}},[i("b-slider",{attrs:{min:0,max:16,ticks:"",indicator:"",value:e.currentSurvivor.lifetime.experience,disabled:""}})],1),i("div",{staticClass:"level"},e._l(["movement","accuracy","strength","evasion","luck","speed"],(function(t){return i("b-field",{key:t,staticClass:"level-item",attrs:{label:e.shortname[t],"label-position":"on-border"}},[i("b-input",{staticClass:"stat-box",attrs:{size:"is-small",value:e.currentSurvivor.stats[t].base,disabled:""}})],1)})),1),e.currentSurvivor.weapon.selected?i("b-field",{attrs:{grouped:""}},[i("b-field",{staticClass:"is-flex is-align-items-center",attrs:{label:"Weapon Proficiency","label-position":"on-border"}},[i("strong",[e._v(e._s(e.currentSurvivor.weapon.selected))])]),i("b-field",{attrs:{expanded:""}},[i("b-slider",{attrs:{min:0,max:8,ticks:"",indicator:"",value:e.currentSurvivor.weapon.proficiency,disabled:""}})],1)],1):e._e(),i("b-field",{attrs:{grouped:""}},[i("b-field",{attrs:{label:"Courage","label-position":"on-border",expanded:""}},[i("b-slider",{attrs:{min:0,max:9,ticks:"",indicator:"",value:e.currentSurvivor.mentality.courage.level,disabled:""}})],1),i("b-field",{attrs:{label:"Understanding","label-position":"on-border",expanded:""}},[i("b-slider",{attrs:{min:0,max:9,ticks:"",indicator:"",value:e.currentSurvivor.mentality.understanding.level,disabled:""}})],1)],1),i("b-field",{attrs:{grouped:""}},[i("b-field",{attrs:{expanded:""}},e._l(["matchmaker","prepared","stalwart"],(function(t){return i("div",{key:t},[e.currentSurvivor.mentality.courage.abilities[t].granted?i("span",{staticClass:"is-size-7"},[i("b-icon",{staticClass:"mr-1",attrs:{size:"is-small",icon:"check"}}),e._v(e._s(e.capitalize(t)))],1):e._e()])})),0),i("div",{staticClass:"divider is-vertical"}),i("b-field",{attrs:{expanded:""}},e._l(["analyze","explore","tinker"],(function(t){return i("div",{key:t},[e.currentSurvivor.mentality.understanding.abilities[t].granted?i("span",{staticClass:"is-size-7"},[i("b-icon",{staticClass:"mr-1",attrs:{size:"is-small",icon:"check"}}),e._v(e._s(e.capitalize(t)))],1):e._e()])})),0)],1),i("div",{staticClass:"level"},[i("div",{staticClass:"level-item"},[i("ul",[i("li",{staticClass:"subtitle"},[e._v("Fighting Arts")]),e._l(e.currentSurvivor.abilities.fightingArts,(function(t,s){return i("li",{key:s,staticClass:"is-size-7"},[e._v(e._s(t))])}))],2)]),i("div",{staticClass:"level-item"},[i("ul",[i("li",{staticClass:"subtitle"},[e._v("Disorders")]),e._l(e.currentSurvivor.abilities.disorders,(function(t,s){return i("li",{key:s,staticClass:"is-size-7"},[e._v(e._s(t))])}))],2)]),i("div",{staticClass:"level-item"},[i("ul",[i("li",{staticClass:"subtitle"},[e._v("Abilities")]),e._l(e.currentSurvivor.abilities.abilities,(function(t,s){return i("li",{key:s,staticClass:"is-size-7"},[e._v(e._s(t))])}))],2)])]),i("div",{staticClass:"level"},[i("div",{staticClass:"level-item"},[i("ul",[i("li",{staticClass:"subtitle"},[e._v("Impairments")]),e._l(e.currentSurvivor.abilities.impairments,(function(t,s){return i("li",{key:s,staticClass:"is-size-7"},[e._v(e._s(t))])}))],2)]),i("div",{staticClass:"level-item"},[i("ul",[i("li",{staticClass:"subtitle"},[e._v("Severe Injuries")]),i("li",{staticClass:"is-size-7"},[e._v("(WIP)")])])])])],1):i("div",[i("b-icon",{staticClass:"mt-6",staticStyle:{color:"#ddd"},attrs:{icon:"male",size:"is-large"}})],1)]),i("div",{staticClass:"column is-4"},[null!==e.grid?i("div",{staticClass:"gridview"},[i("div",{staticClass:"subtitle"},[e._v("Calculated Stats")]),i("div",{staticClass:"divider"},[e._v("ARMOR")]),i("div",{staticClass:"armor-description level"},[i("div",{staticClass:"level-item has-text-centered"},[i("div",[i("p",{staticClass:"heading"},[i("span",{staticClass:"bl-head"})]),i("p",{staticClass:"contet armor-block"},[i("span",{staticClass:"bl-armor"}),i("span",{staticClass:"amount"},[e._v(e._s(e.armors().head))])])])]),i("div",{staticClass:"level-item has-text-centered"},[i("div",[i("p",{staticClass:"heading"},[i("span",{staticClass:"bl-arms"})]),i("p",{staticClass:"contet armor-block"},[i("span",{staticClass:"bl-armor"}),i("span",{staticClass:"amount"},[e._v(e._s(e.armors().arms))])])])]),i("div",{staticClass:"level-item has-text-centered"},[i("div",[i("p",{staticClass:"heading"},[i("span",{staticClass:"bl-body"})]),i("p",{staticClass:"contet armor-block"},[i("span",{staticClass:"bl-armor"}),i("span",{staticClass:"amount"},[e._v(e._s(e.armors().body))])])])]),i("div",{staticClass:"level-item has-text-centered"},[i("div",[i("p",{staticClass:"heading"},[i("span",{staticClass:"bl-waist"})]),i("p",{staticClass:"contet armor-block"},[i("span",{staticClass:"bl-armor"}),i("span",{staticClass:"amount"},[e._v(e._s(e.armors().waist))])])])]),i("div",{staticClass:"level-item has-text-centered"},[i("div",[i("p",{staticClass:"heading"},[i("span",{staticClass:"bl-legs"})]),i("p",{staticClass:"contet armor-block"},[i("span",{staticClass:"bl-armor"}),i("span",{staticClass:"amount"},[e._v(e._s(e.armors().legs))])])])])]),i("div",{staticClass:"divider"},[e._v("BONUSES")]),i("div",{staticClass:"level"},e._l(Object.keys(e.bonuses().stats),(function(t){return i("b-field",{key:t,staticClass:"level-item",attrs:{label:e.shortname[t],"label-position":"on-border"}},[i("b-input",{staticClass:"stat-box",attrs:{size:"is-small",value:e.bonuses().stats[t],disabled:""}})],1)})),1),i("ul",e._l(e.bonuses().text,(function(t,s){return i("li",{key:s,staticClass:"is-size-7",domProps:{innerHTML:e._s(t)}})})),0),i("div",{staticClass:"divider"},[e._v("AFFINITIES")]),e._l(["red","blue","green"],(function(t){return i("span",{key:t},e._l(e.affinities()[t],(function(e){return i("b-icon",{key:e,style:{color:t},attrs:{icon:"square-full"}})})),1)})),i("div",{staticClass:"divider"},[e._v("SET BONUSES")]),i("ul",e._l(e.armorSetProgress().filter((function(e){return e.progress>=e.piecesRequired})),(function(t){return i("li",{key:t.id,staticClass:"is-size-7"},[i("p",{staticClass:"header"},[i("strong",[e._v(e._s(t.name))])]),i("hr",{staticStyle:{width:"75%","text-align":"center",margin:".5em auto"}}),i("div",{staticClass:"content"},e._l(t.bonuses,(function(t,s){return i("p",{key:s},["armor"===t.type?i("span",[e._v(" Add +"),i("span",{staticClass:"armor-block"},[i("span",{staticClass:"bl-armor"}),i("span",{staticClass:"amount"},[e._v(e._s(t.amount))])]),e._v(" to all hit locations. ")]):"ability"===t.type?i("span",[i("strong",[e._v(e._s(t.name))]),e._v(": "),i("span",{domProps:{innerHTML:e._s(e.parseBlock(t.description))}})]):i("span",{domProps:{innerHTML:e._s(t.description)}})])})),0)])})),0)],2):i("div",[i("b-icon",{staticClass:"mt-6",staticStyle:{color:"#ddd"},attrs:{icon:"th",size:"is-large"}})],1)]),i("div",{staticClass:"column is-2"},[i("b-menu",[i("b-menu-list",{attrs:{label:"Grids"}},e._l(e.validGrids,(function(t){return i("b-menu-item",{key:t.id,on:{click:function(i){return i.preventDefault(),e.pickGrid(t)}},scopedSlots:e._u([{key:"label",fn:function(){return[i("div",{staticClass:"tile is-flex-wrap-wrap"},e._l(t.previews,(function(t,s){return i("div",{key:s,staticClass:"tile is-4 is-justify-content-center"},[i("div",{staticClass:"box preview-card"},[i("span",{class:"bl-"+e.translate[t]})])])})),0),e._v(" "+e._s(t.name)+" ")]},proxy:!0}],null,!0)})})),1)],1)],1),e.currentSurvivor&&e.grid?i("div",{staticClass:"column is-8 is-offset-2"},[i("div",{staticClass:"divider"},[e._v("Equipped Stats")]),i("div",{staticClass:"level"},e._l(["movement","accuracy","strength","evasion","luck","speed"],(function(t){return i("b-field",{key:t,staticClass:"level-item",attrs:{label:e.capitalize(t),"label-position":"on-border"}},[i("b-input",{staticClass:"stat-box",attrs:{size:"is-medium",value:parseInt(e.currentSurvivor.stats[t].base)+parseInt(e.bonuses().stats[t]),disabled:""}})],1)})),1),i("b-select",{attrs:{icon:"user",placeholder:"Controlled By",expanded:""},model:{value:e.controlled,callback:function(t){e.controlled=t},expression:"controlled"}},e._l(e.users,(function(t){return i("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.displayName))])})),0),e.controlled?i("b-button",{attrs:{type:"is-success",expanded:""},on:{click:function(t){return e.addPartyMember()}}},[e._v("Add Party Member")]):e._e()],1):e._e()])]),i("b-tab-item",{scopedSlots:e._u([{key:"header",fn:function(){return[e.activeHunt.quarry?i("b-icon",{attrs:{icon:"check-square",type:"is-success"}}):i("b-icon",{attrs:{icon:"exclamation-triangle",type:"is-warning"}}),e._v(" Assign Quarry ")]},proxy:!0}])},[i("div",[e._v("...")])])],1)],1)]),i("div",{staticClass:"column is-12 party mt-0"},[i("div",{staticClass:"divider"},[e._v("Hunting Party")]),i("div",{staticClass:"tile is-parent"},e._l(6,(function(t){return i("div",{key:t,staticClass:"tile is-child is-2"},[e.activeHunt.members[t-1]?i("div",{staticClass:"box member"},[i("h2",{staticClass:"subtitle"},[e._v(e._s(e.activeHunt.members[t-1].controller.displayName))]),i("hr"),e._v(" "+e._s(e.activeHunt.members[t-1].survivor.lifetime.name)+" "),i("div",{staticClass:"divider"},[e._v("WITH")]),e._v(" "+e._s(e.activeHunt.members[t-1].grid.name)+" ")]):i("div",{staticClass:"box member empty"})])})),0)])]):i("div",{staticClass:"content"},[i("p",[e._v("There is no Hunt currently ongoing.")]),i("p",[i("b-button",{attrs:{type:"is-success"},on:{click:e.startHunt}},[e._v("Start New Hunt Setup")])],1)])])},a=[],n=(i("4de4"),i("7db0"),i("caad"),i("d81d"),i("2532"),i("5530")),r=i("2f62"),l=i("dc59"),c=i("460b"),o=i("7abd"),u=i("3c4e"),d=i.n(u),v={name:"HuntSetup",mixins:[o["a"]],data:function(){return{activeHunt:null,currentAction:"overview",controlled:null,currentSurvivor:null,grid:null,activeTab:0}},computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])(["grids","survivors","hunts","users"])),{},{activeHuntId:function(){var e;return null===(e=this.hunts.find((function(e){return!0===e.active})))||void 0===e?void 0:e.id},validSurvivors:function(){var e=this;return this.survivors.filter((function(t){var i,s;return null===t.lifetime.died&&!t.lifetime.cannot.hunt&&t.survival.skipHunt!==(null===(i=e.activeHunt)||void 0===i?void 0:i.year)&&!(null!==(s=e.activeHunt)&&void 0!==s&&s.members.map((function(e){var t;return null===(t=e.survivor)||void 0===t?void 0:t.id})).includes(t.id))}))},validGrids:function(){var e=this;return this.grids.filter((function(t){var i;return!(null!==(i=e.activeHunt)&&void 0!==i&&i.members.map((function(e){var t;return null===(t=e.grid)||void 0===t?void 0:t.id})).includes(t.id))}))}}),watch:{activeHuntId:{immediate:!0,handler:function(e){e&&this.$bind("activeHunt",l["a"].collection("campaigns/".concat(this.currentCampaignId,"/hunts")).doc(e))}}},methods:{startHunt:function(){var e=this;this.$buefy.dialog.confirm({message:"Begin the Hunt for Lantern Year "+this.campaign.year+"?",onConfirm:function(){var t=d()({year:e.campaign.year},c["c"]);l["a"].collection("campaigns/".concat(e.campaign.id,"/hunts")).add(t)}})},pickSurvivor:function(e){this.currentSurvivor=e},pickGrid:function(e){this.grid=e},addPartyMember:function(){var e={survivor:this.currentSurvivor,grid:this.grid,controller:this.controlled};this.activeHunt.members.push(e),this.currentSurvivor=null,this.grid=null,this.controlled=null}}},m=v,b=(i("dd52"),i("0c7c")),p=Object(b["a"])(m,s,a,!1,null,"e8e505e2",null);t["default"]=p.exports}}]);
//# sourceMappingURL=hunt.6655f91e.js.map