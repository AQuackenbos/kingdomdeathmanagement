(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settlement"],{"00a0":function(t,e,i){},1276:function(t,e,i){"use strict";var a=i("d784"),n=i("44e7"),s=i("825a"),r=i("1d80"),c=i("4840"),l=i("8aa5"),o=i("50c4"),u=i("14c3"),d=i("9263"),p=i("d039"),v=[].push,f=Math.min,h=4294967295,m=!p((function(){return!RegExp(h,"y")}));a("split",2,(function(t,e,i){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var a=String(r(this)),s=void 0===i?h:i>>>0;if(0===s)return[];if(void 0===t)return[a];if(!n(t))return e.call(a,t,s);var c,l,o,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,m=new RegExp(t.source,p+"g");while(c=d.call(m,a)){if(l=m.lastIndex,l>f&&(u.push(a.slice(f,c.index)),c.length>1&&c.index<a.length&&v.apply(u,c.slice(1)),o=c[0].length,f=l,u.length>=s))break;m.lastIndex===c.index&&m.lastIndex++}return f===a.length?!o&&m.test("")||u.push(""):u.push(a.slice(f)),u.length>s?u.slice(0,s):u}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var n=r(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,n,i):a.call(String(n),e,i)},function(t,n){var r=i(a,t,this,n,a!==e);if(r.done)return r.value;var d=s(t),p=String(this),v=c(d,RegExp),g=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),_=new v(m?d:"^(?:"+d.source+")",b),C=void 0===n?h:n>>>0;if(0===C)return[];if(0===p.length)return null===u(_,p)?[p]:[];var y=0,x=0,E=[];while(x<p.length){_.lastIndex=m?x:0;var w,k=u(_,m?p:p.slice(x));if(null===k||(w=f(o(_.lastIndex+(m?0:x)),p.length))===y)x=l(p,x,g);else{if(E.push(p.slice(y,x)),E.length===C)return E;for(var S=1;S<=k.length-1;S++)if(E.push(k[S]),E.length===C)return E;x=y=w}}return E.push(p.slice(y)),E}]}),!m)},"13d5":function(t,e,i){"use strict";var a=i("23e7"),n=i("d58f").left,s=i("a640"),r=i("ae40"),c=i("2d00"),l=i("605d"),o=s("reduce"),u=r("reduce",{1:0}),d=!l&&c>79&&c<83;a({target:"Array",proto:!0,forced:!o||!u||d},{reduce:function(t){return n(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(t,e,i){var a=i("c6b6"),n=i("9263");t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var s=i.call(t,e);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},2532:function(t,e,i){"use strict";var a=i("23e7"),n=i("5a34"),s=i("1d80"),r=i("ab13");a({target:"String",proto:!0,forced:!r("includes")},{includes:function(t){return!!~String(s(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,i){var a=i("861d"),n=i("c6b6"),s=i("b622"),r=s("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==n(t))}},"5a34":function(t,e,i){var a=i("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"7db0":function(t,e,i){"use strict";var a=i("23e7"),n=i("b727").find,s=i("44d2"),r=i("ae40"),c="find",l=!0,o=r(c);c in[]&&Array(1)[c]((function(){l=!1})),a({target:"Array",proto:!0,forced:l||!o},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s(c)},"8aa5":function(t,e,i){"use strict";var a=i("6547").charAt;t.exports=function(t,e,i){return e+(i?a(t,e).length:1)}},9263:function(t,e,i){"use strict";var a=i("ad6d"),n=i("9f7f"),s=RegExp.prototype.exec,r=String.prototype.replace,c=s,l=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),o=n.UNSUPPORTED_Y||n.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=l||u||o;d&&(c=function(t){var e,i,n,c,d=this,p=o&&d.sticky,v=a.call(d),f=d.source,h=0,m=t;return p&&(v=v.replace("y",""),-1===v.indexOf("g")&&(v+="g"),m=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(f="(?: "+f+")",m=" "+m,h++),i=new RegExp("^(?:"+f+")",v)),u&&(i=new RegExp("^"+f+"$(?!\\s)",v)),l&&(e=d.lastIndex),n=s.call(p?i:d,m),p?n?(n.input=n.input.slice(h),n[0]=n[0].slice(h),n.index=d.lastIndex,d.lastIndex+=n[0].length):d.lastIndex=0:l&&n&&(d.lastIndex=d.global?n.index+n[0].length:e),u&&n&&n.length>1&&r.call(n[0],i,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(n[c]=void 0)})),n}),t.exports=c},"99af":function(t,e,i){"use strict";var a=i("23e7"),n=i("d039"),s=i("e8b5"),r=i("861d"),c=i("7b0b"),l=i("50c4"),o=i("8418"),u=i("65f0"),d=i("1dde"),p=i("b622"),v=i("2d00"),f=p("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",g=v>=51||!n((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),b=d("concat"),_=function(t){if(!r(t))return!1;var e=t[f];return void 0!==e?!!e:s(t)},C=!g||!b;a({target:"Array",proto:!0,forced:C},{concat:function(t){var e,i,a,n,s,r=c(this),d=u(r,0),p=0;for(e=-1,a=arguments.length;e<a;e++)if(s=-1===e?r:arguments[e],_(s)){if(n=l(s.length),p+n>h)throw TypeError(m);for(i=0;i<n;i++,p++)i in s&&o(d,p,s[i])}else{if(p>=h)throw TypeError(m);o(d,p++,s)}return d.length=p,d}})},"9f7f":function(t,e,i){"use strict";var a=i("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ab13:function(t,e,i){var a=i("b622"),n=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,"/./"[t](e)}catch(a){}}return!1}},ac1f:function(t,e,i){"use strict";var a=i("23e7"),n=i("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(t,e,i){"use strict";var a=i("825a");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,i){var a=i("83ab"),n=i("9bf2").f,s=Function.prototype,r=s.toString,c=/^\s*function ([^ (]*)/,l="name";a&&!(l in s)&&n(s,l,{configurable:!0,get:function(){try{return r.call(this).match(c)[1]}catch(t){return""}}})},caad:function(t,e,i){"use strict";var a=i("23e7"),n=i("4d64").includes,s=i("44d2"),r=i("ae40"),c=r("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!c},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")},d58f:function(t,e,i){var a=i("1c0b"),n=i("7b0b"),s=i("44ad"),r=i("50c4"),c=function(t){return function(e,i,c,l){a(i);var o=n(e),u=s(o),d=r(o.length),p=t?d-1:0,v=t?-1:1;if(c<2)while(1){if(p in u){l=u[p],p+=v;break}if(p+=v,t?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:d>p;p+=v)p in u&&(l=i(l,u[p],p,o));return l}};t.exports={left:c(!1),right:c(!0)}},d784:function(t,e,i){"use strict";i("ac1f");var a=i("6eeb"),n=i("d039"),s=i("b622"),r=i("9263"),c=i("9112"),l=s("species"),o=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=s("replace"),p=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),v=!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));t.exports=function(t,e,i,d){var f=s(t),h=!n((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),m=h&&!n((function(){var e=!1,i=/a/;return"split"===t&&(i={},i.constructor={},i.constructor[l]=function(){return i},i.flags="",i[f]=/./[f]),i.exec=function(){return e=!0,null},i[f](""),!e}));if(!h||!m||"replace"===t&&(!o||!u||p)||"split"===t&&!v){var g=/./[f],b=i(f,""[t],(function(t,e,i,a,n){return e.exec===r?h&&!n?{done:!0,value:g.call(e,i,a)}:{done:!0,value:t.call(i,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),_=b[0],C=b[1];a(String.prototype,t,_),a(RegExp.prototype,f,2==e?function(t,e){return C.call(t,this,e)}:function(t){return C.call(t,this)})}d&&c(RegExp.prototype[f],"sham",!0)}},e174:function(t,e,i){"use strict";i("00a0")},e8ea:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return!t.showLoading&&t.user&&t.campaign?i("div",{staticClass:"column"},[i("h1",{staticClass:"title can-update",on:{mouseover:function(e){t.showTitleEdit=!0},mouseleave:function(e){t.showTitleEdit=!1}}},[t._v(" "+t._s(t.campaign.name)+" "),t.showTitleEdit?i("span",{staticClass:"is-size-6",on:{click:t.updateTitle}},[i("b-icon",{staticClass:"is-clickable ml-2",attrs:{size:"is-small",icon:"edit"}})],1):t._e()]),i("h2",{staticClass:"subtitle"},[t._v("Lantern Year "+t._s(t.campaign.year))]),i("div",{staticClass:"columns is-multiline"},[i("div",{staticClass:"column is-3"},[i("div",{staticClass:"card"},[t._m(0),i("div",{staticClass:"card-content"},[i("div",{staticClass:"block"},[i("ul",[t._l(t.members,(function(e){return i("li",{key:e.uid},[t._v(t._s(e.displayName))])})),i("li",[i("b-button",{attrs:{type:"is-info",size:"is-small","icon-left":"user-plus"},on:{click:t.invitePlayer}},[t._v("Invite Player")])],1)],2)])])])]),i("div",{staticClass:"column is-3"},[i("div",{staticClass:"card"},[t._m(1),i("div",{staticClass:"card-content"},[i("div",{staticClass:"block"},[i("h1",{staticClass:"subtitle"},[t._v("Limit")]),i("h2",{staticClass:"title can-update max-survival",on:{click:t.updateSurvival}},[t._v(t._s(t.campaign.survival.max))]),i("p",{staticClass:"has-text-size-7 is-size-7",staticStyle:{color:"#aaa","margin-bottom":".25em"}},[t._v("(+"+t._s(t.maxSurvivalBonus)+" from Innovations)")]),i("h1",{staticClass:"subtitle"},[t._v("Departing")]),i("h2",{staticClass:"title"},[t._v(t._s(t.departingSurvival))])])])])]),i("div",{staticClass:"column is-3"},[i("div",{staticClass:"card"},[t._m(2),i("div",{staticClass:"card-content"},[i("div",{staticClass:"block"},[i("ul",[t._l(t.campaignQuarries,(function(e){return i("li",{key:e.id},[t._v(t._s(e.name))])})),i("li",[i("b-button",{attrs:{type:"is-info",size:"is-small","icon-left":"folder-plus"},on:{click:function(e){t.showAddQuarry=!0}}},[t._v("Add Quarry")])],1)],2),i("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-modal":""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("QuarryAdd",{on:{close:e.close,add:t.addQuarry}})]}}],null,!1,1600501147),model:{value:t.showAddQuarry,callback:function(e){t.showAddQuarry=e},expression:"showAddQuarry"}})],1)])])]),i("div",{staticClass:"column is-3"},[i("div",{staticClass:"card"},[t._m(3),i("div",{staticClass:"card-content"},[i("div",{staticClass:"block"},[i("ul",[t._l(t.campaignLocations,(function(e){return i("li",{key:e.id},[t._v(t._s(e.name))])})),i("li",[i("b-button",{attrs:{type:"is-info",size:"is-small","icon-left":"map-marker-alt"},on:{click:function(e){t.showAddLocation=!0}}},[t._v("Add Location")])],1)],2),i("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-modal":""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("LocationAdd",{on:{close:e.close,add:t.addLocation}})]}}],null,!1,2315125307),model:{value:t.showAddLocation,callback:function(e){t.showAddLocation=e},expression:"showAddLocation"}})],1)])])]),i("div",{staticClass:"column is-6"},[i("div",{staticClass:"card"},[t._m(4),i("div",{staticClass:"columns card-content"},[i("div",{staticClass:"column is-4"},[i("h2",{staticClass:"subtitle"},[t._v("Upon Arrival")]),t.campaign.bonuses.arriving?i("p",{staticClass:"content can-update",on:{click:function(e){return t.updateBonuses("arriving")}}},[t._v(t._s(t.campaign.bonuses.arriving))]):i("p",{staticClass:"can-update",on:{click:function(e){return t.updateBonuses("arriving")}}},[t._v("None")])]),i("div",{staticClass:"column is-4"},[i("h2",{staticClass:"subtitle"},[t._v("When Departing")]),t.campaign.bonuses.departing?i("p",{staticClass:"content can-update",on:{click:function(e){return t.updateBonuses("departing")}}},[t._v(t._s(t.campaign.bonuses.departing))]):i("p",{staticClass:"can-update",on:{click:function(e){return t.updateBonuses("departing")}}},[t._v("None")])]),i("div",{staticClass:"column is-4"},[i("h2",{staticClass:"subtitle"},[t._v("Other")]),t.campaign.bonuses.other?i("p",{staticClass:"content can-update",on:{click:function(e){return t.updateBonuses("other")}}},[t._v(t._s(t.campaign.bonuses.other))]):i("p",{staticClass:"can-update",on:{click:function(e){return t.updateBonuses("other")}}},[t._v("None")])])])])]),i("div",{staticClass:"column is-6"},[i("div",{staticClass:"card"},[t._m(5),i("div",{staticClass:"columns card-content"},t._l(["new_life","death","society","conviction"],(function(e){return i("div",{key:e,staticClass:"column is-3"},[i("h2",{staticClass:"title is-size-5"},[t._v(t._s(t.campaign.principles[e].name))]),i("hr"),t.campaign.principles[e].selected?i("h1",{staticClass:"is-size-5"},[t._v(" "+t._s(t.campaign.principles[e].selected)+" ")]):i("h1",{staticClass:"is-size-7"},[i("span",{staticClass:"can-update",on:{click:function(i){return t.selectPrinciple(e,t.campaign.principles[e].choices[0])}}},[t._v(t._s(t.campaign.principles[e].choices[0]))]),i("div",{staticClass:"divider"},[t._v("OR")]),i("span",{staticClass:"can-update",on:{click:function(i){return t.selectPrinciple(e,t.campaign.principles[e].choices[1])}}},[t._v(t._s(t.campaign.principles[e].choices[1]))])])])})),0)])]),i("div",{staticClass:"column is-12"},[i("div",{staticClass:"card"},[t._m(6),i("div",{staticClass:"columns card-content"},[i("div",{staticClass:"column is-5"},t._l(t.leftMilestones,(function(e,a){return i("div",{key:a,staticClass:"level"},[i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[t._v(" "+t._s(e.trigger)+" ")])]),i("div",{staticClass:"level-right"},[i("div",{staticClass:"level-item"},[i("span",{staticClass:"bl-story-event",staticStyle:{"margin-right":".25em"}}),t._v(" "),i("span",{staticClass:"has-text-weight-bold"},[t._v(t._s(e.consequence))])])])])})),0),t._m(7),i("div",{staticClass:"column is-5"},t._l(t.rightMilestones,(function(e,a){return i("div",{key:a,staticClass:"level"},[i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[t._v(" "+t._s(e.trigger)+" ")])]),i("div",{staticClass:"level-right"},[i("div",{staticClass:"level-item"},[i("span",{staticClass:"bl-story-event",staticStyle:{"margin-right":".25em"}}),t._v(" "),i("span",{staticClass:"has-text-weight-bold"},[t._v(t._s(e.consequence))])])])])})),0)])])])])]):t._e()},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"card-header"},[i("p",{staticClass:"card-header-title is-centered"},[t._v("Members")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"card-header"},[i("p",{staticClass:"card-header-title is-centered"},[t._v("Survival")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"card-header"},[i("p",{staticClass:"card-header-title is-centered"},[t._v("Quarries")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"card-header"},[i("p",{staticClass:"card-header-title is-centered"},[t._v("Locations")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"card-header"},[i("p",{staticClass:"card-header-title is-centered"},[t._v("Special Bonuses")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"card-header"},[i("p",{staticClass:"card-header-title is-centered"},[t._v("Principles")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"card-header"},[i("p",{staticClass:"card-header-title is-centered"},[t._v("Milestones")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column is-2"},[i("div",{staticClass:"divider is-vertical content",staticStyle:{height:"100%"}})])}],s=(i("99af"),i("4de4"),i("7db0"),i("caad"),i("13d5"),i("b0c0"),i("ac1f"),i("2532"),i("1276"),i("5530")),r=i("2f62"),c=i("dc59"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[i("header",{staticClass:"modal-card-head"},[i("p",{staticClass:"modal-card-title"},[t._v("Add Quarry")]),i("button",{staticClass:"delete",attrs:{type:"button"},on:{click:t.close}})]),i("section",{staticClass:"modal-card-body"},[i("p",{staticClass:"content"},[t._v(" Select a Quarry to add to your Settlement's hunt list. "),i("b-message",{attrs:{type:"is-warning"}},[t._v("This list contains all valid quarries.")])],1),i("b-field",{attrs:{label:"Quarry","label-position":"on-border"}},[i("b-select",{attrs:{placeholder:"Add Quarry",icon:"paw",required:"",expanded:""},model:{value:t.quarry,callback:function(e){t.quarry=e},expression:"quarry"}},t._l(t.validQuarries,(function(e){return i("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)],1)],1),i("footer",{staticClass:"modal-card-foot"},[i("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.close}},[t._v("Cancel")]),i("button",{staticClass:"button is-success",on:{click:t.select}},[t._v("Add Quarry")])])])},o=[],u={name:"AddQuarry",data:function(){return{quarry:null}},computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])(["quarries"])),{},{validQuarries:function(){var t=this;return this.campaign&&this.quarries?this.quarries.filter((function(e){return!t.campaign.quarries.includes(e.id)})):[]}}),methods:{select:function(){var t=this.quarry;this.quarry=null,this.$emit("add",t)},close:function(){this.quarry=null,this.$emit("close")}}},d=u,p=i("0c7c"),v=Object(p["a"])(d,l,o,!1,null,null,null),f=v.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[i("header",{staticClass:"modal-card-head"},[i("p",{staticClass:"modal-card-title"},[t._v("Add Location")]),i("button",{staticClass:"delete",attrs:{type:"button"},on:{click:t.close}})]),i("section",{staticClass:"modal-card-body"},[i("p",{staticClass:"content"},[t._v(" Select a Location to add to your Settlement's Locations list. "),i("b-message",{attrs:{type:"is-warning"}},[t._v("This list contains all valid locations available.")])],1),i("b-field",{attrs:{label:"Location","label-position":"on-border"}},[i("b-select",{attrs:{placeholder:"Add Location",icon:"location-arrow",required:"",expanded:""},model:{value:t.location,callback:function(e){t.location=e},expression:"location"}},t._l(t.validLocations,(function(e){return i("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)],1)],1),i("footer",{staticClass:"modal-card-foot"},[i("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.close}},[t._v("Cancel")]),i("button",{staticClass:"button is-success",on:{click:t.select}},[t._v("Add Location")])])])},m=[],g={name:"AddLocation",data:function(){return{location:null}},computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])(["locations"])),{},{validLocations:function(){var t=this;return this.campaign&&this.locations?this.locations.filter((function(e){return!t.campaign.locations.includes(e.id)})):[]}}),methods:{select:function(){var t=this.location;this.location=null,this.$emit("add",t)},close:function(){this.location=null,this.$emit("close")}}},b=g,_=Object(p["a"])(b,h,m,!1,null,null,null),C=_.exports,y={name:"Settlement",components:{QuarryAdd:f,LocationAdd:C},data:function(){return{showAddQuarry:!1,showAddLocation:!1,quarry:null,showTitleEdit:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])(["user","innovations","innovated","users","quarries","locations"])),{},{leftMilestones:function(){return this.campaign.milestones.filter((function(t,e){return e%2}))},rightMilestones:function(){return this.campaign.milestones.filter((function(t,e){return!(e%2)}))},campaignQuarries:function(){var t=this;return this.quarries.filter((function(e){return t.campaign.quarries.includes(e.id)}))},campaignLocations:function(){var t=this;return this.locations.filter((function(e){return t.campaign.locations.includes(e.id)}))},members:function(){var t=this;return this.users.filter((function(e){return t.campaign.members.includes(e.id)}))},maxSurvivalBonus:function(){return this.researchedInnovations.filter((function(t){return t.increaseLimit})).length},departingSurvival:function(){return this.researchedInnovations.filter((function(t){return t.departingSurvival})).length},researchedInnovations:function(){var t=this;return this.innovations.filter((function(e){return t.innovated.find((function(t){return t.id===e.id&&t.innovated}))}))}}),methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["setLoading","bindCampaign"])),{},{updateField:function(t,e){var i=this,a=t.split(".").reduce((function(t,e){return t[e]}),this.campaign);if(a!==e){this.setLoading(!0);var n={};n[t]=e,c["a"].collection("campaigns").doc(this.campaign.id).update(n).then((function(){return i.setLoading(!1)}))}},updateTitle:function(){var t=this;this.$buefy.dialog.prompt({message:"Change Settlement Name",trapFocus:!0,inputAttrs:{value:this.campaign.name},onConfirm:function(e){return t.updateField("name",e)}})},updateSurvival:function(){var t=this;this.$buefy.dialog.prompt({message:"Update Max Survival",trapFocus:!0,inputAttrs:{type:"number",value:this.campaign.survival.max},onConfirm:function(e){return t.updateField("survival.max",parseInt(e))}})},updateBonuses:function(t){var e=this;this.$buefy.dialog.prompt({message:"Update Bonuses (".concat(t,")"),trapFocus:!0,inputAttrs:{value:this.campaign.bonuses[t]},onConfirm:function(i){return e.updateField("bonuses.".concat(t),i)}})},selectPrinciple:function(t,e){var i=this,a=this.campaign.principles[t];this.$buefy.dialog.confirm({title:"Select Principle",message:'Confirm selecting <span class="has-text-weight-bold">'.concat(e,'</span> for the principle <span class="has-text-weight-bold">').concat(a.name,"</span>?"),type:"is-info",onConfirm:function(){return i.updateField("principles.".concat(t,".selected"),e)}})},addQuarry:function(t){var e=this;t&&0!==t.length&&(this.setLoading(!0),c["a"].collection("campaigns").doc(this.campaign.id).update({quarries:c["b"].firestore.FieldValue.arrayUnion(t)}).then((function(){e.setLoading(!1),e.showAddQuarry=!1})))},addLocation:function(t){var e=this;t&&0!==t.length&&(this.setLoading(!0),c["a"].collection("campaigns").doc(this.campaign.id).update({locations:c["b"].firestore.FieldValue.arrayUnion(t)}).then((function(){e.setLoading(!1),e.showAddLocation=!1})))},invitePlayer:function(){}})},x=y,E=(i("e174"),Object(p["a"])(x,a,n,!1,null,"87448e42",null));e["default"]=E.exports}}]);
//# sourceMappingURL=settlement.e9695306.js.map