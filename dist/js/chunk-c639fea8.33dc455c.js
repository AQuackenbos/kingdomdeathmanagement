(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c639fea8"],{1038:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return!t.loading&&t.user&&t.campaign?a("div",{staticClass:"column is-12"},[a("h1",{staticClass:"title"},[t._v("Settlement Storage")]),a("section",{staticClass:"section"},[a("b-tabs",{staticClass:"block",attrs:{position:"is-centered",size:"is-medium",type:"is-boxed",expanded:""}},[a("b-tab-item",{attrs:{label:"Resources",icon:"drumstick-bite"}},[a("Resources",{attrs:{campaign:t.campaign}})],1),a("b-tab-item",{attrs:{label:"Gear",icon:"khanda"}},[a("Gear",{attrs:{campaign:t.campaign}})],1),a("b-tab-item",{attrs:{label:"Grids",icon:"th"}},[t._v(" (WIP) ")])],1)],1)]):t._e()},i=[],r=a("5530"),n=a("2f62"),o=a("dc59"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tile is-ancestor resource-sheet"},[a("div",{staticClass:"field corner-control"},[a("b-switch",{model:{value:t.showTrackers,callback:function(e){t.showTrackers=e},expression:"showTrackers"}},[t._v("Show Trackers")])],1),a("b-button",{staticClass:"corner-button",attrs:{type:"is-info","icon-left":"plus-square",rounded:""},on:{click:function(e){e.preventDefault(),t.showAddResource=!0}}},[t._v("Add New Resource")]),a("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-modal":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("ResourceAdd",{attrs:{resources:t.resources,campaign:t.campaign},on:{close:e.close,add:t.addResource}})]}}]),model:{value:t.showAddResource,callback:function(e){t.showAddResource=e},expression:"showAddResource"}}),0===t.categories.length?a("div",{staticClass:"block",staticStyle:{width:"100%"}},[a("p",{staticClass:"content has-text-centered"},[t._v("No Resources have been added yet.")])]):t._e(),a("b-message",{attrs:{title:"Resource Trackers",closable:!1,type:"is-info"},model:{value:t.showTrackers,callback:function(e){t.showTrackers=e},expression:"showTrackers"}},[t.campaign.trackers&&t.campaign.trackers.length?a("ul",t._l(t.campaign.trackers,(function(e){return a("li",{key:e},[a("div",{staticClass:"control",staticStyle:{"margin-bottom":".25em"}},[a("span",{staticClass:"tags has-addons"},[t.trackers.hasOwnProperty(e)?a("span",{staticClass:"tag is-dark"},[t._v(t._s(t.trackers[e])+" x")]):a("span",{staticClass:"tag is-dark"},[t._v("0 x")]),a("span",{staticClass:"tag is-white"},[t._v(t._s(e))]),a("span",{staticClass:"tag is-danger",staticStyle:{cursor:"pointer"},on:{click:function(a){return a.preventDefault(),t.removeTracker(e)}}},[a("b-icon",{attrs:{icon:"times"}})],1)])])])})),0):a("p",{staticClass:"content"},[t._v("No Trackers Configured")]),a("b-button",{attrs:{type:"is-success","icon-left":"thumbtack"},on:{click:function(e){return e.preventDefault(),t.addTracker(e)}}},[t._v("Add Tracker")])],1),t._l([t.categoriesLeft,t.categoriesMiddle,t.categoriesRight],(function(e,s){return a("div",{key:s,staticClass:"tile is-vertical"},t._l(e,(function(e){return a("div",{key:e.name,ref:e.name,refInFor:!0,staticClass:"tile is-parent",staticStyle:{position:"relative"}},[a("div",{staticClass:"tile is-child box"},[a("h1",{staticClass:"subtitle"},[t._v(t._s(e.name))]),a("hr"),a("table",{staticClass:"table is-striped is-fullwidth is-narrow is-hoverable"},[a("tbody",t._l(e.resources,(function(e){return a("tr",{key:e.id},[a("td",{attrs:{width:"25%"}},[a("b-field",{attrs:{type:"is-info",label:"Qty","label-position":"on-border"}},[a("b-input",{staticClass:"is-info",attrs:{size:"is-small",type:"number",rounded:"",lazy:!0},on:{blur:function(a){return t.saveResource(e)}},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"r.qty"}})],1)],1),a("td",{staticStyle:{"text-align":"left"}},[a("span",[t._v(t._s(e.name))])]),a("td",{attrs:{width:"25%"}},[a("div",{staticClass:"control",staticStyle:{width:"100%"}},[a("div",{staticClass:"tags"},t._l(e.types,(function(e){return a("span",{key:e,staticClass:"tag is-rounded",staticStyle:{width:"100%"}},[t._v(t._s(e))])})),0)])])])})),0)])])])})),0)}))],2)},l=[],u=(a("a4d3"),a("e01a"),a("4de4"),a("4160"),a("caad"),a("c975"),a("a15b"),a("d81d"),a("13d5"),a("fb6a"),a("b0c0"),a("ac1f"),a("2532"),a("1276"),a("498a"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[t._m(0),a("section",{staticClass:"modal-card-body"},[a("p",{staticClass:"content"},[a("b-field",{attrs:{label:"Resource Name","label-position":"on-border",type:{"is-danger":t.nameInUse},message:{"This resource is already recorded in this Settlement.":t.nameInUse}}},[a("b-input",{attrs:{placeholder:"Resource",type:"text",lazy:!0,required:""},on:{input:t.checkName},model:{value:t.resource.name,callback:function(e){t.$set(t.resource,"name",e)},expression:"resource.name"}})],1),a("b-field",{attrs:{label:"Category","label-position":"on-border",type:{"is-danger":!t.resource.category},message:{Required:!t.resource.category}}},[a("b-input",{attrs:{placeholder:"i.e. Basic Resource, Strange Resource, White Lion, etc",type:"text",required:""},model:{value:t.resource.category,callback:function(e){t.$set(t.resource,"category",e)},expression:"resource.category"}})],1),a("b-field",{attrs:{label:"Types","label-position":"on-border",type:{"is-danger":t.resource.types&&t.resource.types.length<1},message:{"At least one type is required.":t.resource.types&&t.resource.types.length<1}}},[a("b-taginput",{attrs:{placeholder:"i.e. bone, organ, consumable, etc"},model:{value:t.resource.types,callback:function(e){t.$set(t.resource,"types",e)},expression:"resource.types"}})],1),a("b-field",{attrs:{label:"Description","label-position":"on-border",message:"Optional"}},[a("b-input",{attrs:{type:"textarea"},model:{value:t.resource.description,callback:function(e){t.$set(t.resource,"description",e)},expression:"resource.description"}})],1),a("b-field",{attrs:{label:"Flavor","label-position":"on-border",message:"Optional"}},[a("b-input",{attrs:{type:"textarea"},model:{value:t.resource.flavor,callback:function(e){t.$set(t.resource,"flavor",e)},expression:"resource.flavor"}})],1)],1)]),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.close}},[t._v("Cancel")]),t.valid?a("button",{staticClass:"button is-success",on:{click:t.select}},[t._v("Add Resource")]):a("b-button",{attrs:{type:"is-danger",disabled:""}},[t._v("Form Has Errors")])],1)])}),d=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("Add New Resource")])])}],m={name:"ResourceAdd",props:["resources","campaign"],data:function(){return{resource:{},nameInUse:!1}},computed:{valid:function(){return!this.nameInUse&&(null!==this.resource.category||""!==this.resource.category)&&(null!==this.resource.name||""!==this.resource.name)&&this.resource.types&&this.resource.types.length>0}},methods:{select:function(){if(this.valid){var t=this.resource;this.resource={},this.$emit("add",t),this.$emit("close")}},close:function(){this.resource={},this.$emit("close")},checkName:function(){var t=this.resource.name.trim().toLowerCase();this.resources.map((function(t){return t.name.trim().toLowerCase()})).includes(t)?this.nameInUse=!0:this.nameInUse=!1}}},p=m,f=a("0c7c"),b=Object(f["a"])(p,u,d,!1,null,null,null),g=b.exports,v={name:"Resources",props:["campaign"],data:function(){return{resources:[],showAddResource:!1,showTrackers:!1}},components:{ResourceAdd:g},computed:Object(r["a"])(Object(r["a"])({},Object(n["c"])({loading:"loading",currentCampaign:"currentCampaign"})),{},{existingNames:function(){return this.resources.map((function(t){return t.name.trim().toLowerCase()})).filter((function(t,e,a){return a.indexOf(t)===e&&null!==t}))},categoryNames:function(){return this.resources.map((function(t){return t.category.trim().toLowerCase()})).filter((function(t,e,a){return a.indexOf(t)===e&&null!==t})).map((function(t){return t.split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(" ")})).sort()},categories:function(){var t=this,e=[],a=this.categoryNames;return a.forEach((function(a){return e.push({name:a,resources:t.resources.filter((function(t){return t.category.trim().toLowerCase()===a.trim().toLowerCase()}))})})),e},categoriesLeft:function(){return this.categories.filter((function(t,e){return e%3===0}))},categoriesMiddle:function(){return this.categories.filter((function(t,e){return e%3===1}))},categoriesRight:function(){return this.categories.filter((function(t,e){return e%3===2}))},trackers:function(){var t=this,e={};return this.campaign.trackers.forEach((function(a){e[a]=t.resources.filter((function(t){return t.types.includes(a.toLowerCase().trim())})).map((function(t){return parseInt(t.qty)})).reduce((function(t,e){return t+e}),0)})),e}}),created:function(){this.$bind("resources",o["a"].collection("campaigns/".concat(this.currentCampaign,"/resources")))},methods:Object(r["a"])(Object(r["a"])({},Object(n["b"])(["setLoading"])),{},{addResource:function(t){var e=this;this.setLoading(!0),o["a"].collection("campaigns/".concat(this.currentCampaign,"/resources")).doc().set({name:t.name.trim(),category:t.category.trim(),types:t.types.map((function(t){return t.toLowerCase().trim()})),description:t.description?t.description:null,flavor:t.flavor?t.flavor:null,qty:0}).then((function(){return e.setLoading(!1)}))},saveResource:function(t){var e=this.$buefy.loading.open({container:this.$refs[t.category].$el});o["a"].collection("campaigns/".concat(this.currentCampaign,"/resources")).doc(t.id).update({qty:t.qty?parseInt(t.qty):0}).then((function(){return e.close()}))},addTracker:function(){var t=this;this.$buefy.dialog.prompt({message:"Add a new resource tracker:",placeholder:"i.e. bone, scrap, iron",trapFocus:!0,onConfirm:function(e){return o["a"].collection("campaigns").doc(t.currentCampaign).update({trackers:o["b"].firestore.FieldValue.arrayUnion(e.trim().toLowerCase())})}})},removeTracker:function(t){o["a"].collection("campaigns").doc(this.currentCampaign).update({trackers:o["b"].firestore.FieldValue.arrayRemove(t)})}})},h=v,y=(a("a83e"),Object(f["a"])(h,c,l,!1,null,null,null)),C=y.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tile is-ancestor gear-sheet"},[a("b-button",{staticClass:"corner-button",attrs:{type:"is-info","icon-left":"plus-square",rounded:""},on:{click:function(e){e.preventDefault(),t.showAddGear=!0}}},[t._v("Add New Gear")]),a("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-modal":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("GearAdd",{attrs:{gear:t.gear,campaign:t.campaign},on:{close:e.close,add:t.addGear}})]}}]),model:{value:t.showAddGear,callback:function(e){t.showAddGear=e},expression:"showAddGear"}}),t._l([t.categoriesLeft,t.categoriesRight],(function(e,s){return a("div",{key:s,staticClass:"tile is-vertical"},t._l(e,(function(e){return a("div",{key:e.name,ref:e.name,refInFor:!0,staticClass:"tile is-parent",staticStyle:{position:"relative"}},[a("div",{staticClass:"tile is-child box"},[t._v(" "+t._s(e.name)+" ")])])})),0)}))],2)},w=[],k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[t._m(0),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"columns is-multiline"},[a("div",{staticClass:"column is-4"},["armor"===t.item.type||t.item.grants.armor?a("b-field",{attrs:{grouped:""}},[a("b-field",{attrs:{label:"Armor","label-position":"on-border"}},[a("b-input",{staticClass:"single-value",attrs:{size:"is-small"},model:{value:t.item.armor.amount,callback:function(e){t.$set(t.item.armor,"amount",e)},expression:"item.armor.amount"}})],1),a("b-field",[a("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-right",size:"is-small",multiple:""},model:{value:t.item.armor.locations,callback:function(e){t.$set(t.item.armor,"locations",e)},expression:"item.armor.locations"}},[a("button",{staticClass:"button is-dark is-small",attrs:{slot:"trigger",type:"button"},slot:"trigger"},[t.item.armor.locations.length>0?t._l(t.item.armor.locations,(function(e){return a("div",{key:e,staticStyle:{"margin-right":".5em"}},[a("span",{class:t.iconTranslation[e],staticStyle:{"margin-right":".25em"}}),a("span",[t._v(t._s(e.charAt(0).toUpperCase()+e.slice(1)))])])})):[a("span",[t._v("Select Armor Location(s)")])]],2),t._l(["all","head","body","arms","legs","waist"],(function(e){return a("b-dropdown-item",{key:e,attrs:{value:e,"aria-role":"listitem"}},[a("div",{staticClass:"media"},[a("div",{staticClass:"media-left"},[a("span",{class:t.iconTranslation[e]})]),a("div",{staticClass:"media-content"},[t._v(" "+t._s(e.charAt(0).toUpperCase()+e.slice(1))+" ")])])])}))],2)],1)],1):t._e(),"weapon"===t.item.type||t.item.grants.attack?a("b-field",{attrs:{grouped:""}},[a("b-field",{attrs:{label:"Speed","label-position":"on-border"}},[a("b-input",{staticClass:"single-value",attrs:{size:"is-small"},model:{value:t.item.weapon.speed,callback:function(e){t.$set(t.item.weapon,"speed",e)},expression:"item.weapon.speed"}})],1),a("b-field",{attrs:{label:"Accuracy","label-position":"on-border"}},[a("b-input",{staticClass:"single-value",attrs:{size:"is-small"},model:{value:t.item.weapon.accuracy,callback:function(e){t.$set(t.item.weapon,"accuracy",e)},expression:"item.weapon.accuracy"}})],1),a("b-field",{attrs:{label:"Strength","label-position":"on-border"}},[a("b-input",{staticClass:"single-value",attrs:{size:"is-small"},model:{value:t.item.weapon.strength,callback:function(e){t.$set(t.item.weapon,"strength",e)},expression:"item.weapon.strength"}})],1)],1):t._e(),a("b-field",{staticStyle:{"margin-top":".5em"},attrs:{label:"Classifications","label-position":"on-border"}},[a("b-taginput",{attrs:{icon:"tag",placeholder:"Add Classification","aria-close-label":"Remove",size:"is-small"},model:{value:t.item.classifications,callback:function(e){t.$set(t.item,"classifications",e)},expression:"item.classifications"}})],1)],1),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"Name","label-position":"on-border"}},[a("b-input",{attrs:{size:"is-small"},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("b-select",{attrs:{placeholder:"Connection",size:"is-small"},model:{value:t.item.connections.top,callback:function(e){t.$set(t.item.connections,"top",e)},expression:"item.connections.top"}},[a("option",[t._v("None")]),a("option",{attrs:{value:"red"}},[t._v("Red")]),a("option",{attrs:{value:"blue"}},[t._v("Blue")]),a("option",{attrs:{value:"green"}},[t._v("Green")])])],1),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{grouped:""}},[a("b-field",[a("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"},model:{value:t.item.type,callback:function(e){t.$set(t.item,"type",e)},expression:"item.type"}},[a("button",{staticClass:"button is-dark is-small",attrs:{slot:"trigger",type:"button"},slot:"trigger"},[t.item.type?[a("span",{class:t.iconTranslation[t.item.type],staticStyle:{"margin-right":".25em"}}),a("span",[t._v(t._s(t.item.type.charAt(0).toUpperCase()+t.item.type.slice(1)))])]:[a("span",[t._v("Select a Type")])]],2),t._l(["weapon","armor","item"],(function(e){return a("b-dropdown-item",{key:e,attrs:{value:e,"aria-role":"listitem"}},[a("div",{staticClass:"media"},[a("div",{staticClass:"media-left"},[a("span",{class:t.iconTranslation[e]})]),a("div",{staticClass:"media-content"},[t._v(" "+t._s(e.charAt(0).toUpperCase()+e.slice(1))+" ")])])])}))],2)],1),"item"===t.item.type?a("b-field",[a("b-switch",{attrs:{size:"is-small"},model:{value:t.item.grants.attack,callback:function(e){t.$set(t.item.grants,"attack",e)},expression:"item.grants.attack"}},[t._v("Attack")]),a("b-switch",{attrs:{size:"is-small"},model:{value:t.item.grants.armor,callback:function(e){t.$set(t.item.grants,"armor",e)},expression:"item.grants.armor"}},[t._v("Armor")])],1):t._e()],1)],1),a("div",{staticClass:"column is-4"},[a("b-select",{attrs:{placeholder:"Connection",size:"is-small"},model:{value:t.item.connections.left,callback:function(e){t.$set(t.item.connections,"left",e)},expression:"item.connections.left"}},[a("option",[t._v("None")]),a("option",{attrs:{value:"red"}},[t._v("Red")]),a("option",{attrs:{value:"blue"}},[t._v("Blue")]),a("option",{attrs:{value:"green"}},[t._v("Green")])])],1),a("div",{staticClass:"column is-4"},[a("GearCard",{attrs:{item:t.item,campaign:t.campaign}})],1),a("div",{staticClass:"column is-4"},[a("b-select",{attrs:{placeholder:"Connection",size:"is-small"},model:{value:t.item.connections.right,callback:function(e){t.$set(t.item.connections,"right",e)},expression:"item.connections.right"}},[a("option",[t._v("None")]),a("option",{attrs:{value:"red"}},[t._v("Red")]),a("option",{attrs:{value:"blue"}},[t._v("Blue")]),a("option",{attrs:{value:"green"}},[t._v("Green")])])],1),a("div",{staticClass:"column is-4"},[a("b-field",{staticStyle:{"margin-top":".5em"},attrs:{label:"Keywords","label-position":"on-border"}},[a("b-taginput",{attrs:{icon:"tag",placeholder:"Add Classification","aria-close-label":"Remove",size:"is-small"},model:{value:t.item.keywords,callback:function(e){t.$set(t.item,"keywords",e)},expression:"item.keywords"}})],1),a("b-field",{staticStyle:{"margin-top":".5em"},attrs:{label:"Add Whole Affinities","label-position":"on-border"}},[a("b-taginput",{attrs:{icon:"square",placeholder:"Add Square","aria-close-label":"Remove",size:"is-small","before-adding":function(t){return["red","green","blue"].includes(t.toLowerCase())},"allow-duplicates":!0},model:{value:t.item.affinities,callback:function(e){t.$set(t.item,"affinities",e)},expression:"item.affinities"}})],1)],1),a("div",{staticClass:"column is-4"},[a("b-select",{attrs:{placeholder:"Connection",size:"is-small"},model:{value:t.item.connections.bottom,callback:function(e){t.$set(t.item.connections,"bottom",e)},expression:"item.connections.bottom"}},[a("option",[t._v("None")]),a("option",{attrs:{value:"red"}},[t._v("Red")]),a("option",{attrs:{value:"blue"}},[t._v("Blue")]),a("option",{attrs:{value:"green"}},[t._v("Green")])])],1),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"Description","label-position":"on-border"}},[a("b-input",{attrs:{type:"textarea",size:"is-small"},model:{value:t.item.description,callback:function(e){t.$set(t.item,"description",e)},expression:"item.description"}})],1)],1),a("div",{staticClass:"column is-6"},[t._v(" (UNLOCKABLES) ")]),a("div",{staticClass:"column is-6"},[t._v(" (ACTIONS?) ")])])]),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.close}},[t._v("Cancel")]),t.valid?a("button",{staticClass:"button is-success",on:{click:t.select}},[t._v("Add Item")]):a("b-button",{attrs:{type:"is-danger",disabled:""}},[t._v("Item Has Errors")])],1)])},x=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("Add New Piece of Gear")])])}],A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box gear-card"},["armor"===t.item.type||t.item.grants.armor?a("div",{staticClass:"armor"},[a("div",{staticClass:"armor-amount"},[a("span",{staticClass:"bl-armor is-size-4"}),a("span",{staticClass:"amount"},[t._v(t._s(t.item.armor.amount))]),t._l(t.item.armor.locations,(function(e){return a("span",{key:e,class:t.iconTranslation[e]})}))],2)]):t._e(),"weapon"===t.item.type||t.item.grants.attack?a("div",{staticClass:"weapon"},[a("div",{staticClass:"weapon-holder"},[a("span",{staticClass:"bl-action",staticStyle:{color:"black",background:"white","border-radius":"5em"}}),a("hr"),a("span",[t._v(t._s(t.item.weapon.speed))]),a("div",{staticClass:"weapon-inner"},[a("div",{staticClass:"top"},[t._v(t._s(t.item.weapon.accuracy))]),a("div",{staticClass:"bot"},[t._v(t._s(t.item.weapon.strength))])])])]):t._e(),a("div",{staticClass:"top-text"},[a("h1",{staticClass:"is-size-5"},[t._v(t._s(t.item.name))]),a("p",{staticClass:"is-size-7"},[t._v(t._s(t.classifications))])]),a("div",{staticClass:"center-image"},["armor"===t.item.type||t.item.grants.armor?a("div",[t.item.armor.locations.length>0?a("div",t._l(t.item.armor.locations,(function(e){return a("span",{key:e,staticClass:"is-size-1",class:t.iconTranslation[e]})})),0):a("div",[a("span",{staticClass:"is-size-1",class:t.iconTranslation["armor"]})])]):"weapon"===t.item.type||t.item.grants.attack?a("div",[a("span",{staticClass:"is-size-1",class:t.iconTranslation["weapon"]})]):"item"===t.item.type?a("div",[a("span",{staticClass:"is-size-1",class:t.iconTranslation["item"]})]):a("div",[a("span",{staticClass:"is-size-1 bl-random"})])]),a("div",{staticClass:"bottom-text"},[t.item.affinities.length>0?a("div",t._l(t.item.affinities,(function(t,e){return a("div",{key:e,staticClass:"affinity"},[a("b-icon",{style:{color:t.toLowerCase()},attrs:{icon:"square-full",size:"is-medium"}})],1)})),0):t._e(),t.item.keywords.length>0?a("div",{staticClass:"is-size-6"},t._l(t.item.keywords,(function(e,s){return a("span",{key:s},[a("strong",[t._v(t._s(e))]),s+1!==t.item.keywords.length?a("span",[t._v(", ")]):t._e()])})),0):t._e(),a("div",{staticClass:"is-size-7",domProps:{innerHTML:t._s(t.item.description)}})]),t._l(["top","bottom","left","right"],(function(e){return a("div",{key:e,staticClass:"connection",class:e},[t.item.connections[e]?a("span",{staticClass:"bl-milestone",style:{color:t.item.connections[e]}}):t._e()])}))],2)},$=[],R=(a("99af"),a("2909")),O={name:"GearCard",props:{item:{type:Object,default:function(){return{grants:{},armor:{locations:[]},weapon:{},connections:{},classifications:[],keywords:[],description:"",bonuses:[],affinities:[]}}},campaign:Object},computed:{classifications:function(){return[this.item.type].concat(Object(R["a"])(this.item.classifications)).join(", ")},iconTranslation:function(){return{weapon:"bl-nemesis-event",armor:"bl-armor",item:"bl-lantern",all:"bl-armor",head:"bl-head",body:"bl-body",arms:"bl-arms",legs:"bl-legs",waist:"bl-waist"}}}},S=O,T=(a("46e7"),Object(f["a"])(S,A,$,!1,null,"59814abe",null)),j=T.exports,z={name:"GearAdd",components:{GearCard:j},props:{gear:Array,campaign:Object,item:{type:Object,default:function(){return{grants:{},armor:{locations:[]},weapon:{},connections:{},classifications:[],keywords:[],description:"",bonuses:[],affinities:[]}}}},data:function(){return{nameInUse:!1}},computed:{valid:function(){return!this.nameInUse&&(null!==this.item.category||""!==this.item.category)&&(null!==this.item.name||""!==this.item.name)&&this.item.types&&this.item.types.length>0},iconTranslation:function(){return{weapon:"bl-nemesis-event",armor:"bl-armor",item:"bl-lantern",all:"bl-armor",head:"bl-head",body:"bl-body",arms:"bl-arms",legs:"bl-legs",waist:"bl-waist"}}},methods:{select:function(){if(this.item&&this.valid){var t=this.item;this.item={},this.$emit("add",t),this.$emit("close")}},close:function(){this.item={},this.$emit("close")},checkName:function(){var t=this.item.name.trim().toLowerCase();this.gear.map((function(t){return t.name.trim().toLowerCase()})).includes(t)?this.nameInUse=!0:this.nameInUse=!1}}},L=z,G=(a("251d"),Object(f["a"])(L,k,x,!1,null,"de46bf52",null)),N=G.exports,I={name:"Gear",props:["campaign"],data:function(){return{gear:[],showAddGear:!1}},components:{GearAdd:N},created:function(){this.$bind("gear",o["a"].collection("campaign/".concat(this.currentCampaign,"/gear")))},computed:Object(r["a"])(Object(r["a"])({},Object(n["c"])({loading:"loading",currentCampaign:"currentCampaign"})),{},{categoryNames:function(){return this.gear.map((function(t){return t.category.trim().toLowerCase()})).filter((function(t,e,a){return a.indexOf(t)===e&&null!==t})).map((function(t){return t.split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(" ")})).sort()},categories:function(){var t=this,e=[],a=this.categoryNames;return a.forEach((function(a){return e.push({name:a,gear:t.gear.filter((function(t){return t.category.trim().toLowerCase()===a.trim().toLowerCase()}))})})),e},categoriesLeft:function(){return this.categories.filter((function(t,e){return!(e%2)}))},categoriesRight:function(){return this.categories.filter((function(t,e){return e%2}))}}),methods:Object(r["a"])(Object(r["a"])({},Object(n["b"])(["setLoading"])),{},{addGear:function(t){return t}})},E=I,U=(a("4c98"),Object(f["a"])(E,_,w,!1,null,"6eb0bfd8",null)),q=U.exports,F={name:"Storage",data:function(){return{campaign:null}},components:{Resources:C,Gear:q},computed:Object(r["a"])({},Object(n["c"])({loading:"loading",user:"user",currentCampaign:"currentCampaign"})),created:function(){this.$bind("campaign",o["a"].collection("campaigns").doc(this.currentCampaign))},methods:{}},B=F,D=Object(f["a"])(B,s,i,!1,null,null,null);e["default"]=D.exports},"13d5":function(t,e,a){"use strict";var s=a("23e7"),i=a("d58f").left,r=a("a640"),n=a("ae40"),o=a("2d00"),c=a("605d"),l=r("reduce"),u=n("reduce",{1:0}),d=!c&&o>79&&o<83;s({target:"Array",proto:!0,forced:!l||!u||d},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"251d":function(t,e,a){"use strict";a("b84d")},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var s=a("6b75");function i(t){if(Array.isArray(t))return Object(s["a"])(t)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0");function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var n=a("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return i(t)||r(t)||Object(n["a"])(t)||o()}},"46e7":function(t,e,a){"use strict";a("a41b")},"4c98":function(t,e,a){"use strict";a("c997")},"99af":function(t,e,a){"use strict";var s=a("23e7"),i=a("d039"),r=a("e8b5"),n=a("861d"),o=a("7b0b"),c=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),m=a("b622"),p=a("2d00"),f=m("isConcatSpreadable"),b=9007199254740991,g="Maximum allowed index exceeded",v=p>=51||!i((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),h=d("concat"),y=function(t){if(!n(t))return!1;var e=t[f];return void 0!==e?!!e:r(t)},C=!v||!h;s({target:"Array",proto:!0,forced:C},{concat:function(t){var e,a,s,i,r,n=o(this),d=u(n,0),m=0;for(e=-1,s=arguments.length;e<s;e++)if(r=-1===e?n:arguments[e],y(r)){if(i=c(r.length),m+i>b)throw TypeError(g);for(a=0;a<i;a++,m++)a in r&&l(d,m,r[a])}else{if(m>=b)throw TypeError(g);l(d,m++,r)}return d.length=m,d}})},a108:function(t,e,a){},a41b:function(t,e,a){},a83e:function(t,e,a){"use strict";a("a108")},b84d:function(t,e,a){},c997:function(t,e,a){},d58f:function(t,e,a){var s=a("1c0b"),i=a("7b0b"),r=a("44ad"),n=a("50c4"),o=function(t){return function(e,a,o,c){s(a);var l=i(e),u=r(l),d=n(l.length),m=t?d-1:0,p=t?-1:1;if(o<2)while(1){if(m in u){c=u[m],m+=p;break}if(m+=p,t?m<0:d<=m)throw TypeError("Reduce of empty array with no initial value")}for(;t?m>=0:d>m;m+=p)m in u&&(c=a(c,u[m],m,l));return c}};t.exports={left:o(!1),right:o(!0)}}}]);
//# sourceMappingURL=chunk-c639fea8.33dc455c.js.map