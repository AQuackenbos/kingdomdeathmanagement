(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d52b1d0"],{1038:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return!e.showLoading&&e.user&&e.campaign?s("div",{staticClass:"column is-12"},[s("h1",{staticClass:"title"},[e._v("Settlement Storage")]),s("section",{staticClass:"section"},[s("b-tabs",{staticClass:"block",attrs:{position:"is-centered",size:"is-medium",type:"is-boxed",expanded:""},on:{input:e.silentUpdateRoute},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.tabs,(function(e){return s("b-tab-item",{key:e.name,attrs:{label:e.name,icon:e.icon}},[s(e.component,{tag:"component"})],1)})),1)],1)]):e._e()},i=[],r=(s("b0c0"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tile is-ancestor resource-sheet"},[s("div",{staticClass:"field corner-control"},[s("b-switch",{model:{value:e.showTrackers,callback:function(t){e.showTrackers=t},expression:"showTrackers"}},[e._v("Show Trackers")]),s("b-switch",{model:{value:e.hideOos,callback:function(t){e.hideOos=t},expression:"hideOos"}},[e._v("Hide Out of Stock")])],1),s("b-button",{staticClass:"corner-button",attrs:{type:"is-info","icon-left":"plus-square",rounded:""},on:{click:function(t){t.preventDefault(),e.showAddResource=!0}}},[e._v("Add New Resource")]),s("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-modal":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("ResourceAdd",{on:{close:t.close,add:e.addResource}})]}}]),model:{value:e.showAddResource,callback:function(t){e.showAddResource=t},expression:"showAddResource"}}),0===e.categories.length?s("div",{staticClass:"block",staticStyle:{width:"100%"}},[s("p",{staticClass:"content has-text-centered"},[e._v("No Resources have been added yet.")])]):e._e(),s("b-message",{attrs:{title:"Resource Trackers",closable:!1,type:"is-info"},model:{value:e.showTrackers,callback:function(t){e.showTrackers=t},expression:"showTrackers"}},[e.campaign.trackers&&e.campaign.trackers.length?s("ul",e._l(e.campaign.trackers,(function(t){return s("li",{key:t},[s("div",{staticClass:"control",staticStyle:{"margin-bottom":".25em"}},[s("span",{staticClass:"tags has-addons"},[e.trackers.hasOwnProperty(t)?s("span",{staticClass:"tag is-dark"},[e._v(e._s(e.trackers[t])+" x")]):s("span",{staticClass:"tag is-dark"},[e._v("0 x")]),s("span",{staticClass:"tag is-white"},[e._v(e._s(t))]),s("span",{staticClass:"tag is-danger",staticStyle:{cursor:"pointer"},on:{click:function(s){return s.preventDefault(),e.removeTracker(t)}}},[s("b-icon",{attrs:{icon:"times"}})],1)])])])})),0):s("p",{staticClass:"content"},[e._v("No Trackers Configured")]),s("b-button",{attrs:{type:"is-success","icon-left":"thumbtack"},on:{click:function(t){return t.preventDefault(),e.addTracker(t)}}},[e._v("Add Tracker")])],1),e._l([e.categoriesLeft,e.categoriesMiddle,e.categoriesRight],(function(t,a){return s("div",{key:a,staticClass:"tile is-vertical"},e._l(t,(function(t){return s("div",{key:t.name,ref:e.normalize(t.name),refInFor:!0,staticClass:"tile is-parent",staticStyle:{position:"relative"}},[s("div",{staticClass:"tile is-child box"},[s("h1",{staticClass:"subtitle"},[e._v(e._s(t.name))]),s("hr"),s("table",{staticClass:"table is-striped is-fullwidth is-narrow is-hoverable"},[s("tbody",e._l(t.resources,(function(t){return s("tr",{key:t.id},[s("td",{attrs:{width:"25%"}},[s("b-field",{attrs:{type:t.qty>0?"is-info":"is-danger",label:"Qty","label-position":"on-border"}},[s("b-input",{staticClass:"is-info is-danger",attrs:{size:"is-small",type:"number",min:"0",rounded:"",lazy:!0},on:{blur:function(s){return e.saveResource(t)}},model:{value:t.qty,callback:function(s){e.$set(t,"qty",s)},expression:"r.qty"}})],1)],1),s("td",{class:{"is-faded":t.qty<=0},staticStyle:{"text-align":"left"}},[s("span",[e._v(e._s(t.name))])]),s("td",{class:{"is-faded":t.qty<=0},attrs:{width:"25%"}},[s("div",{staticClass:"control",staticStyle:{width:"100%"}},[s("div",{staticClass:"tags"},e._l(t.types,(function(t){return s("span",{key:t,staticClass:"tag is-rounded",staticStyle:{width:"100%"}},[e._v(e._s(t))])})),0)])])])})),0)])])])})),0)}))],2)}),n=[],o=(s("a4d3"),s("e01a"),s("4de4"),s("4160"),s("caad"),s("c975"),s("a15b"),s("d81d"),s("13d5"),s("fb6a"),s("ac1f"),s("2532"),s("1276"),s("498a"),s("159b"),s("5530")),c=s("2f62"),l=s("dc59"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[e._m(0),s("section",{staticClass:"modal-card-body"},[s("p",{staticClass:"content"},[s("b-field",{attrs:{label:"Resource Name","label-position":"on-border",type:{"is-danger":e.nameInUse},message:{"This resource is already recorded in this Settlement.":e.nameInUse}}},[s("b-input",{attrs:{placeholder:"Resource",type:"text",lazy:!0,required:""},on:{input:e.checkName},model:{value:e.resource.name,callback:function(t){e.$set(e.resource,"name",t)},expression:"resource.name"}})],1),s("b-field",{attrs:{label:"Category","label-position":"on-border",type:{"is-danger":!e.resource.category},message:{Required:!e.resource.category}}},[s("b-input",{attrs:{placeholder:"i.e. Basic Resource, Strange Resource, White Lion, etc",type:"text",required:""},model:{value:e.resource.category,callback:function(t){e.$set(e.resource,"category",t)},expression:"resource.category"}})],1),s("b-field",{attrs:{label:"Types","label-position":"on-border",type:{"is-danger":e.resource.types&&e.resource.types.length<1},message:{"At least one type is required.":e.resource.types&&e.resource.types.length<1}}},[s("b-taginput",{attrs:{placeholder:"i.e. bone, organ, consumable, etc"},model:{value:e.resource.types,callback:function(t){e.$set(e.resource,"types",t)},expression:"resource.types"}})],1),s("b-field",{attrs:{label:"Description","label-position":"on-border",message:"Optional"}},[s("b-input",{attrs:{type:"textarea"},model:{value:e.resource.description,callback:function(t){e.$set(e.resource,"description",t)},expression:"resource.description"}})],1),s("b-field",{attrs:{label:"Flavor","label-position":"on-border",message:"Optional"}},[s("b-input",{attrs:{type:"textarea"},model:{value:e.resource.flavor,callback:function(t){e.$set(e.resource,"flavor",t)},expression:"resource.flavor"}})],1)],1)]),s("footer",{staticClass:"modal-card-foot"},[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:e.close}},[e._v("Cancel")]),e.valid?s("button",{staticClass:"button is-success",on:{click:e.select}},[e._v("Add Resource")]):s("b-button",{attrs:{type:"is-danger",disabled:""}},[e._v("Form Has Errors")])],1)])},d=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[e._v("Add New Resource")])])}],m={name:"ResourceAdd",props:["resources","campaign"],data:function(){return{resource:{},nameInUse:!1}},computed:{valid:function(){return!this.nameInUse&&(null!==this.resource.category||""!==this.resource.category)&&(null!==this.resource.name||""!==this.resource.name)&&this.resource.types&&this.resource.types.length>0}},methods:{select:function(){if(this.valid){var e=this.resource;this.resource={},this.$emit("add",e),this.$emit("close")}},close:function(){this.resource={},this.$emit("close")},checkName:function(){var e=this,t=this.normalize(this.resource.name);this.resources.map((function(t){return e.normalize(t.name)})).includes(t)?this.nameInUse=!0:this.nameInUse=!1}}},p=m,f=s("0c7c"),b=Object(f["a"])(p,u,d,!1,null,null,null),h=b.exports,g={name:"Resources",data:function(){return{hideOos:!1,showAddResource:!1,showTrackers:!1}},components:{ResourceAdd:h},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["resources"])),{},{existingNames:function(){var e=this;return this.resources.map((function(t){return e.normalize(t.name)})).filter((function(e,t,s){return s.indexOf(e)===t&&null!==e}))},categoryNames:function(){var e=this;return this.resources.map((function(t){return e.normalize(t.category)})).filter((function(e,t,s){return s.indexOf(e)===t&&null!==e})).map((function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")})).sort()},categories:function(){var e=this,t=[],s=this.categoryNames;return s.forEach((function(s){return t.push({name:s,resources:e.resources.filter((function(t){return e.normalize(t.category)===e.normalize(s)&&(!e.hideOos||t.qty>0)}))})})),t.filter((function(e){return e.resources.length>0}))},categoriesLeft:function(){return this.categories.filter((function(e,t){return t%3===0}))},categoriesMiddle:function(){return this.categories.filter((function(e,t){return t%3===1}))},categoriesRight:function(){return this.categories.filter((function(e,t){return t%3===2}))},trackers:function(){var e=this,t={};return this.campaign.trackers.forEach((function(s){t[s]=e.resources.filter((function(t){return t.types.includes(e.normalize(s))})).map((function(e){return parseInt(e.qty)})).reduce((function(e,t){return e+t}),0)})),t}}),methods:{addResource:function(e){var t=this;this.setLoading(!0),l["a"].collection("campaigns/".concat(this.campaign.id,"/resources")).doc().set({name:e.name.trim(),category:e.category.trim(),types:e.types.map((function(e){return t.normalize(e)})),description:e.description?e.description:null,flavor:e.flavor?e.flavor:null,qty:0}).then((function(){return t.setLoading(!1)}))},saveResource:function(e){var t=this.$buefy.loading.open({container:this.$refs[this.normalize(e.category)].$el});l["a"].collection("campaigns/".concat(this.campaign.id,"/resources")).doc(e.id).update({qty:e.qty?parseInt(e.qty):0}).then((function(){return t.close()}))},addTracker:function(){var e=this;this.$buefy.dialog.prompt({message:"Add a new resource tracker:",placeholder:"i.e. bone, scrap, iron",trapFocus:!0,onConfirm:function(t){return l["a"].collection("campaigns").doc(e.campaign.id).update({trackers:l["b"].firestore.FieldValue.arrayUnion(e.normalize(t))})}})},removeTracker:function(e){l["a"].collection("campaigns").doc(this.campaign.id).update({trackers:l["b"].firestore.FieldValue.arrayRemove(e)})}}},v=g,y=(s("a83e"),Object(f["a"])(v,r,n,!1,null,null,null)),k=y.exports,C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tile is-ancestor gear-sheet"},[s("div",{staticClass:"field corner-control"},[s("b-switch",{model:{value:e.hideOos,callback:function(t){e.hideOos=t},expression:"hideOos"}},[e._v("Hide Out of Stock")])],1),s("b-button",{staticClass:"corner-button",attrs:{type:"is-info","icon-left":"plus-square",rounded:""},on:{click:function(t){t.preventDefault(),e.showAddGear=!0}}},[e._v("Add New Gear")]),s("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!0,"aria-role":"dialog","aria-modal":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("GearAdd",{attrs:{newItem:!0},on:{close:t.close,add:e.addGear}})]}}]),model:{value:e.showAddGear,callback:function(t){e.showAddGear=t},expression:"showAddGear"}}),s("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!0,"aria-role":"dialog","aria-modal":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("GearAdd",e._b({on:{close:t.close,save:e.saveGearEdit}},"GearAdd",e.editGear,!1))]}}]),model:{value:e.showEditGear,callback:function(t){e.showEditGear=t},expression:"showEditGear"}}),e._l([e.categoriesLeft,e.categoriesRight],(function(t,a){return s("div",{key:a,staticClass:"tile is-vertical"},e._l(t,(function(t){return s("div",{key:t.name,ref:t.name,refInFor:!0,staticClass:"tile is-parent"},[s("div",{staticClass:"tile is-child box"},[s("h1",{staticClass:"subtitle"},[e._v(e._s(t.name))]),s("hr"),s("div",{staticClass:"tile is-parent"},e._l(t.gear,(function(t){return s("div",{key:t.id,staticClass:"tile is-child is-4",staticStyle:{padding:".5em"}},[s("div",{staticClass:"is-size-7 gear-qty",class:{"is-cutoff":t.qty<=0}},[s("span",{staticClass:"tags has-addons is-pulled-left"},[s("span",{staticClass:"tag",class:{"is-info":t.qty>0,"is-danger":t.qty<=0}},[e._v("Storage")]),s("span",{staticClass:"tag is-dark"},[e._v(e._s(t.qty-(e.gridQty[t.id]||0)))])]),s("span",{staticClass:"tags has-addons is-pulled-right",class:{"is-faded":t.qty<=0}},[s("span",{staticClass:"tag is-primary"},[e._v("Grids")]),s("span",{staticClass:"tag is-dark"},[e._v("?")])])]),s("GearCard",{staticClass:"is-scaled is-clickable",class:{"is-faded":t.qty<=0},staticStyle:{"font-size":"12px",clear:"both"},attrs:{item:t},nativeOn:{click:function(s){return e.openGearEdit(t)}}})],1)})),0)])])})),0)}))],2)},_=[],w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[e._v(e._s(e.mode)+" Piece of Gear")])]),s("section",{staticClass:"modal-card-body"},[s("div",{staticClass:"columns is-multiline"},[s("div",{staticClass:"column is-4"},["armor"===e.item.type||e.item.grants.armor?s("b-field",{attrs:{grouped:""}},[s("b-field",{attrs:{label:"Armor","label-position":"on-border"}},[s("b-input",{staticClass:"single-value",attrs:{size:"is-small"},model:{value:e.item.armor.amount,callback:function(t){e.$set(e.item.armor,"amount",t)},expression:"item.armor.amount"}})],1),s("b-field",[s("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-right",size:"is-small",multiple:""},model:{value:e.item.armor.locations,callback:function(t){e.$set(e.item.armor,"locations",t)},expression:"item.armor.locations"}},[s("button",{staticClass:"button is-dark is-small",attrs:{slot:"trigger",type:"button"},slot:"trigger"},[e.item.armor.locations.length>0?e._l(e.item.armor.locations,(function(t){return s("div",{key:t,staticStyle:{"margin-right":".5em"}},[s("span",{class:e.iconTranslation[t],staticStyle:{"margin-right":".25em"}}),s("span",[e._v(e._s(t.charAt(0).toUpperCase()+t.slice(1)))])])})):[s("span",[e._v("Select Armor Location(s)")])]],2),e._l(["all","head","body","arms","legs","waist"],(function(t){return s("b-dropdown-item",{key:t,attrs:{value:t,"aria-role":"listitem"}},[s("div",{staticClass:"media"},[s("div",{staticClass:"media-left"},[s("span",{class:e.iconTranslation[t]})]),s("div",{staticClass:"media-content"},[e._v(" "+e._s(t.charAt(0).toUpperCase()+t.slice(1))+" ")])])])}))],2)],1)],1):e._e(),"weapon"===e.item.type||e.item.grants.attack?s("b-field",{attrs:{grouped:""}},[s("b-field",{attrs:{label:"Speed","label-position":"on-border"}},[s("b-input",{staticClass:"single-value",attrs:{size:"is-small"},model:{value:e.item.weapon.speed,callback:function(t){e.$set(e.item.weapon,"speed",t)},expression:"item.weapon.speed"}})],1),s("b-field",{attrs:{label:"Accuracy","label-position":"on-border"}},[s("b-input",{staticClass:"single-value",attrs:{size:"is-small"},model:{value:e.item.weapon.accuracy,callback:function(t){e.$set(e.item.weapon,"accuracy",t)},expression:"item.weapon.accuracy"}})],1),s("b-field",{attrs:{label:"Strength","label-position":"on-border"}},[s("b-input",{staticClass:"single-value",attrs:{size:"is-small"},model:{value:e.item.weapon.strength,callback:function(t){e.$set(e.item.weapon,"strength",t)},expression:"item.weapon.strength"}})],1)],1):e._e(),s("b-field",{staticStyle:{"margin-top":".5em"},attrs:{label:"Classifications","label-position":"on-border"}},[s("b-taginput",{attrs:{icon:"tag",placeholder:"Add Classification","aria-close-label":"Remove",size:"is-small"},model:{value:e.item.classifications,callback:function(t){e.$set(e.item,"classifications",t)},expression:"item.classifications"}})],1)],1),s("div",{staticClass:"column is-4"},[s("b-field",{attrs:{label:"Name","label-position":"on-border"}},[s("b-input",{attrs:{size:"is-small",placeholder:"Item Name"},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}})],1),s("b-field",{attrs:{label:"Category","label-position":"on-border"}},[s("b-input",{attrs:{size:"is-small",placeholder:"Category i.e. Rare Gear, White Lion, Blacksmith, etc."},model:{value:e.item.category,callback:function(t){e.$set(e.item,"category",t)},expression:"item.category"}})],1),s("b-select",{attrs:{placeholder:"Connection (Top)",size:"is-small"},model:{value:e.item.connections.top,callback:function(t){e.$set(e.item.connections,"top",t)},expression:"item.connections.top"}},[s("option",{domProps:{value:null}},[e._v("None")]),s("option",{attrs:{value:"red"}},[e._v("Red")]),s("option",{attrs:{value:"blue"}},[e._v("Blue")]),s("option",{attrs:{value:"green"}},[e._v("Green")])])],1),s("div",{staticClass:"column is-4"},[s("b-field",{attrs:{grouped:""}},[s("b-field",[s("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"},model:{value:e.item.type,callback:function(t){e.$set(e.item,"type",t)},expression:"item.type"}},[s("button",{staticClass:"button is-dark is-small",attrs:{slot:"trigger",type:"button"},slot:"trigger"},[e.item.type?[s("span",{class:e.iconTranslation[e.item.type],staticStyle:{"margin-right":".25em"}}),s("span",[e._v(e._s(e.item.type.charAt(0).toUpperCase()+e.item.type.slice(1)))])]:[s("span",[e._v("Select a Type")])]],2),e._l(["weapon","armor","item"],(function(t){return s("b-dropdown-item",{key:t,attrs:{value:t,"aria-role":"listitem"}},[s("div",{staticClass:"media"},[s("div",{staticClass:"media-left"},[s("span",{class:e.iconTranslation[t]})]),s("div",{staticClass:"media-content"},[e._v(" "+e._s(t.charAt(0).toUpperCase()+t.slice(1))+" ")])])])}))],2)],1),"item"===e.item.type?s("b-field",[s("b-switch",{attrs:{size:"is-small"},model:{value:e.item.grants.attack,callback:function(t){e.$set(e.item.grants,"attack",t)},expression:"item.grants.attack"}},[e._v("Attack")]),s("b-switch",{attrs:{size:"is-small"},model:{value:e.item.grants.armor,callback:function(t){e.$set(e.item.grants,"armor",t)},expression:"item.grants.armor"}},[e._v("Armor")])],1):e._e()],1),s("b-field",{attrs:{label:"Total Qty","label-position":"on-border",message:"Includes all copies in Storage and Gear Grids"}},[s("b-input",{attrs:{size:"is-small",placeholder:"Qty",type:"number",min:"0"},model:{value:e.item.qty,callback:function(t){e.$set(e.item,"qty",t)},expression:"item.qty"}})],1)],1),s("div",{staticClass:"column is-4 side-conn"},[s("b-field",[s("b-select",{attrs:{placeholder:"Connection (Left)",size:"is-small"},model:{value:e.item.connections.left,callback:function(t){e.$set(e.item.connections,"left",t)},expression:"item.connections.left"}},[s("option",{domProps:{value:null}},[e._v("None")]),s("option",{attrs:{value:"red"}},[e._v("Red")]),s("option",{attrs:{value:"blue"}},[e._v("Blue")]),s("option",{attrs:{value:"green"}},[e._v("Green")])])],1),s("b-field",{staticStyle:{"margin-top":".5em"},attrs:{label:"Keywords","label-position":"on-border"}},[s("b-taginput",{attrs:{icon:"tag",placeholder:"Add Classification","aria-close-label":"Remove",size:"is-small"},model:{value:e.item.keywords,callback:function(t){e.$set(e.item,"keywords",t)},expression:"item.keywords"}})],1),s("b-field",{staticStyle:{"margin-top":".5em"},attrs:{label:"Add Whole Affinities","label-position":"on-border"}},[s("b-taginput",{attrs:{icon:"square",placeholder:"Add Affinity","aria-close-label":"Remove",size:"is-small","before-adding":function(e){return["red","green","blue"].includes(e.toLowerCase())},"allow-duplicates":!0},model:{value:e.item.affinities,callback:function(t){e.$set(e.item,"affinities",t)},expression:"item.affinities"}})],1)],1),s("div",{staticClass:"column is-4"},[s("GearCard",{attrs:{item:e.item}})],1),s("div",{staticClass:"column is-4 side-conn"},[s("b-field",[s("b-select",{attrs:{placeholder:"Connection (Right)",size:"is-small"},model:{value:e.item.connections.right,callback:function(t){e.$set(e.item.connections,"right",t)},expression:"item.connections.right"}},[s("option",{domProps:{value:null}},[e._v("None")]),s("option",{attrs:{value:"red"}},[e._v("Red")]),s("option",{attrs:{value:"blue"}},[e._v("Blue")]),s("option",{attrs:{value:"green"}},[e._v("Green")])])],1),s("b-field",{attrs:{label:"Description","label-position":"on-border"}},[s("b-input",{attrs:{type:"textarea",size:"is-small"},model:{value:e.item.description,callback:function(t){e.$set(e.item,"description",t)},expression:"item.description"}})],1)],1),s("div",{staticClass:"column is-4"},[s("b-field",{attrs:{label:"Unlock Description","label-position":"on-border"}},[s("b-input",{attrs:{type:"textarea",size:"is-small"},model:{value:e.item.unlock.description,callback:function(t){e.$set(e.item.unlock,"description",t)},expression:"item.unlock.description"}})],1),s("b-field",{attrs:{label:"Requirements","label-position":"on-border"}},[s("b-taginput",{attrs:{icon:"puzzle-piece",placeholder:"Add Requirement","aria-close-label":"Remove",size:"is-small","allow-duplicates":!0,"open-on-focus":!0,data:e.filteredRequirements,autocomplete:""},on:{typing:e.getRequirements},model:{value:e.item.unlock.requires,callback:function(t){e.$set(e.item.unlock,"requires",t)},expression:"item.unlock.requires"}})],1),s("b-field",{attrs:{label:"Sizing","label-position":"on-border"}},[s("b-slider",{attrs:{type:"is-info","aria-label":"Sizing",min:0,max:2,tooltip:!1,size:"is-small"},model:{value:e.item.unlock.sizing,callback:function(t){e.$set(e.item.unlock,"sizing",t)},expression:"item.unlock.sizing"}},[s("b-slider-tick",{attrs:{value:0}},[e._v("Small Req")]),s("b-slider-tick",{attrs:{value:1}},[e._v("Large Req")]),s("b-slider-tick",{attrs:{value:2}},[e._v("Separate Lines")])],1)],1)],1),s("div",{staticClass:"column is-4"},[s("b-select",{attrs:{placeholder:"Connection (Bottom)",size:"is-small"},model:{value:e.item.connections.bottom,callback:function(t){e.$set(e.item.connections,"bottom",t)},expression:"item.connections.bottom"}},[s("option",{domProps:{value:null}},[e._v("None")]),s("option",{attrs:{value:"red"}},[e._v("Red")]),s("option",{attrs:{value:"blue"}},[e._v("Blue")]),s("option",{attrs:{value:"green"}},[e._v("Green")])]),s("p",{staticClass:"content is-size-7 key"},[e._v(" Description box replacement key: "),s("b-field",{attrs:{grouped:""}},[s("div",{staticClass:"control"},[s("b-taglist",{attrs:{attached:""}},[s("b-tag",{attrs:{type:"is-light"}},[e._v("[A]")]),s("b-tag",{attrs:{type:"is-dark"}},[s("span",{staticClass:"bl-action"})])],1)],1),s("div",{staticClass:"control"},[s("b-taglist",{attrs:{attached:""}},[s("b-tag",{attrs:{type:"is-light"}},[e._v("[M]")]),s("b-tag",{attrs:{type:"is-dark"}},[s("span",{staticClass:"bl-movement"})])],1)],1),s("div",{staticClass:"control"},[s("b-taglist",{attrs:{attached:""}},[s("b-tag",{attrs:{type:"is-light"}},[e._v("[E]")]),s("b-tag",{attrs:{type:"is-dark"}},[s("span",{staticClass:"bl-endeavor"})])],1)],1),s("div",{staticClass:"control"},[s("b-taglist",{attrs:{attached:""}},[s("b-tag",{attrs:{type:"is-light"}},[e._v("[S]")]),s("b-tag",{attrs:{type:"is-dark"}},[s("span",{staticClass:"bl-story-event"})])],1)],1),s("div",{staticClass:"control"},[s("b-taglist",{attrs:{attached:""}},[s("b-tag",{attrs:{type:"is-light"}},[e._v("{0}")]),s("b-tag",{attrs:{type:"is-white"}},[s("span",{staticClass:"armor-block"},[s("span",{staticClass:"bl-armor"}),s("span",{staticClass:"amount"},[e._v("0")])])])],1)],1)])],1)],1),s("div",{staticClass:"column is-4"},[s("b-field",{attrs:{label:"Action Description","label-position":"on-border"}},[s("b-input",{attrs:{type:"textarea",size:"is-small"},model:{value:e.item.action,callback:function(t){e.$set(e.item,"action",t)},expression:"item.action"}})],1)],1)])]),s("footer",{staticClass:"modal-card-foot"},[s("div",{staticClass:"buttons"},[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:e.close}},[e._v("Cancel")]),e.newItem&&e.valid?s("button",{staticClass:"button is-success",on:{click:e.add}},[e._v("Add Item")]):!e.newItem&&e.valid?s("button",{staticClass:"button is-info",on:{click:e.save}},[e._v("Save Edited Item")]):s("b-button",{attrs:{type:"is-danger",disabled:""}},[e._v("Item Has Errors")]),s("button",{staticClass:"button is-warning is-pulled-right",attrs:{icon:"exclamation-triangle"},on:{click:e.resetItem}},[e._v("Reset Item")])],1)])])},x=[],R=s("0bd4"),A=s("e0eb"),z=s("3c4e"),G=s.n(z),O={name:"GearAdd",components:{GearCard:R["a"]},props:{mode:{type:String,default:"Add New"},newItem:{type:Boolean,default:!1},item:{type:Object,default:function(){return G()({},A["a"])}}},data:function(){return{filteredRequirements:["Red Affinity","Red Connection","Blue Affinity","Blue Connection","Green Affinity","Green Connection"]}},created:function(){this.newItem&&this.performItemReset()},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["gear"])),{},{nameInUse:function(){var e=this;return!this.item.name||""===this.item.name||this.gear.map((function(t){return e.normalize(t.name).includes(e.normalize(e.item.name))}))},valid:function(){return(!this.newItem||this.newItem&&!this.nameInUse)&&null!==this.item.type&&""!==this.item.type&&null!==this.item.category&&""!==this.item.category.trim()},iconTranslation:function(){return{weapon:"bl-nemesis-event",armor:"bl-armor",item:"bl-lantern",all:"bl-armor",head:"bl-head",body:"bl-body",arms:"bl-arms",legs:"bl-legs",waist:"bl-waist"}}}),methods:{_successClose:function(e){if(this.item&&this.valid){var t=this.item;this.$emit(e,t),this.$emit("close")}},add:function(){this._successClose("add")},save:function(){this._successClose("save")},close:function(){this.$emit("close")},checkName:function(){var e=this,t=this.normalize(this.item.name);this.gear.map((function(s){return e.normalize(s.name).includes(t)}))?this.nameInUse=!0:this.nameInUse=!1},getRequirements:function(e){var t=this;this.filteredRequirements=["Red Affinity","Red Connection","Blue Affinity","Blue Connection","Green Affinity","Green Connection"].filter((function(s){return t.normalize(s).includes(t.normalize(e))}))},resetItem:function(){this.$buefy.dialog.confirm({message:"Reset all item fields on this item?",onConfirm:this.performItemReset})},performItemReset:function(){this.item=G()({},A["a"])}}},$=O,q=(s("1eb3"),Object(f["a"])($,w,x,!1,null,"d83a4608",null)),S=q.exports,j={name:"Gear",data:function(){return{hideOos:!1,showAddGear:!1,showEditGear:!1,editGear:{item:null,newItem:!1,mode:"Edit"}}},components:{GearAdd:S,GearCard:R["a"]},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["gear"])),{},{gridQty:function(){return{}},categoryNames:function(){var e=this;return this.gear.map((function(t){return e.normalize(t.category)})).filter((function(e,t,s){return s.indexOf(e)===t&&null!==e})).map((function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")})).sort()},categories:function(){var e=this,t=[],s=this.categoryNames;return s.forEach((function(s){return t.push({name:s,gear:e.gear.filter((function(t){return e.normalize(t.category)===e.normalize(s)&&(!e.hideOos||t.qty>0)}))})})),t.filter((function(e){return e.gear.length>0}))},categoriesLeft:function(){return this.categories.filter((function(e,t){return!(t%2)}))},categoriesRight:function(){return this.categories.filter((function(e,t){return t%2}))}}),methods:{openGearEdit:function(e){this.editGear={newItem:!1,mode:"Edit",item:G()({id:e.id},e)},this.showEditGear=!0},addGear:function(e){e.qty||(e.qty=0),l["a"].collection("campaigns/".concat(this.campaign.id,"/gear")).doc().set(e)},saveGearEdit:function(e){var t=e.id;delete e.id,e.qty||(e.qty=0),l["a"].collection("campaigns/".concat(this.campaign.id,"/gear")).doc(t).update(e)}}},I=j,T=(s("d435"),Object(f["a"])(I,C,_,!1,null,"3785f5e1",null)),E=T.exports,N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tile is-ancestor grid-sheet"},[s("div",{staticClass:"tile is-parent is-flex-wrap-wrap"},e._l(e.grids,(function(t){return s("router-link",{key:t.id,staticClass:"tile is-child is-3 is-clickable",attrs:{to:"/grids/edit/"+t.id,tag:"div"}},[s("div",{staticClass:"content"},[s("div",{staticClass:"tile is-parent is-flex-wrap-wrap is-justify-content-center"},e._l(t.previews,(function(t,a){return s("div",{key:a,staticClass:"tile is-4 is-justify-content-center"},[s("div",{staticClass:"box preview-card"},[s("span",{class:"bl-"+e.translate[t]})])])})),0),s("p",[e._v(e._s(t.name))])])])})),1),s("b-button",{staticClass:"corner-button",attrs:{type:"is-info","icon-left":"plus-square",rounded:""},on:{click:function(t){return t.preventDefault(),e.createGridPrompt(t)}}},[e._v("Create Grid")])],1)},U=[],L={name:"GearGrids",computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["gear","grids"])),{},{translate:function(){return{weapon:"nemesis-event",shield:"armor",body:"body",waist:"waist",head:"head",arms:"arms",legs:"legs",item:"lantern"}}}),methods:{createGridPrompt:function(){var e=this;this.$buefy.dialog.prompt({message:"Name Gear Grid: ",inputAttrs:{placeholder:"Your name of choice",required:!0},required:!0,trapFocus:!0,confirmText:"Name and Edit",onConfirm:function(t){var s=G()(A["b"],{name:t});l["a"].collection("campaigns/".concat(e.campaign.id,"/grids")).add(s).then((function(t){e.$router.push({path:"/grids/edit"+t.id})}))}})}}},M=L,B=(s("ff1d"),Object(f["a"])(M,N,U,!1,null,"71f29aa3",null)),D=B.exports,P={name:"Storage",data:function(){return{activeTab:0,tabs:[{name:"Resources",route:"tab-resources",path:"/storage/resources",icon:"drumstick-bite",component:k},{name:"Gear",route:"tab-gear",path:"/storage/gear",icon:"khanda",component:E},{name:"Grids",route:"tab-grids",path:"/storage/grids",icon:"th",component:D}]}},components:{Resources:k,Gear:E,GearGrids:D},created:function(){this.setRouterTab()},methods:{setRouterTab:function(){var e=this.$route.name;for(var t in this.tabs)this.tabs[t].route===e&&(this.activeTab=parseInt(t))},silentUpdateRoute:function(){history.pushState({},null,this.tabs[this.activeTab].path)}}},F=P,Q=Object(f["a"])(F,a,i,!1,null,null,null);t["default"]=Q.exports},1602:function(e,t,s){},"1eb3":function(e,t,s){"use strict";s("2d37")},"2d37":function(e,t,s){},"3c4e":function(e,t,s){"use strict";var a=function(e){return i(e)&&!r(e)};function i(e){return!!e&&"object"===typeof e}function r(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||c(e)}var n="function"===typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103;function c(e){return e.$$typeof===o}function l(e){return Array.isArray(e)?[]:{}}function u(e,t){return!1!==t.clone&&t.isMergeableObject(e)?v(l(e),e,t):e}function d(e,t,s){return e.concat(t).map((function(e){return u(e,s)}))}function m(e,t){if(!t.customMerge)return v;var s=t.customMerge(e);return"function"===typeof s?s:v}function p(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}function f(e){return Object.keys(e).concat(p(e))}function b(e,t){try{return t in e}catch(s){return!1}}function h(e,t){return b(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function g(e,t,s){var a={};return s.isMergeableObject(e)&&f(e).forEach((function(t){a[t]=u(e[t],s)})),f(t).forEach((function(i){h(e,i)||(b(e,i)&&s.isMergeableObject(t[i])?a[i]=m(i,s)(e[i],t[i],s):a[i]=u(t[i],s))})),a}function v(e,t,s){s=s||{},s.arrayMerge=s.arrayMerge||d,s.isMergeableObject=s.isMergeableObject||a,s.cloneUnlessOtherwiseSpecified=u;var i=Array.isArray(t),r=Array.isArray(e),n=i===r;return n?i?s.arrayMerge(e,t,s):g(e,t,s):u(t,s)}v.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,s){return v(e,s,t)}),{})};var y=v;e.exports=y},a108:function(e,t,s){},a83e:function(e,t,s){"use strict";s("a108")},d435:function(e,t,s){"use strict";s("ffb0")},ff1d:function(e,t,s){"use strict";s("1602")},ffb0:function(e,t,s){}}]);
//# sourceMappingURL=chunk-6d52b1d0.f58e036a.js.map