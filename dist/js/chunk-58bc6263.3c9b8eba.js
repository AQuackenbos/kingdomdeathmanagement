(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58bc6263"],{1276:function(t,e,n){"use strict";var i=n("d784"),a=n("44e7"),s=n("825a"),r=n("1d80"),c=n("4840"),o=n("8aa5"),l=n("50c4"),u=n("14c3"),d=n("9263"),p=n("d039"),v=[].push,f=Math.min,h=4294967295,m=!p((function(){return!RegExp(h,"y")}));i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(r(this)),s=void 0===n?h:n>>>0;if(0===s)return[];if(void 0===t)return[i];if(!a(t))return e.call(i,t,s);var c,o,l,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,m=new RegExp(t.source,p+"g");while(c=d.call(m,i)){if(o=m.lastIndex,o>f&&(u.push(i.slice(f,c.index)),c.length>1&&c.index<i.length&&v.apply(u,c.slice(1)),l=c[0].length,f=o,u.length>=s))break;m.lastIndex===c.index&&m.lastIndex++}return f===i.length?!l&&m.test("")||u.push(""):u.push(i.slice(f)),u.length>s?u.slice(0,s):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var a=r(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,a,n):i.call(String(a),e,n)},function(t,a){var r=n(i,t,this,a,i!==e);if(r.done)return r.value;var d=s(t),p=String(this),v=c(d,RegExp),g=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),C=new v(m?d:"^(?:"+d.source+")",b),_=void 0===a?h:a>>>0;if(0===_)return[];if(0===p.length)return null===u(C,p)?[p]:[];var y=0,x=0,E=[];while(x<p.length){C.lastIndex=m?x:0;var A,k=u(C,m?p:p.slice(x));if(null===k||(A=f(l(C.lastIndex+(m?0:x)),p.length))===y)x=o(p,x,g);else{if(E.push(p.slice(y,x)),E.length===_)return E;for(var w=1;w<=k.length-1;w++)if(E.push(k[w]),E.length===_)return E;x=y=A}}return E.push(p.slice(y)),E}]}),!m)},"13d5":function(t,e,n){"use strict";var i=n("23e7"),a=n("d58f").left,s=n("a640"),r=n("ae40"),c=n("2d00"),o=n("605d"),l=s("reduce"),u=r("reduce",{1:0}),d=!o&&c>79&&c<83;i({target:"Array",proto:!0,forced:!l||!u||d},{reduce:function(t){return a(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(t,e,n){var i=n("c6b6"),a=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var s=n.call(t,e);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"22a8":function(t,e,n){"use strict";n("505d")},2532:function(t,e,n){"use strict";var i=n("23e7"),a=n("5a34"),s=n("1d80"),r=n("ab13");i({target:"String",proto:!0,forced:!r("includes")},{includes:function(t){return!!~String(s(this)).indexOf(a(t),arguments.length>1?arguments[1]:void 0)}})},"44d2":function(t,e,n){var i=n("b622"),a=n("7c73"),s=n("9bf2"),r=i("unscopables"),c=Array.prototype;void 0==c[r]&&s.f(c,r,{configurable:!0,value:a(null)}),t.exports=function(t){c[r][t]=!0}},"44e7":function(t,e,n){var i=n("861d"),a=n("c6b6"),s=n("b622"),r=s("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==a(t))}},4840:function(t,e,n){var i=n("825a"),a=n("1c0b"),s=n("b622"),r=s("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||void 0==(n=i(s)[r])?e:a(n)}},"505d":function(t,e,n){},"5a34":function(t,e,n){var i=n("44e7");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},"605d":function(t,e,n){var i=n("c6b6"),a=n("da84");t.exports="process"==i(a.process)},6547:function(t,e,n){var i=n("a691"),a=n("1d80"),s=function(t){return function(e,n){var s,r,c=String(a(e)),o=i(n),l=c.length;return o<0||o>=l?t?"":void 0:(s=c.charCodeAt(o),s<55296||s>56319||o+1===l||(r=c.charCodeAt(o+1))<56320||r>57343?t?c.charAt(o):s:t?c.slice(o,o+2):r-56320+(s-55296<<10)+65536)}};t.exports={codeAt:s(!1),charAt:s(!0)}},"7db0":function(t,e,n){"use strict";var i=n("23e7"),a=n("b727").find,s=n("44d2"),r=n("ae40"),c="find",o=!0,l=r(c);c in[]&&Array(1)[c]((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!l},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),s(c)},"8aa5":function(t,e,n){"use strict";var i=n("6547").charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},9263:function(t,e,n){"use strict";var i=n("ad6d"),a=n("9f7f"),s=RegExp.prototype.exec,r=String.prototype.replace,c=s,o=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=o||u||l;d&&(c=function(t){var e,n,a,c,d=this,p=l&&d.sticky,v=i.call(d),f=d.source,h=0,m=t;return p&&(v=v.replace("y",""),-1===v.indexOf("g")&&(v+="g"),m=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(f="(?: "+f+")",m=" "+m,h++),n=new RegExp("^(?:"+f+")",v)),u&&(n=new RegExp("^"+f+"$(?!\\s)",v)),o&&(e=d.lastIndex),a=s.call(p?n:d,m),p?a?(a.input=a.input.slice(h),a[0]=a[0].slice(h),a.index=d.lastIndex,d.lastIndex+=a[0].length):d.lastIndex=0:o&&a&&(d.lastIndex=d.global?a.index+a[0].length:e),u&&a&&a.length>1&&r.call(a[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a}),t.exports=c},"99af":function(t,e,n){"use strict";var i=n("23e7"),a=n("d039"),s=n("e8b5"),r=n("861d"),c=n("7b0b"),o=n("50c4"),l=n("8418"),u=n("65f0"),d=n("1dde"),p=n("b622"),v=n("2d00"),f=p("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",g=v>=51||!a((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),b=d("concat"),C=function(t){if(!r(t))return!1;var e=t[f];return void 0!==e?!!e:s(t)},_=!g||!b;i({target:"Array",proto:!0,forced:_},{concat:function(t){var e,n,i,a,s,r=c(this),d=u(r,0),p=0;for(e=-1,i=arguments.length;e<i;e++)if(s=-1===e?r:arguments[e],C(s)){if(a=o(s.length),p+a>h)throw TypeError(m);for(n=0;n<a;n++,p++)n in s&&l(d,p,s[n])}else{if(p>=h)throw TypeError(m);l(d,p++,s)}return d.length=p,d}})},"9f7f":function(t,e,n){"use strict";var i=n("d039");function a(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=i((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ab13:function(t,e,n){var i=n("b622"),a=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[a]=!1,"/./"[t](e)}catch(i){}}return!1}},ac1f:function(t,e,n){"use strict";var i=n("23e7"),a=n("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(t,e,n){"use strict";var i=n("825a");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,n){var i=n("83ab"),a=n("9bf2").f,s=Function.prototype,r=s.toString,c=/^\s*function ([^ (]*)/,o="name";i&&!(o in s)&&a(s,o,{configurable:!0,get:function(){try{return r.call(this).match(c)[1]}catch(t){return""}}})},caad6:function(t,e,n){"use strict";var i=n("23e7"),a=n("4d64").includes,s=n("44d2"),r=n("ae40"),c=r("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!c},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")},d58f:function(t,e,n){var i=n("1c0b"),a=n("7b0b"),s=n("44ad"),r=n("50c4"),c=function(t){return function(e,n,c,o){i(n);var l=a(e),u=s(l),d=r(l.length),p=t?d-1:0,v=t?-1:1;if(c<2)while(1){if(p in u){o=u[p],p+=v;break}if(p+=v,t?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:d>p;p+=v)p in u&&(o=n(o,u[p],p,l));return o}};t.exports={left:c(!1),right:c(!0)}},d784:function(t,e,n){"use strict";n("ac1f");var i=n("6eeb"),a=n("d039"),s=n("b622"),r=n("9263"),c=n("9112"),o=s("species"),l=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=s("replace"),p=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),v=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var f=s(t),h=!a((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),m=h&&!a((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[o]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!h||!m||"replace"===t&&(!l||!u||p)||"split"===t&&!v){var g=/./[f],b=n(f,""[t],(function(t,e,n,i,a){return e.exec===r?h&&!a?{done:!0,value:g.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),C=b[0],_=b[1];i(String.prototype,t,C),i(RegExp.prototype,f,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}d&&c(RegExp.prototype[f],"sham",!0)}},e8ea:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return!t.loading&&t.user&&t.campaign?n("div",{staticClass:"column"},[n("h1",{staticClass:"title can-update",on:{click:t.updateTitle}},[t._v(t._s(t.campaign.name))]),n("h2",{staticClass:"subtitle"},[t._v("Lantern Year "+t._s(t.campaign.year))]),n("div",{staticClass:"columns is-multiline"},[n("div",{staticClass:"column is-3"},[n("div",{staticClass:"card"},[t._m(0),n("div",{staticClass:"card-content"},[n("div",{staticClass:"block"},[n("ul",[t._l(t.members,(function(e){return n("li",{key:e.uid},[t._v(t._s(e.displayName))])})),n("li",[n("b-button",{attrs:{type:"is-info",size:"is-small","icon-left":"user-plus"},on:{click:t.invitePlayer}},[t._v("Invite Player")])],1)],2)])])])]),n("div",{staticClass:"column is-3"},[n("div",{staticClass:"card"},[t._m(1),n("div",{staticClass:"card-content"},[n("div",{staticClass:"block"},[n("h1",{staticClass:"subtitle"},[t._v("Limit")]),n("h2",{staticClass:"title can-update max-survival",on:{click:t.updateSurvival}},[t._v(t._s(t.campaign.survival.max))]),n("p",{staticClass:"has-text-size-7 is-size-7",staticStyle:{color:"#aaa","margin-bottom":".25em"}},[t._v("(+"+t._s(t.maxSurvivalBonus)+" from Innovations)")]),n("h1",{staticClass:"subtitle"},[t._v("Departing")]),n("h2",{staticClass:"title"},[t._v(t._s(t.departingSurvival))])])])])]),n("div",{staticClass:"column is-3"},[n("div",{staticClass:"card"},[t._m(2),n("div",{staticClass:"card-content"},[n("div",{staticClass:"block"},[n("ul",[t._l(t.campaignQuarries,(function(e){return n("li",{key:e.id},[t._v(t._s(e.name))])})),n("li",[n("b-button",{attrs:{type:"is-info",size:"is-small","icon-left":"folder-plus"},on:{click:function(e){t.showAddQuarry=!0}}},[t._v("Add Quarry")])],1)],2),n("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-modal":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("QuarryAdd",{attrs:{quarries:t.quarries,campaign:t.campaign},on:{close:e.close,add:t.addQuarry}})]}}],null,!1,471097991),model:{value:t.showAddQuarry,callback:function(e){t.showAddQuarry=e},expression:"showAddQuarry"}})],1)])])]),n("div",{staticClass:"column is-3"},[n("div",{staticClass:"card"},[t._m(3),n("div",{staticClass:"card-content"},[n("div",{staticClass:"block"},[n("ul",[t._l(t.campaignLocations,(function(e){return n("li",{key:e.id},[t._v(t._s(e.name))])})),n("li",[n("b-button",{attrs:{type:"is-info",size:"is-small","icon-left":"map-marker-alt"},on:{click:function(e){t.showAddLocation=!0}}},[t._v("Add Location")])],1)],2),n("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-modal":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("LocationAdd",{attrs:{locations:t.locations,campaign:t.campaign},on:{close:e.close,add:t.addLocation}})]}}],null,!1,2860442407),model:{value:t.showAddLocation,callback:function(e){t.showAddLocation=e},expression:"showAddLocation"}})],1)])])]),n("div",{staticClass:"column is-6"},[n("div",{staticClass:"card"},[t._m(4),n("div",{staticClass:"columns card-content"},[n("div",{staticClass:"column is-4"},[n("h2",{staticClass:"subtitle"},[t._v("Upon Arrival")]),t.campaign.bonuses.arriving?n("p",{staticClass:"content can-update",on:{click:function(e){return t.updateBonuses("arriving")}}},[t._v(t._s(t.campaign.bonuses.arriving))]):n("p",{staticClass:"can-update",on:{click:function(e){return t.updateBonuses("arriving")}}},[t._v("None")])]),n("div",{staticClass:"column is-4"},[n("h2",{staticClass:"subtitle"},[t._v("When Departing")]),t.campaign.bonuses.departing?n("p",{staticClass:"content can-update",on:{click:function(e){return t.updateBonuses("departing")}}},[t._v(t._s(t.campaign.bonuses.departing))]):n("p",{staticClass:"can-update",on:{click:function(e){return t.updateBonuses("departing")}}},[t._v("None")])]),n("div",{staticClass:"column is-4"},[n("h2",{staticClass:"subtitle"},[t._v("Other")]),t.campaign.bonuses.other?n("p",{staticClass:"content can-update",on:{click:function(e){return t.updateBonuses("other")}}},[t._v(t._s(t.campaign.bonuses.other))]):n("p",{staticClass:"can-update",on:{click:function(e){return t.updateBonuses("other")}}},[t._v("None")])])])])]),n("div",{staticClass:"column is-6"},[n("div",{staticClass:"card"},[t._m(5),n("div",{staticClass:"columns card-content"},t._l(["new_life","death","society","conviction"],(function(e){return n("div",{key:e,staticClass:"column is-3"},[n("h2",{staticClass:"title is-size-5"},[t._v(t._s(t.campaign.principles[e].name))]),n("hr"),t.campaign.principles[e].selected?n("h1",{staticClass:"is-size-5"},[t._v(" "+t._s(t.campaign.principles[e].selected)+" ")]):n("h1",{staticClass:"is-size-7"},[n("span",{staticClass:"can-update",on:{click:function(n){return t.selectPrinciple(e,t.campaign.principles[e].choices[0])}}},[t._v(t._s(t.campaign.principles[e].choices[0]))]),n("div",{staticClass:"divider"},[t._v("OR")]),n("span",{staticClass:"can-update",on:{click:function(n){return t.selectPrinciple(e,t.campaign.principles[e].choices[1])}}},[t._v(t._s(t.campaign.principles[e].choices[1]))])])])})),0)])]),n("div",{staticClass:"column is-12"},[n("div",{staticClass:"card"},[t._m(6),n("div",{staticClass:"columns card-content"},[n("div",{staticClass:"column is-5"},t._l(t.leftMilestones,(function(e,i){return n("div",{key:i,staticClass:"level"},[n("div",{staticClass:"level-left"},[n("div",{staticClass:"level-item"},[t._v(" "+t._s(e.trigger)+" ")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"level-item"},[n("img",{staticClass:"special-icon small icon-story",attrs:{src:"images/story.png"}}),n("span",{staticClass:"has-text-weight-bold"},[t._v(t._s(e.consequence))])])])])})),0),t._m(7),n("div",{staticClass:"column is-5"},t._l(t.rightMilestones,(function(e,i){return n("div",{key:i,staticClass:"level"},[n("div",{staticClass:"level-left"},[n("div",{staticClass:"level-item"},[t._v(" "+t._s(e.trigger)+" ")])]),n("div",{staticClass:"level-right"},[n("div",{staticClass:"level-item"},[n("img",{staticClass:"special-icon small icon-story",attrs:{src:"images/story.png"}}),n("span",{staticClass:"has-text-weight-bold"},[t._v(t._s(e.consequence))])])])])})),0)])])])])]):t._e()},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"card-header"},[n("p",{staticClass:"card-header-title is-centered"},[t._v("Members")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"card-header"},[n("p",{staticClass:"card-header-title is-centered"},[t._v("Survival")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"card-header"},[n("p",{staticClass:"card-header-title is-centered"},[t._v("Quarries")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"card-header"},[n("p",{staticClass:"card-header-title is-centered"},[t._v("Locations")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"card-header"},[n("p",{staticClass:"card-header-title is-centered"},[t._v("Special Bonuses")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"card-header"},[n("p",{staticClass:"card-header-title is-centered"},[t._v("Principles")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"card-header"},[n("p",{staticClass:"card-header-title is-centered"},[t._v("Milestones")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column is-2"},[n("div",{staticClass:"divider is-vertical content",staticStyle:{height:"100%"}})])}],s=(n("99af"),n("4de4"),n("7db0"),n("caad6"),n("13d5"),n("b0c0"),n("ac1f"),n("2532"),n("1276"),n("5530")),r=n("2f62"),c=n("dc59"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v("Add Quarry")]),n("button",{staticClass:"delete",attrs:{type:"button"},on:{click:t.close}})]),n("section",{staticClass:"modal-card-body"},[n("p",{staticClass:"content"},[t._v(" Select a Quarry to add to your Settlement's hunt list. "),n("b-message",{attrs:{type:"is-warning"}},[t._v("This list contains all valid quarries.")])],1),n("b-field",{attrs:{label:"Quarry","label-position":"on-border"}},[n("b-select",{attrs:{placeholder:"Add Quarry",icon:"paw",required:"",expanded:""},model:{value:t.quarry,callback:function(e){t.quarry=e},expression:"quarry"}},t._l(t.validQuarries,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)],1)],1),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.close}},[t._v("Cancel")]),n("button",{staticClass:"button is-success",on:{click:t.select}},[t._v("Add Quarry")])])])},l=[],u={name:"AddQuarry",props:["quarries","campaign"],data:function(){return{quarry:null}},computed:{validQuarries:function(){var t=this;return this.campaign&&this.quarries?this.quarries.filter((function(e){return!t.campaign.quarries.includes(e.id)})):[]}},methods:{select:function(){var t=this.quarry;this.quarry=null,this.$emit("add",t)},close:function(){this.quarry=null,this.$emit("close")}}},d=u,p=n("0c7c"),v=Object(p["a"])(d,o,l,!1,null,null,null),f=v.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v("Add Location")]),n("button",{staticClass:"delete",attrs:{type:"button"},on:{click:t.close}})]),n("section",{staticClass:"modal-card-body"},[n("p",{staticClass:"content"},[t._v(" Select a Location to add to your Settlement's Locations list. "),n("b-message",{attrs:{type:"is-warning"}},[t._v("This list contains all valid locations available.")])],1),n("b-field",{attrs:{label:"Location","label-position":"on-border"}},[n("b-select",{attrs:{placeholder:"Add Location",icon:"location-arrow",required:"",expanded:""},model:{value:t.location,callback:function(e){t.location=e},expression:"location"}},t._l(t.validLocations,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)],1)],1),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.close}},[t._v("Cancel")]),n("button",{staticClass:"button is-success",on:{click:t.select}},[t._v("Add Location")])])])},m=[],g={name:"AddLocation",props:["locations","campaign"],data:function(){return{location:null}},computed:{validLocations:function(){var t=this;return this.campaign&&this.locations?this.locations.filter((function(e){return!t.campaign.locations.includes(e.id)})):[]}},methods:{select:function(){var t=this.location;this.location=null,this.$emit("add",t)},close:function(){this.location=null,this.$emit("close")}}},b=g,C=Object(p["a"])(b,h,m,!1,null,null,null),_=C.exports,y={name:"Settlement",components:{QuarryAdd:f,LocationAdd:_},data:function(){return{campaign:null,survivors:[],quarries:[],locations:[],users:[],innovations:[],allInnovations:[],showAddQuarry:!1,showAddLocation:!1,quarry:null}},computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])({loading:"loading",user:"user",currentCampaign:"currentCampaign"})),{},{leftMilestones:function(){return this.campaign.milestones.filter((function(t,e){return e%2}))},rightMilestones:function(){return this.campaign.milestones.filter((function(t,e){return!(e%2)}))},campaignQuarries:function(){var t=this;return this.quarries.filter((function(e){return t.campaign.quarries.includes(e.id)}))},campaignLocations:function(){var t=this;return this.locations.filter((function(e){return t.campaign.locations.includes(e.id)}))},members:function(){var t=this;return this.users.filter((function(e){return t.campaign.members.includes(e.id)}))},maxSurvivalBonus:function(){return this.researchedInnovations.filter((function(t){return t.increaseLimit})).length},departingSurvival:function(){return this.researchedInnovations.filter((function(t){return t.departingSurvival})).length},researchedInnovations:function(){var t=this;return this.allInnovations.filter((function(e){return t.innovations.find((function(t){return t.id===e.id&&t.innovated}))}))}}),created:function(){this.$bind("campaign",c["a"].collection("campaigns").doc(this.currentCampaign)),this.$bind("survivors",c["a"].collection("campaigns/".concat(this.currentCampaign,"/survivors"))),this.$bind("quarries",c["a"].collection("quarries")),this.$bind("users",c["a"].collection("users")),this.$bind("locations",c["a"].collection("locations")),this.$bind("innovations",c["a"].collection("campaigns/".concat(this.currentCampaign,"/innovations"))),this.$bind("allInnovations",c["a"].collection("innovations"))},methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["setLoading"])),{},{updateField:function(t,e){var n=this,i=t.split(".").reduce((function(t,e){return t[e]}),this.campaign);if(i!==e){this.setLoading(!0);var a={};a[t]=e,c["a"].collection("campaigns").doc(this.currentCampaign).update(a).then((function(){return n.setLoading(!1)}))}},updateTitle:function(){var t=this;this.$buefy.dialog.prompt({message:"Change Settlement Name",trapFocus:!0,inputAttrs:{value:this.campaign.name},onConfirm:function(e){return t.updateField("name",e)}})},updateSurvival:function(){var t=this;this.$buefy.dialog.prompt({message:"Update Max Survival",trapFocus:!0,inputAttrs:{type:"number",value:this.campaign.survival.max},onConfirm:function(e){return t.updateField("survival.max",parseInt(e))}})},updateBonuses:function(t){var e=this;this.$buefy.dialog.prompt({message:"Update Bonuses (".concat(t,")"),trapFocus:!0,inputAttrs:{value:this.campaign.bonuses[t]},onConfirm:function(n){return e.updateField("bonuses.".concat(t),n)}})},selectPrinciple:function(t,e){var n=this,i=this.campaign.principles[t];this.$buefy.dialog.confirm({title:"Select Principle",message:'Confirm selecting <span class="has-text-weight-bold">'.concat(e,'</span> for the principle <span class="has-text-weight-bold">').concat(i.name,"</span>?"),type:"is-info",onConfirm:function(){return n.updateField("principles.".concat(t,".selected"),e)}})},addQuarry:function(t){var e=this;t&&0!==t.length&&(this.setLoading(!0),c["a"].collection("campaigns").doc(this.currentCampaign).update({quarries:c["b"].firestore.FieldValue.arrayUnion(t)}).then((function(){e.setLoading(!1),e.showAddQuarry=!1})))},addLocation:function(t){var e=this;t&&0!==t.length&&(this.setLoading(!0),c["a"].collection("campaigns").doc(this.currentCampaign).update({locations:c["b"].firestore.FieldValue.arrayUnion(t)}).then((function(){e.setLoading(!1),e.showAddLocation=!1})))},invitePlayer:function(){}})},x=y,E=(n("22a8"),Object(p["a"])(x,i,a,!1,null,"597a9747",null));e["default"]=E.exports}}]);
//# sourceMappingURL=chunk-58bc6263.3c9b8eba.js.map