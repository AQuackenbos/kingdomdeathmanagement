(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["survivors"],{"13d5":function(e,t,i){"use strict";var s=i("23e7"),n=i("d58f").left,a=i("a640"),r=i("ae40"),o=i("2d00"),l=i("605d"),u=a("reduce"),c=r("reduce",{1:0}),v=!l&&o>79&&o<83;s({target:"Array",proto:!0,forced:!u||!c||v},{reduce:function(e){return n(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"24b4":function(e,t,i){"use strict";i("a8f0")},"3dbd":function(e,t,i){"use strict";i("99af"),i("4160"),i("13d5"),i("ac1f"),i("1276"),i("159b");var s=i("dc59"),n=i("460b");t["a"]={data:function(){return{survivor:n["h"],statKeys:["movement","accuracy","strength","evasion","luck","speed"],hitLocations:["head","arms","body","waist","legs"],survivalAbilities:["dodge","encourage","surge","dash","endure"]}},computed:{tooltips:function(){return{xp:{1:'<span class="bl-story-event mr-1"></span><span class="has-text-weight-bold">Age</span>',5:'<span class="bl-story-event mr-1"></span><span class="has-text-weight-bold">Age</span>',9:'<span class="bl-story-event mr-1"></span><span class="has-text-weight-bold">Age</span>',14:'<span class="bl-story-event mr-1"></span><span class="has-text-weight-bold">Age</span>',15:"Retired"},wp:{2:"Specialist",7:"Master"},courage:{2:'<span class="bl-story-event mr-1"></span><span class="has-text-weight-bold">Bold</span>',8:'<span class="bl-story-event mr-1"></span><span class="has-text-weight-bold">See the Truth</span>'},understanding:{2:'<span class="bl-story-event mr-1"></span><span class="has-text-weight-bold">Insight</span>',8:'<span class="bl-story-event mr-1"></span><span class="has-text-weight-bold">White Secret</span>'}}},genderIcon:function(){return"M"===this.survivor.lifetime.gender?"mars":"F"===this.survivor.lifetime.gender?"venus":"transgender"},injuries:function(){if(!this.survivor)return[];var e=this.survivor.defenses,t=[];return this.hitLocations.forEach((function(i){e[i].severe.forEach((function(e){t.push({type:i,description:e})}))})),t},dead:function(){return!!this.survivor&&(null!==this.survivor.lifetime.died&&""!==this.survivor.lifetime.died)}},methods:{_setBoxValue:function(e,t,i,s,n){e[t]===i&&(i-=1),e[t]=i,this.saveField(s,n)},setWeaponProficiency:function(e){this._setBoxValue(this.survivor.weapon,"proficiency",e,"weapon.proficiency","wp")},setUnderstandingLevel:function(e){this._setBoxValue(this.survivor.mentality.understanding,"level",e,"mentality.understanding.level","understanding")},setCourageLevel:function(e){this._setBoxValue(this.survivor.mentality.courage,"level",e,"mentality.courage.level","courage")},setExperience:function(e){this._setBoxValue(this.survivor.lifetime,"experience",e,"lifetime.experience","xp")},toggleAbility:function(e,t){this.survivor.mentality[e].abilities[t].granted=!this.survivor.mentality[e].abilities[t].granted,this.saveField("mentality.".concat(e,".abilities.").concat(t,".granted"),"courage")},saveField:function(e,t){if(this.survivor){var i=e.split(".").reduce((function(e,t){return e[t]}),this.survivor),n={};n[e]=i;var a=this.$buefy.loading.open({container:this.$refs[t].$el});s["a"].collection("campaigns/".concat(this.campaign.id,"/survivors")).doc(this.survivor.id).update(n).then((function(){return a.close()}))}},saveListField:function(e,t){this.saveField(e,t)}}}},"460b":function(e,t,i){"use strict";i.d(t,"f",(function(){return a})),i.d(t,"d",(function(){return r})),i.d(t,"e",(function(){return o})),i.d(t,"b",(function(){return l})),i.d(t,"g",(function(){return u})),i.d(t,"h",(function(){return c})),i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return s}));var s={active:!0,quarry:null,members:[],state:"setup"},n={expansions:[],active:!0,ended:!1,ending:{year:null,details:null},quarries:[],locations:[],year:0,survival:{max:1},bonuses:{departing:"",arriving:"",other:""},milestones:[{trigger:"First child is born",consequence:"Principle: New Life"},{trigger:"First time death count is updated",consequence:"Principle: Death"},{trigger:"Settlement has 5 innovations",consequence:"Hooded Knight"},{trigger:"Population reaches 15",consequence:"Principle: Society"},{trigger:"Population reaches 0",consequence:"Game Over"}],principles:{new_life:{name:"New Life",choices:["Protect the Young","Survival of the Fittest"],selected:null},death:{name:"Death",choices:["Cannibalize","Graves"],selected:null},society:{name:"Society",choices:["Collective Toil","Accept Darkness"],selected:null},conviction:{name:"Conviction",choices:["Barbaric","Romantic"],selected:null}}},a=["white_lion"],r=[{id:"language",deck:!0,innovated:!1,year:null}],o=["lantern_hoard"],l=[{name:"Returning Survivors",year:1},{name:"Endless Screams",year:2},{name:"Hands of Heat",year:5},{name:"Armored Strangers",year:6},{name:"Phoenix Feather",year:7},{name:"Regal Visit",year:11},{name:"Principle: Conviction",year:12},{name:"Watched",year:20}],u=[{name:"Butcher",level:1,year:4},{name:"King's Man",level:1,year:9},{name:"The Hand",level:1,year:13},{name:"Butcher",level:2,year:16},{name:"King's Man",level:2,year:19},{name:"Butcher",level:3,year:23},{name:"Watcher",level:0,year:25},{name:"King's Man",level:3,year:28},{name:"Gold Smoke Knight",level:0,year:30}],c={stats:{movement:{base:5,other:0},accuracy:{base:0,other:0},strength:{base:0,other:0},evasion:{base:0,other:0},luck:{base:0,other:0},speed:{base:0,other:0}},hunt:{special:{bleed:0},tokens:{movement:{plus:0,minus:0},accuracy:{plus:0,minus:0},strength:{plus:0,minus:0},evasion:{plus:0,minus:0},luck:{plus:0,minus:0},speed:{plus:0,minus:0},other:[]},abilities:{dodge:!1,encourage:!1,surge:!1,dash:!1,endure:!1},actions:{action:!1,movement:!1}},survival:{amount:0,abilities:{dodge:!1,encourage:!1,surge:!1,dash:!1,endure:!1},skipHunt:null},lifetime:{name:null,gender:null,experience:0,born:null,father:null,mother:null,died:null,cause:null,retired:!1,cannot:{fightingArts:!1,survival:!1,hunt:!1},reroll:{available:!1,used:!1},notes:null},defenses:{arms:{value:0,max:0,light:!1,heavy:!1,severe:[]},body:{value:0,max:0,light:!1,heavy:!1,severe:[]},brain:{value:0,max:0,light:!1},head:{value:0,max:0,heavy:!1,severe:[]},legs:{value:0,max:0,light:!1,heavy:!1,severe:[]},waist:{value:0,max:0,light:!1,heavy:!1,severe:[]}},abilities:{abilities:[],disorders:[],fightingArts:[],impairments:[]},mentality:{courage:{level:0,abilities:{stalwart:{name:"Stalwart",granted:!1,description:"Can't be knocked down by brain trauma or intimidate."},prepared:{name:"Prepared",granted:!1,description:"Add Hunt XP to your roll when determining a straggler."},matchmaker:{name:"Matchmaker",granted:!1,description:"Spend 1 endeavor to trigger intimacy story event."}}},understanding:{level:0,abilities:{analyze:{name:"Analyze",granted:!1,description:"Look at the top AI card and return it to the top of the deck."},explore:{name:"Explore",granted:!1,description:"Add +2 to your investigate roll results."},tinker:{name:"Tinker",granted:!1,description:"+1 endeavor when you are a returning survivor."}}}},weapon:{selected:null,proficiency:0}}},"5c81":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column survivor-panel"},[e.showBonuses?i("b-message",{attrs:{type:"is-success","has-icon":"",closable:!1}},[i("h1",{staticClass:"subtitle is-size-6"},[e._v("If you have any of the following, all survivors gain the corresponding bonuses:")]),i("ul",[i("li",[i("span",{staticClass:"has-text-weight-bold"},[e._v("Graves")]),e._v(": +1 understanding")]),i("li",[i("span",{staticClass:"has-text-weight-bold"},[e._v("Survival of the Fittest")]),e._v(": +1 Strength, +1 Evasion")]),i("li",[i("span",{staticClass:"has-text-weight-bold"},[e._v("Accept Darkness")]),e._v(": +2 to Brain Trauma rolls")]),i("li",[i("span",{staticClass:"has-text-weight-bold"},[e._v("Barbaric")]),e._v(": +1 Strength")]),i("li",[i("span",{staticClass:"has-text-weight-bold"},[e._v("Romantic")]),e._v(": When born, Draw 3 random Fighting Arts and Choose 1 to learn.")])])]):e._e(),e.survivor?i("div",{staticClass:"columns is-multiline"},[i("div",{staticClass:"column is-6"},[i("b-field",{ref:"name",attrs:{label:"Name","label-position":"on-border"},scopedSlots:e._u([{key:"message",fn:function(){return[e._v("When you name your survivor, gain +1 survival")]},proxy:!0}],null,!1,1304342128)},[i("b-input",{attrs:{expanded:""},nativeOn:{change:function(t){return e.saveField("lifetime.name","name")}},model:{value:e.survivor.lifetime.name,callback:function(t){e.$set(e.survivor.lifetime,"name",t)},expression:"survivor.lifetime.name"}})],1),i("b-field",{ref:"parents",attrs:{grouped:""}},[i("b-field",[i("b-select",{attrs:{placeholder:"Gender",icon:"transgender"},nativeOn:{change:function(t){return e.saveField("lifetime.gender","parents")}},model:{value:e.survivor.lifetime.gender,callback:function(t){e.$set(e.survivor.lifetime,"gender",t)},expression:"survivor.lifetime.gender"}},[i("option",{attrs:{value:"M"}},[e._v("Male")]),i("option",{attrs:{value:"F"}},[e._v("Female")])])],1),i("b-field",{attrs:{label:"Father","label-position":"on-border",expanded:""}},[i("b-input",{nativeOn:{change:function(t){return e.saveField("lifetime.father","parents")}},model:{value:e.survivor.lifetime.father,callback:function(t){e.$set(e.survivor.lifetime,"father",t)},expression:"survivor.lifetime.father"}})],1),i("b-field",{attrs:{label:"Mother","label-position":"on-border",expanded:""}},[i("b-input",{nativeOn:{change:function(t){return e.saveField("lifetime.mother","parents")}},model:{value:e.survivor.lifetime.mother,callback:function(t){e.$set(e.survivor.lifetime,"mother",t)},expression:"survivor.lifetime.mother"}})],1)],1),i("b-field",{ref:"life",attrs:{grouped:""}},[i("b-field",{attrs:{label:"Born","label-position":"on-border"}},[i("b-input",{staticClass:"year-input",staticStyle:{width:"4em"},attrs:{maxlength:"2"},nativeOn:{change:function(t){return e.saveField("lifetime.born","life")}},model:{value:e.survivor.lifetime.born,callback:function(t){e.$set(e.survivor.lifetime,"born",t)},expression:"survivor.lifetime.born"}})],1),i("b-field",{attrs:{label:"Died","label-position":"on-border"}},[i("b-input",{staticClass:"year-input",staticStyle:{width:"4em"},attrs:{maxlength:"2"},nativeOn:{change:function(t){return e.saveField("lifetime.died","life")}},model:{value:e.survivor.lifetime.died,callback:function(t){e.$set(e.survivor.lifetime,"died",t)},expression:"survivor.lifetime.died"}})],1),i("b-field",{attrs:{label:"Cause of Death","label-position":"on-border",expanded:""}},[i("b-input",{attrs:{disabled:e.dead,icon:"skull"},nativeOn:{change:function(t){return e.saveField("lifetime.cause","life")}},model:{value:e.survivor.lifetime.cause,callback:function(t){e.$set(e.survivor.lifetime,"cause",t)},expression:"survivor.lifetime.cause"}})],1)],1),i("b-field",{ref:"cannot"},[i("b-checkbox",{staticStyle:{"margin-right":"3em"},attrs:{type:"is-danger"},on:{input:function(t){return e.saveField("lifetime.cannot.hunt","cannot")}},model:{value:e.survivor.lifetime.cannot.hunt,callback:function(t){e.$set(e.survivor.lifetime.cannot,"hunt",t)},expression:"survivor.lifetime.cannot.hunt"}},[e._v(" Cannot Depart on Hunts ")]),i("b-checkbox",{attrs:{type:"is-danger"},on:{input:function(t){return e.saveField("lifetime.cannot.survival","cannot")}},model:{value:e.survivor.lifetime.cannot.survival,callback:function(t){e.$set(e.survivor.lifetime.cannot,"survival",t)},expression:"survivor.lifetime.cannot.survival"}},[e._v(" Cannot Spend Survival ")])],1)],1),i("div",{staticClass:"column is-6"},[i("b-field",{ref:"survival",attrs:{grouped:""}},[i("b-field",{attrs:{label:"Survival","label-position":"on-border"}},[i("b-input",{staticClass:"year-input",staticStyle:{width:"5em"},nativeOn:{change:function(t){return e.saveField("survival.amount","survival")}},model:{value:e.survivor.survival.amount,callback:function(t){e.$set(e.survivor.survival,"amount",t)},expression:"survivor.survival.amount"}})],1),i("b-field",{attrs:{label:"Max","label-position":"on-border"}},[i("b-input",{staticClass:"year-input",staticStyle:{width:"3.5em"},attrs:{value:e.campaign.survival.max,disabled:""}})],1),i("div",{staticClass:"block"},e._l(["dodge","encourage","surge","dash","endure"],(function(t){return i("b-checkbox",{key:t,staticStyle:{"text-transform":"capitalize"},attrs:{type:"is-light",size:"is-small","false-value":!1},on:{input:function(i){return e.saveField("survival.abilities."+t,"survival")}},model:{value:e.survivor.survival.abilities[t],callback:function(i){e.$set(e.survivor.survival.abilities,t,i)},expression:"survivor.survival.abilities[a]"}},[e._v(" "+e._s(t)+" ")])})),1)],1),i("b-field",{ref:"xp",attrs:{grouped:"",label:"Experience"}},e._l(e.createRange(16),(function(t){return i("p",{key:t,staticClass:"control"},[1===t||5===t||9===t||14===t||15===t?i("b-tooltip",{attrs:{type:"is-light",position:"is-bottom",size:"is-small"},scopedSlots:e._u([{key:"content",fn:function(){return[i("span",{domProps:{innerHTML:e._s(e.tooltips.xp[t])}})]},proxy:!0}],null,!0)},[i("button",{staticClass:"button is-small kdm-box thick-border",class:{"is-dark":e.survivor.lifetime.experience>t,"extra-thick":15===t},on:{click:function(i){return i.preventDefault(),e.setExperience(t+1)}}})]):i("button",{staticClass:"button is-small kdm-box",class:{"is-dark":e.survivor.lifetime.experience>t},on:{click:function(i){return i.preventDefault(),e.setExperience(t+1)}}})],1)})),0),i("b-field",{ref:"wp",staticClass:"wp",attrs:{grouped:"",label:"Weapon Expertise"}},[i("b-input",{attrs:{placeholder:"Weapon Type",icon:"shield-alt",expanded:""},nativeOn:{change:function(t){return e.saveField("weapon.selected","wp")}},model:{value:e.survivor.weapon.selected,callback:function(t){e.$set(e.survivor.weapon,"selected",t)},expression:"survivor.weapon.selected"}}),e._l(e.createRange(8),(function(t){return i("p",{key:t,staticClass:"control"},[2===t||7===t?i("b-tooltip",{attrs:{type:"is-light",position:"is-bottom"},scopedSlots:e._u([{key:"content",fn:function(){return[i("span",{domProps:{innerHTML:e._s(e.tooltips.wp[t])}})]},proxy:!0}],null,!0)},[i("button",{staticClass:"button is-small kdm-box thick-border",class:{"is-dark":e.survivor.weapon.proficiency>t},on:{click:function(i){return i.preventDefault(),e.setWeaponProficiency(t+1)}}})]):i("button",{staticClass:"button is-small kdm-box",class:{"is-dark":e.survivor.weapon.proficiency>t},on:{click:function(i){return i.preventDefault(),e.setWeaponProficiency(t+1)}}})],1)}))],2)],1),e._m(0),i("div",{ref:"stats",staticClass:"column is-12 stats"},[i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-2"},[i("b-field",{attrs:{label:"Movement","label-position":"on-border"}},[i("b-input",{staticClass:"year-input",attrs:{size:"is-large",expanded:""},nativeOn:{change:function(t){return e.saveField("stats.movement.base","stats")}},model:{value:e.survivor.stats.movement.base,callback:function(t){e.$set(e.survivor.stats.movement,"base",t)},expression:"survivor.stats.movement.base"}})],1)],1),i("div",{staticClass:"column is-2"},[i("b-field",{attrs:{label:"Accuracy","label-position":"on-border"}},[i("b-input",{staticClass:"year-input",attrs:{size:"is-large",expanded:""},nativeOn:{change:function(t){return e.saveField("stats.accuracy.base","stats")}},model:{value:e.survivor.stats.accuracy.base,callback:function(t){e.$set(e.survivor.stats.accuracy,"base",t)},expression:"survivor.stats.accuracy.base"}})],1)],1),i("div",{staticClass:"column is-2"},[i("b-field",{attrs:{label:"Strength","label-position":"on-border"}},[i("b-input",{staticClass:"year-input",attrs:{size:"is-large",expanded:""},nativeOn:{change:function(t){return e.saveField("stats.strength.base","stats")}},model:{value:e.survivor.stats.strength.base,callback:function(t){e.$set(e.survivor.stats.strength,"base",t)},expression:"survivor.stats.strength.base"}})],1)],1),i("div",{staticClass:"column is-2"},[i("b-field",{attrs:{label:"Evasion","label-position":"on-border"}},[i("b-input",{staticClass:"year-input",attrs:{size:"is-large",expanded:""},nativeOn:{change:function(t){return e.saveField("stats.evasion.base","stats")}},model:{value:e.survivor.stats.evasion.base,callback:function(t){e.$set(e.survivor.stats.evasion,"base",t)},expression:"survivor.stats.evasion.base"}})],1)],1),i("div",{staticClass:"column is-2"},[i("b-field",{attrs:{label:"Luck","label-position":"on-border"}},[i("b-input",{staticClass:"year-input",attrs:{size:"is-large",expanded:""},nativeOn:{change:function(t){return e.saveField("stats.luck.base","stats")}},model:{value:e.survivor.stats.luck.base,callback:function(t){e.$set(e.survivor.stats.luck,"base",t)},expression:"survivor.stats.luck.base"}})],1)],1),i("div",{staticClass:"column is-2"},[i("b-field",{attrs:{label:"Speed","label-position":"on-border"}},[i("b-input",{staticClass:"year-input",attrs:{size:"is-large",expanded:""},nativeOn:{change:function(t){return e.saveField("stats.speed.base","stats")}},model:{value:e.survivor.stats.speed.base,callback:function(t){e.$set(e.survivor.stats.speed,"base",t)},expression:"survivor.stats.speed.base"}})],1)],1)])]),e._m(1),i("div",{ref:"courage",staticClass:"column is-6 cu"},[i("b-field",{attrs:{grouped:"",label:"Courage"}},e._l(e.createRange(9),(function(t){return i("p",{key:t,staticClass:"control"},[2===t||8===t?i("b-tooltip",{attrs:{type:"is-light",position:"is-bottom",size:"is-small"},scopedSlots:e._u([{key:"content",fn:function(){return[i("span",{domProps:{innerHTML:e._s(e.tooltips.courage[t])}})]},proxy:!0}],null,!0)},[i("button",{staticClass:"button is-large kdm-box thick-border",class:{"is-dark":e.survivor.mentality.courage.level>t},on:{click:function(i){return i.preventDefault(),e.setCourageLevel(t+1)}}})]):i("button",{staticClass:"button is-large kdm-box",class:{"is-dark":e.survivor.mentality.courage.level>t},on:{click:function(i){return i.preventDefault(),e.setCourageLevel(t+1)}}})],1)})),0),i("div",{staticClass:"buttons is-centered"},e._l(["stalwart","prepared","matchmaker"],(function(t){return i("b-tooltip",{key:t,attrs:{position:"is-bottom",type:"is-dark",label:e.survivor.mentality.courage.abilities[t].description}},[i("b-button",{class:{"is-dark":e.survivor.mentality.courage.abilities[t].granted},attrs:{size:"is-medium",rounded:""},on:{click:function(i){return i.preventDefault(),e.toggleAbility("courage",t)}}},[e._v(" "+e._s(e.survivor.mentality.courage.abilities[t].name)+" ")])],1)})),1)],1),i("div",{ref:"understanding",staticClass:"column is-6 cu"},[i("b-field",{attrs:{grouped:"",label:"Understanding"}},e._l(e.createRange(9),(function(t){return i("p",{key:t,staticClass:"control"},[2===t||8===t?i("b-tooltip",{attrs:{type:"is-light",position:"is-bottom",size:"is-small"},scopedSlots:e._u([{key:"content",fn:function(){return[i("span",{domProps:{innerHTML:e._s(e.tooltips.understanding[t])}})]},proxy:!0}],null,!0)},[i("button",{staticClass:"button is-large kdm-box thick-border",class:{"is-dark":e.survivor.mentality.understanding.level>t},on:{click:function(i){return i.preventDefault(),e.setUnderstandingLevel(t+1)}}})]):i("button",{staticClass:"button is-large kdm-box",class:{"is-dark":e.survivor.mentality.understanding.level>t},on:{click:function(i){return i.preventDefault(),e.setUnderstandingLevel(t+1)}}})],1)})),0),i("div",{staticClass:"buttons is-centered"},e._l(["analyze","explore","tinker"],(function(t){return i("b-tooltip",{key:t,attrs:{position:"is-bottom",type:"is-dark",label:e.survivor.mentality.understanding.abilities[t].description}},[i("b-button",{class:{"is-dark":e.survivor.mentality.understanding.abilities[t].granted},attrs:{size:"is-medium",rounded:""},on:{click:function(i){return i.preventDefault(),e.toggleAbility("understanding",t)}}},[e._v(" "+e._s(e.survivor.mentality.understanding.abilities[t].name)+" ")])],1)})),1)],1),e._m(2),i("div",{staticClass:"column is-3"},[i("b-field",{ref:"fa",attrs:{label:"Fighting Arts"},scopedSlots:e._u([{key:"message",fn:function(){return[i("span",[e._v("Maximum of 3")]),i("b-field",[i("b-checkbox",{attrs:{type:"is-danger"},nativeOn:{change:function(t){return e.saveField("lifetime.cannot.fightingArts","fa")}},model:{value:e.survivor.lifetime.cannot.fightingArts,callback:function(t){e.$set(e.survivor.lifetime.cannot,"fightingArts",t)},expression:"survivor.lifetime.cannot.fightingArts"}},[e._v("Cannot Use Fighting Arts")])],1)]},proxy:!0}],null,!1,1250906881)},[i("b-taginput",{attrs:{placeholder:"Add Fighting Art",maxtags:"3",type:"is-info","remove-on-keys":[]},on:{input:function(t){return e.saveListField("abilities.fightingArts","fa")}},model:{value:e.survivor.abilities.fightingArts,callback:function(t){e.$set(e.survivor.abilities,"fightingArts",t)},expression:"survivor.abilities.fightingArts"}})],1)],1),i("div",{staticClass:"column is-3"},[i("b-field",{ref:"do",attrs:{label:"Disorders"},scopedSlots:e._u([{key:"message",fn:function(){return[i("span",[e._v("Maximum of 3")])]},proxy:!0}],null,!1,849755039)},[i("b-taginput",{attrs:{placeholder:"Add Disorder",maxtags:"3",type:"is-dark","remove-on-keys":[]},on:{input:function(t){return e.saveListField("abilities.disorders","do")}},model:{value:e.survivor.abilities.disorders,callback:function(t){e.$set(e.survivor.abilities,"disorders",t)},expression:"survivor.abilities.disorders"}})],1)],1),i("div",{staticClass:"column is-3"},[i("b-field",{ref:"ab",attrs:{label:"Abilities"},scopedSlots:e._u([{key:"message",fn:function(){return[i("b-field",{attrs:{grouped:"",label:"Lifetime Reroll"}},[i("b-checkbox",{attrs:{type:"is-success"},nativeOn:{change:function(t){return e.saveField("lifetime.reroll.available","ab")}},model:{value:e.survivor.lifetime.reroll.available,callback:function(t){e.$set(e.survivor.lifetime.reroll,"available",t)},expression:"survivor.lifetime.reroll.available"}},[e._v("Available")]),i("b-checkbox",{attrs:{type:"is-danger"},nativeOn:{change:function(t){return e.saveField("lifetime.reroll.used","ab")}},model:{value:e.survivor.lifetime.reroll.used,callback:function(t){e.$set(e.survivor.lifetime.reroll,"used",t)},expression:"survivor.lifetime.reroll.used"}},[e._v("Used")])],1)]},proxy:!0}],null,!1,2773084808)},[i("b-taginput",{attrs:{placeholder:"Add Ability",type:"is-success","remove-on-keys":[]},on:{input:function(t){return e.saveListField("abilities.abilities","ab")}},model:{value:e.survivor.abilities.abilities,callback:function(t){e.$set(e.survivor.abilities,"abilities",t)},expression:"survivor.abilities.abilities"}})],1)],1),i("div",{staticClass:"column is-3"},[i("b-field",{ref:"im",attrs:{label:"Impairments"},scopedSlots:e._u([{key:"message",fn:function(){return[i("b-field",{attrs:{type:"is-danger"}},[i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static",staticStyle:{color:"black !important"}},[e._v("Must Skip Hunt LY")])]),i("b-input",{staticClass:"year-input",attrs:{placeholder:"-",expanded:""},nativeOn:{change:function(t){return e.saveField("survival.skipHunt","im")}},model:{value:e.survivor.survival.skipHunt,callback:function(t){e.$set(e.survivor.survival,"skipHunt",t)},expression:"survivor.survival.skipHunt"}})],1)]},proxy:!0}],null,!1,2526084679)},[i("b-taginput",{attrs:{placeholder:"Add Impairment",type:"is-warning","remove-on-keys":[]},on:{input:function(t){return e.saveListField("abilities.impairments","im")}},model:{value:e.survivor.abilities.impairments,callback:function(t){e.$set(e.survivor.abilities,"impairments",t)},expression:"survivor.abilities.impairments"}})],1)],1),i("div",{staticClass:"column is-12"},[i("h1",{staticClass:"title"},[e._v("Severe Injuries")]),0===e.injuries.length?i("div",{staticClass:"content"},[e._v(" None. ")]):i("div",{staticClass:"content"},e._l(e.injuries,(function(t,s){return i("span",{key:s,staticClass:"mr-2"},[i("span",{class:"bl-"+t.type}),e._v(" "+e._s(t.description)+" ")])})),0)])]):e._e(),e.survivor?i("div",{staticClass:"field"},[i("b-message",{attrs:{type:"is-danger","has-icon":""}},[i("span",{},[e._v("Deleting a survivor is PERMANENT and cannot be undone.")]),i("br"),i("b-button",{attrs:{type:"is-danger","icon-left":"times-circle"},on:{click:function(t){return t.preventDefault(),e.deleteSurvivor(t)}}},[e._v("Delete Survivor")])],1)],1):i("div",[e._v(" NO_SURVIVOR ")])],1)},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column is-12"},[i("hr")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column is-12"},[i("hr")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column is-12"},[i("hr")])}],a=(i("7db0"),i("5530")),r=i("2f62"),o=i("dc59"),l=i("3dbd"),u={name:"SurvivorPanel",mixins:[l["a"]],props:{showBonuses:{type:Boolean,default:!1}},data:function(){return{survivor:null}},computed:Object(a["a"])({},Object(r["c"])(["survivors"])),created:function(){this.loadCurrentSurvivor()},watch:{$route:"loadCurrentSurvivor"},methods:{loadCurrentSurvivor:function(){var e,t=null===(e=this.$route.params)||void 0===e?void 0:e.id;if(t)return this.setSurvivor(t)},deleteSurvivor:function(){var e=this;this.$buefy.dialog.confirm({message:"Are you sure you want to delete this survivor?",onConfirm:function(){e.setLoading(!0),o["a"].collection("campaigns/".concat(e.campaign.id,"/survivors")).doc(e.survivor.id).delete().then((function(){e.survivor=null,e.setLoading(!1)}))}})},setSurvivor:function(e){var t;(null===(t=this.survivor)||void 0===t?void 0:t.id)!==e&&(this.survivor=this.survivors.find((function(t){return(null===t||void 0===t?void 0:t.id)===e})),history.pushState({},null,"/survivors/"+e))}}},c=u,v=(i("24b4"),i("0c7c")),d=Object(v["a"])(c,s,n,!1,null,"a68d4860",null);t["default"]=d.exports},"6aa8":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return!e.showLoading&&e.user&&e.campaign?i("div",{staticClass:"column"},[i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-one-quarter survivor-list"},[i("b-field",{attrs:{grouped:""}},[i("b-field",[i("b-switch",{attrs:{type:"is-info"},model:{value:e.hideDead,callback:function(t){e.hideDead=t},expression:"hideDead"}},[e._v("Hide Dead")])],1),i("b-field",[i("b-switch",{attrs:{type:"is-info"},model:{value:e.showBonuses,callback:function(t){e.showBonuses=t},expression:"showBonuses"}},[e._v("Show Bonuses")])],1)],1),i("b-menu",[i("b-menu-list",{attrs:{label:"Survivors"}},e._l(e.shownSurvivors,(function(t){return i("b-menu-item",{key:t.id,class:{"is-primary":!e.dead(t),"is-danger":e.dead(t),"is-warning":!1!==t.lifetime.retired},attrs:{active:null!==e.$route.params&&t.id===e.$route.params.id},on:{click:function(i){return i.preventDefault(),e.gotoSurvivor(t.id)}},scopedSlots:e._u([{key:"label",fn:function(){return["M"===t.lifetime.gender?i("span",[i("b-icon",{attrs:{size:"is-small",icon:"mars"}})],1):"F"===t.lifetime.gender?i("span",[i("b-icon",{attrs:{size:"is-small",icon:"venus"}})],1):i("span",[i("b-icon",{attrs:{size:"is-small",icon:"genderless"}})],1),e._v(" "+e._s(t.lifetime.name)+" ")]},proxy:!0}],null,!0)})})),1),i("b-menu-list",{attrs:{label:""}},[i("b-menu-item",{scopedSlots:e._u([{key:"label",fn:function(){return[i("b-button",{attrs:{type:"is-info is-light","icon-left":"user-plus",expanded:""},on:{click:function(t){return t.preventDefault(),e.addSurvivor(t)}}},[e._v("New Survivor")])]},proxy:!0}],null,!1,1332140898)})],1)],1)],1),i("transition",{attrs:{appear:"",name:"slide",mode:"out-in"}},[i("router-view",{key:e.$route.path,ref:"survivorPanel",attrs:{showBonuses:e.showBonuses}})],1)],1)]):e._e()},n=[],a=(i("4de4"),i("b0c0"),i("5530")),r=i("2f62"),o=i("dc59"),l=i("460b"),u={name:"Survivors",data:function(){return{currentSurvivor:null,hideDead:!1,showBonuses:!1}},computed:Object(a["a"])(Object(a["a"])({},Object(r["c"])(["survivors"])),{},{shownSurvivors:function(){var e=this;return this.survivors.filter((function(t){return!e.hideDead||(null===t.lifetime.died||""===t.lifetime.died)})).sort((function(e,t){var i,s;if((null===e.lifetime.died||""===e.lifetime.died)&&null!==t.lifetime.died&&""!==t.lifetime.died)return-1;if((null===t.lifetime.died||""===t.lifetime.died)&&null!==e.lifetime.died&&""!==e.lifetime.died)return 1;var n=null===(i=e.lifetime.name)||void 0===i?void 0:i.toUpperCase(),a=null===(s=t.lifetime.name)||void 0===s?void 0:s.toUpperCase();return n>a?1:a>n?-1:0}))}}),methods:{gotoSurvivor:function(e){this.$route.params.id!==e&&this.$router.push("/survivors/".concat(e))},addSurvivor:function(){var e=this;this.setLoading(!0);var t=l["h"],i=o["a"].collection("campaigns/".concat(this.campaign.id,"/survivors")).doc();i.set(t).then((function(){return e.$router.push("/survivors/".concat(i.id))})),this.setLoading(!1)},dead:function(e){return null!==e.lifetime.died&&""!==e.lifetime.died}}},c=u,v=(i("c2e1"),i("0c7c")),d=Object(v["a"])(c,s,n,!1,null,"653c797a",null);t["default"]=d.exports},"7db0":function(e,t,i){"use strict";var s=i("23e7"),n=i("b727").find,a=i("44d2"),r=i("ae40"),o="find",l=!0,u=r(o);o in[]&&Array(1)[o]((function(){l=!1})),s({target:"Array",proto:!0,forced:l||!u},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},"99af":function(e,t,i){"use strict";var s=i("23e7"),n=i("d039"),a=i("e8b5"),r=i("861d"),o=i("7b0b"),l=i("50c4"),u=i("8418"),c=i("65f0"),v=i("1dde"),d=i("b622"),p=i("2d00"),f=d("isConcatSpreadable"),m=9007199254740991,b="Maximum allowed index exceeded",h=p>=51||!n((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),g=v("concat"),y=function(e){if(!r(e))return!1;var t=e[f];return void 0!==t?!!t:a(e)},k=!h||!g;s({target:"Array",proto:!0,forced:k},{concat:function(e){var t,i,s,n,a,r=o(this),v=c(r,0),d=0;for(t=-1,s=arguments.length;t<s;t++)if(a=-1===t?r:arguments[t],y(a)){if(n=l(a.length),d+n>m)throw TypeError(b);for(i=0;i<n;i++,d++)i in a&&u(v,d,a[i])}else{if(d>=m)throw TypeError(b);u(v,d++,a)}return v.length=d,v}})},a8f0:function(e,t,i){},bc53:function(e,t,i){},c2e1:function(e,t,i){"use strict";i("bc53")},d58f:function(e,t,i){var s=i("1c0b"),n=i("7b0b"),a=i("44ad"),r=i("50c4"),o=function(e){return function(t,i,o,l){s(i);var u=n(t),c=a(u),v=r(u.length),d=e?v-1:0,p=e?-1:1;if(o<2)while(1){if(d in c){l=c[d],d+=p;break}if(d+=p,e?d<0:v<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:v>d;d+=p)d in c&&(l=i(l,c[d],d,u));return l}};e.exports={left:o(!1),right:o(!0)}}}]);
//# sourceMappingURL=survivors.937ed49c.js.map