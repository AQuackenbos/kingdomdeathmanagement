{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/views/Timeline.vue?6f9e","webpack:///./src/views/Timeline.vue?78c0","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///src/views/Timeline.vue","webpack:///./src/views/Timeline.vue?9326","webpack:///./src/views/Timeline.vue"],"names":["$","$find","find","addToUnscopables","arrayMethodUsesToLength","FIND","SKIPS_HOLES","USES_TO_LENGTH","Array","target","proto","forced","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","loading","user","campaign","staticClass","_v","_s","year","_m","_l","ly","key","id","ref","refInFor","class","current","staticStyle","on","$event","activeRow","attrs","preventDefault","changeYear","se","idx","addStoryEvent","_e","addSettlementEvent","sd","name","level","addShowdown","innovationsByYear","i","innovation","quarry","flagSuccess","model","value","callback","$$v","$set","expression","selectingQuarry","q","domProps","sQLevel","n","confirmQuarry","showEndeavors","staticRenderFns","_arrayWithHoles","arr","isArray","_iterableToArrayLimit","Symbol","iterator","Object","_arr","_n","_d","_i","next","done","push","err","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","component"],"mappings":"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","file":"js/chunk-5913dede.e255da91.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=style&index=0&id=8faaa54a&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.loading && _vm.user && _vm.campaign)?_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-12\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"Lantern Year \"+_vm._s(_vm.campaign.year))])])]),_vm._m(0),_vm._l((_vm.timeline),function(ly){return _c('div',{key:ly.id,ref:'year' + ly.id,refInFor:true,staticClass:\"columns timeline-row\",class:{ current: ly.year === _vm.campaign.year },staticStyle:{\"position\":\"relative\"},on:{\"mouseover\":function($event){_vm.activeRow = ly.id},\"focus\":function($event){_vm.activeRow = ly.id}}},[_c('div',{staticClass:\"column is-1\"},[(_vm.campaign.year !== ly.year && _vm.activeRow === ly.id)?_c('b-button',{attrs:{\"rounded\":\"\",\"type\":\"is-info\",\"icon-left\":\"calendar-check\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changeYear(ly.year)}}},[_vm._v(_vm._s(ly.year))]):_c('span',[_vm._v(_vm._s(ly.year))])],1),_c('div',{staticClass:\"column is-2\"},[_vm._l((ly.storyEvents),function(se,idx){return _c('div',{key:idx},[_c('span',{staticClass:\"bl-story-event\"}),_vm._v(\" \"+_vm._s(se)+\" \")])}),(_vm.activeRow === ly.id)?_c('span',[_c('b-button',{attrs:{\"type\":\"is-success\",\"icon-right\":\"plus\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addStoryEvent(ly.id)}}})],1):_vm._e()],2),_c('div',{staticClass:\"column is-2\"},[_vm._l((ly.settlementEvents),function(se,idx){return _c('div',{key:idx},[_c('span',{staticClass:\"bl-settlement-event\"}),_vm._v(\" \"+_vm._s(se)+\" \")])}),(_vm.activeRow === ly.id)?_c('span',[_c('b-button',{attrs:{\"type\":\"is-success\",\"icon-right\":\"plus\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addSettlementEvent(ly.id)}}})],1):_vm._e()],2),_c('div',{staticClass:\"column is-2\"},[_vm._l((ly.showdowns),function(sd,idx){return _c('div',{key:idx},[_c('span',{staticClass:\"bl-nemesis-event\"}),_vm._v(\" \"+_vm._s(sd.name)+\" \"),(sd.level > 0)?_c('span',[_vm._v(\" - Lvl \"+_vm._s(sd.level)+\" \")]):_vm._e()])}),(_vm.activeRow === ly.id)?_c('span',[_c('b-button',{attrs:{\"type\":\"is-success\",\"icon-right\":\"plus\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addShowdown(ly.id)}}})],1):_vm._e()],2),_c('div',{staticClass:\"column is-2\"},_vm._l((_vm.innovationsByYear[ly.id]),function(i){return _c('div',{key:i.id},[_c('b-icon',{attrs:{\"icon\":\"flask\",\"custom-size\":\"xs\"}}),(i.innovation)?_c('span',[_vm._v(_vm._s(i.innovation.name))]):_c('span',[_vm._v(_vm._s(i.id))])],1)}),0),_c('div',{staticClass:\"column is-2\"},[(ly.quarry)?_c('span',[_c('div',[_c('span',{staticClass:\"bl-nemesis-event\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(ly.quarry))])]),_c('b-checkbox',{attrs:{\"size\":\"is-small\",\"type\":\"is-info\"},on:{\"input\":function($event){return _vm.flagSuccess(ly.id, $event)}},model:{value:(ly.successful),callback:function ($$v) {_vm.$set(ly, \"successful\", $$v)},expression:\"ly.successful\"}},[_vm._v(\"Successful Hunt\")])],1):(_vm.activeRow === ly.id)?_c('span',[_c('b-field',[_c('b-select',{attrs:{\"placeholder\":\"Quarry\"},model:{value:(_vm.selectingQuarry),callback:function ($$v) {_vm.selectingQuarry=$$v},expression:\"selectingQuarry\"}},_vm._l((_vm.quarries),function(q){return _c('option',{key:q.id,domProps:{\"value\":q.name}},[_vm._v(_vm._s(q.name))])}),0),_c('b-select',{attrs:{\"placeholder\":\"Lv.\"},model:{value:(_vm.sQLevel),callback:function ($$v) {_vm.sQLevel=$$v},expression:\"sQLevel\"}},_vm._l(([1,2,3]),function(n){return _c('option',{key:n,domProps:{\"value\":n}},[_vm._v(_vm._s(n))])}),0),_c('b-button',{attrs:{\"type\":\"is-success\",\"icon-right\":\"plus\"},on:{\"click\":function($event){$event.preventDefault();return _vm.confirmQuarry(ly.id)}}})],1)],1):_vm._e()]),_c('div',{staticClass:\"column is-1\"},[_c('a',{staticClass:\"bl-endeavor is-size-2\",staticStyle:{\"color\":\"black\"},on:{\"click\":function($event){$event.preventDefault();return _vm.showEndeavors(ly.id)}}})])])})],2):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"columns header\"},[_c('div',{staticClass:\"column is-1\"},[_vm._v(\"Year\")]),_c('div',{staticClass:\"column is-2\"},[_vm._v(\"Story and Special Events\")]),_c('div',{staticClass:\"column is-2\"},[_vm._v(\"Settlement Event\")]),_c('div',{staticClass:\"column is-2\"},[_vm._v(\"Special Showdown\")]),_c('div',{staticClass:\"column is-2\"},[_vm._v(\"Innovated\")]),_c('div',{staticClass:\"column is-2\"},[_vm._v(\"Quarry\")]),_c('div',{staticClass:\"column is-1\"},[_vm._v(\"Endeavors\")])])}]\n\nexport { render, staticRenderFns }","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","<template>\n    <div class=\"column\" v-if=\"!loading && user && campaign\">\n        <div class=\"columns\">\n            <div class=\"column is-12\">\n                <h1 class=\"title\">Lantern Year {{ campaign.year }}</h1>\n            </div>\n        </div>\n        <div class=\"columns header\">\n            <div class=\"column is-1\">Year</div>\n            <div class=\"column is-2\">Story and Special Events</div>\n            <div class=\"column is-2\">Settlement Event</div>\n            <div class=\"column is-2\">Special Showdown</div>\n            <div class=\"column is-2\">Innovated</div>\n            <div class=\"column is-2\">Quarry</div>\n            <div class=\"column is-1\">Endeavors</div>\n        </div>\n        <div class=\"columns timeline-row\" \n            :class=\"{ current: ly.year === campaign.year }\" \n            v-for=\"ly in timeline\" \n            :key=\"ly.id\" \n            style=\"position:relative\"\n            @mouseover=\"activeRow = ly.id\"\n            @focus=\"activeRow = ly.id\"\n            :ref=\"'year' + ly.id\"\n        >\n            <div class=\"column is-1\">\n                <b-button v-if=\"campaign.year !== ly.year && activeRow === ly.id\" rounded type=\"is-info\" icon-left=\"calendar-check\" @click.prevent=\"changeYear(ly.year)\">{{ ly.year }}</b-button>\n                <span v-else>{{ly.year}}</span>\n            </div>\n            <div class=\"column is-2\">\n                <div v-for=\"(se,idx) in ly.storyEvents\" :key=\"idx\">\n                    <span class=\"bl-story-event\" />&nbsp;\n                    {{ se }}\n                </div>\n                <span v-if=\"activeRow === ly.id\">\n                    <b-button type=\"is-success\" icon-right=\"plus\" @click.prevent=\"addStoryEvent(ly.id)\" />\n                </span>\n            </div>\n            <div class=\"column is-2\">\n                <div v-for=\"(se,idx) in ly.settlementEvents\" :key=\"idx\">\n                    <span class=\"bl-settlement-event\" />&nbsp;\n                    {{ se }}\n                </div>\n                <span v-if=\"activeRow === ly.id\">\n                    <b-button type=\"is-success\" icon-right=\"plus\" @click.prevent=\"addSettlementEvent(ly.id)\" />\n                </span>\n            </div>\n            <div class=\"column is-2\">\n                <div v-for=\"(sd,idx) in ly.showdowns\" :key=\"idx\">\n                        <span class=\"bl-nemesis-event\" />&nbsp;\n                    {{ sd.name }}\n                    <span v-if=\"sd.level > 0\">\n                    - Lvl {{ sd.level }}\n                    </span>\n                </div>\n                <span v-if=\"activeRow === ly.id\">\n                    <b-button type=\"is-success\" icon-right=\"plus\" @click.prevent=\"addShowdown(ly.id)\" />\n                </span>\n            </div>\n            <div class=\"column is-2\">\n                <div v-for=\"i in innovationsByYear[ly.id]\" :key=\"i.id\">\n                    <b-icon icon=\"flask\" custom-size=\"xs\" />\n                    <span v-if=\"i.innovation\">{{ i.innovation.name }}</span>\n                    <span v-else>{{ i.id }}</span>\n                </div>\n            </div>\n            <div class=\"column is-2\">\n                <span v-if=\"ly.quarry\">\n                    <div>\n                        <span class=\"bl-nemesis-event\" />&nbsp;\n                        <span>{{ ly.quarry }}</span>\n                    </div>\n                    <b-checkbox size=\"is-small\" v-model=\"ly.successful\" type=\"is-info\" @input=\"flagSuccess(ly.id, $event)\">Successful Hunt</b-checkbox>\n                </span>\n                <span v-else-if=\"activeRow === ly.id\">\n                    <b-field>\n                        <b-select placeholder=\"Quarry\" v-model=\"selectingQuarry\">\n                            <option v-for=\"q in quarries\" :key=\"q.id\" :value=\"q.name\">{{ q.name }}</option>\n                        </b-select>\n                        <b-select placeholder=\"Lv.\" v-model=\"sQLevel\">\n                            <option v-for=\"n in [1,2,3]\" :key=\"n\" :value=\"n\">{{ n }}</option>\n                        </b-select>\n                        <b-button type=\"is-success\" icon-right=\"plus\" @click.prevent=\"confirmQuarry(ly.id)\" />\n                    </b-field>\n                </span>\n            </div>\n            <div class=\"column is-1\">\n                <a @click.prevent=\"showEndeavors(ly.id)\" class=\"bl-endeavor is-size-2\" style=\"color:black\" />\n            </div>\n        </div>\n    </div>\n</template>\n\n<style scoped lang=\"scss\">\n.header .is-2,\n.header .is-3,\n.timeline-row .is-2, \n.timeline-row .is-3 {\n  text-align: left\n}\n\nbutton.circle-icon {\n    padding: 0.5em 1em;\n}\n\n.header {\n  font-weight: bold\n}\n\n.header, .timeline-row {\n    border-bottom: 1px solid #dbdbdb;\n    min-height: 4em;\n}\n\n.timeline-row:hover {\n    box-shadow: inset 0 0 2px #7957d5, inset 0 0 2px #7957d5, inset 0 0 2px #7957d5\n}\n\n.timeline-row:nth-child(even) {\n    background: #f3f3f3;\n}\n\n.timeline-row.current {\n    border: 1px solid black\n}\n\n</style>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport { firebase, db } from '@/firebase'\n\nexport default {\n    name: 'Timeline',\n    data() {\n        return {\n            campaign: null,\n            timeline: [],\n            allQuarries: [],\n            activeRow: null,\n            loadingComponents: {},\n            selectingQuarry: null,\n            innovations: [],\n            sQLevel: null\n        }\n    },\n    computed: {\n        ...mapGetters({\n            loading: 'loading',\n            user: 'user',\n            currentCampaign: 'currentCampaign'\n        }),\n        \n        quarries() {\n            return this.allQuarries.filter(q => {\n                return this.campaign.quarries.includes(q.id)\n            })\n        },\n        \n        innovationsByYear() {\n            if(!this.innovations) return []\n        \n            let years = this.innovations.map(i => i.year).filter((v,i,s) => s.indexOf(v) === i && v !== null)\n            let innos = {}\n            years.forEach(y => {\n                if(!(y in innos)) innos[y.toString()] = []\n                this.innovations.filter(i => i.year === y).forEach(i => {\n                    i.innovation = this.allInnovations.find(inno => i.id === inno.id)\n                    innos[y.toString()].push(i)\n                })\n            })\n            \n            return innos\n        }\n    },\n    created() {\n        this.$bind('campaign', db.collection('campaigns').doc(this.currentCampaign))\n        this.$bind('timeline', db.collection(`campaigns/${this.currentCampaign}/timeline`).orderBy('year', 'asc'))\n        this.$bind('allInnovations', db.collection('innovations'))\n        this.$bind('allQuarries', db.collection('quarries'))\n        this.$bind('innovations', db.collection(`campaigns/${this.currentCampaign}/innovations`))\n    },\n    methods: {    \n        setYearLoading(year, loading) {\n            if(!this.loadingComponents[year] && loading) {\n                this.loadingComponents[year] = this.$buefy.loading.open({\n                    container: this.$refs['year'+year][0]\n                })\n                return\n            }\n            \n            if(!loading) {\n                this.loadingComponents[year].close()\n                delete this.loadingComponents[year]\n            }\n        },\n        \n        addStoryEvent(year) {\n            this.$buefy.dialog.prompt({\n                message: 'Add Story Event to Lantern Year '+year+':',\n                inputAttrs: {\n                    required: true\n                },\n                trapFocus: true,\n                onConfirm: (ev) => {\n                    this.setYearLoading(year, true)\n                    db.collection(`campaigns/${this.currentCampaign}/timeline`).doc(year.toString()).update({\n                        storyEvents: firebase.firestore.FieldValue.arrayUnion(ev)\n                    }).then(() => {\n                        this.setYearLoading(year, false)\n                    })\n                }\n            })\n        },\n        \n        addSettlementEvent(year) {\n            this.$buefy.dialog.prompt({\n                message: 'Add Settlement Event to Lantern Year '+year+':',\n                inputAttrs: {\n                    required: true\n                },\n                trapFocus: true,\n                onConfirm: (ev) => {\n                    this.setYearLoading(year, true)\n                    db.collection(`campaigns/${this.currentCampaign}/timeline`).doc(year.toString()).update({\n                        settlementEvents: firebase.firestore.FieldValue.arrayUnion(ev)\n                    }).then(() => {\n                        this.setYearLoading(year, false)\n                    })\n                }\n            })\n        },\n        \n        addShowdown(year) {\n            this.$buefy.dialog.prompt({\n                message: 'Add Showdown to Lantern Year '+year+': <p class=\"is-size-7\">You can include a level separated by a colon (\":\").</p>',\n                inputAttrs: {\n                    required: true\n                },\n                trapFocus: true,\n                onConfirm: (sd) => {\n                    this.setYearLoading(year, true)\n                    let [name, level] = sd.trim().split(':')\n                    if(!level) level = 0\n                    \n                    db.collection(`campaigns/${this.currentCampaign}/timeline`).doc(year.toString()).update({\n                        showdowns: firebase.firestore.FieldValue.arrayUnion({\n                            name: name,\n                            level: level\n                        })\n                    }).then(() => {\n                        this.setYearLoading(year, false)\n                    })\n                }\n            })\n        },\n        \n        confirmQuarry(year) {\n            this.setYearLoading(year, true)\n            db.collection(`campaigns/${this.currentCampaign}/timeline`).doc(year.toString()).update({\n                quarry: this.selectingQuarry + ' Lv. ' + this.sQLevel\n            }).then(() => {\n                this.selectingQuarry = null\n                this.sQLevel = null\n                this.setYearLoading(year, false)\n            })\n        },\n        \n        flagSuccess(year, ref) {\n            this.setYearLoading(year, true)\n            db.collection(`campaigns/${this.currentCampaign}/timeline`).doc(year.toString()).update({\n                successful: ref\n            }).then(() => {\n                this.setYearLoading(year, false)\n            })\n        },\n        \n        changeYear(year) {\n            this.$buefy.dialog.confirm({\n                message: 'Change to Lantern Year '+year+'?',\n                onConfirm: () => {\n                    db.collection('campaigns').doc(this.currentCampaign).update({\n                        year: year\n                    })\n                }\n            })\n        },\n        \n        showEndeavors(year) {\n            let iconHtml = '<button data-v-e945440a=\"\" type=\"button\" class=\"button is-small circle-icon is-black is-rounded disabled\"><span class=\"icon is-small\"><svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"asterisk\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" class=\"svg-inline--fa fa-asterisk fa-w-16 fa-1x\"><path fill=\"currentColor\" d=\"M478.21 334.093L336 256l142.21-78.093c11.795-6.477 15.961-21.384 9.232-33.037l-19.48-33.741c-6.728-11.653-21.72-15.499-33.227-8.523L296 186.718l3.475-162.204C299.763 11.061 288.937 0 275.48 0h-38.96c-13.456 0-24.283 11.061-23.994 24.514L216 186.718 77.265 102.607c-11.506-6.976-26.499-3.13-33.227 8.523l-19.48 33.741c-6.728 11.653-2.562 26.56 9.233 33.037L176 256 33.79 334.093c-11.795 6.477-15.961 21.384-9.232 33.037l19.48 33.741c6.728 11.653 21.721 15.499 33.227 8.523L216 325.282l-3.475 162.204C212.237 500.939 223.064 512 236.52 512h38.961c13.456 0 24.283-11.061 23.995-24.514L296 325.282l138.735 84.111c11.506 6.976 26.499 3.13 33.227-8.523l19.48-33.741c6.728-11.653 2.563-26.559-9.232-33.036z\" class=\"\"></path></svg></span></button>'\n            let currYear = this.timeline[year]\n            currYear;\n            let endeavorsSpent = currYear.endeavors\n            \n            let alertHtml = ''\n            if(endeavorsSpent?.length) {\n                alertHtml = endeavorsSpent.map(e => {\n                    return '<p class=\"content\">' + iconHtml + ' ' + e + '</p>'\n                }).join('<hr />')\n            } else {\n                alertHtml = '<p>No Endeavors spent this lantern year.</p>'\n            }\n            \n            this.$buefy.dialog.alert({\n                title: 'Endeavors Spent',\n                message: `${alertHtml}`,\n                confirmText: 'OK'\n            })\n        }\n    }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Timeline.vue?vue&type=template&id=8faaa54a&scoped=true&\"\nimport script from \"./Timeline.vue?vue&type=script&lang=js&\"\nexport * from \"./Timeline.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Timeline.vue?vue&type=style&index=0&id=8faaa54a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8faaa54a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}